import{$ as ae,$a as bl,A as St,Aa as Il,B as bg,Ba as Mg,C as fl,Da as ze,E as Xn,Ea as Ys,F as ki,G as Fr,Ga as Fg,H as pl,Ha as Lg,I as Ni,Ia as Ja,J as Tg,K as Oi,L as Zn,M as gl,N as Ag,O as Dg,Oa as Vg,P as Sg,Q as Ct,R as Cg,S as $e,T as Me,U as Rg,W as oe,X as Ut,Xa as Ug,Y as Pg,Ya as Js,Z as Ee,Za as Bg,_ as ml,_a as Xa,a as G,aa as W,ab as Tl,b as Qe,ba as ft,bb as Za,c as aE,ca as Hs,cb as Al,db as Xs,e as Yn,ea as kg,eb as jg,f as b,fa as Bt,fb as $g,g as yg,ga as Ks,h as vg,ha as Qs,i as Gs,j as al,ja as Ng,k as cl,ka as xi,l as Mr,la as Dn,m as Dt,ma as yl,n as wg,na as vl,o as _g,oa as Sn,p as Jn,pa as wl,q as ul,r as ll,ra as Lr,s as hl,sa as Og,t as vt,ta as _l,u as J,ua as xg,v as Ws,va as Xt,w as Eg,wa as El,x as Ig,xa as Mi,y as ve,z as dl,za as Vr}from"./chunk-7K466J6D.js";var oR=aE((pn,Hp)=>{"use strict";(function(n,e){typeof pn=="object"&&typeof Hp<"u"?Hp.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(pn,function(){"use strict";function n(m,c,l){if(typeof m=="function"?m===c:m.has(c))return arguments.length<3?c:l;throw new TypeError("Private element is not present on this object")}function e(m,c,l){return c=L(c),$(m,s()?Reflect.construct(c,l||[],L(m).constructor):c.apply(m,l))}function t(m,c){return m.get(n(m,c))}function r(m,c,l){return m.set(n(m,c),l),l}function i(m,c,l){if(s())return Reflect.construct.apply(null,arguments);var g=[null];g.push.apply(g,c);var w=new(m.bind.apply(m,g));return l&&B(w,l.prototype),w}function s(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s=function(){return!!m})()}function a(m,c){var l=m==null?null:typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(l!=null){var g,w,x,j,se=[],ce=!0,Ce=!1;try{if(x=(l=l.call(m)).next,c===0){if(Object(l)!==l)return;ce=!1}else for(;!(ce=(g=x.call(l)).done)&&(se.push(g.value),se.length!==c);ce=!0);}catch(qs){Ce=!0,w=qs}finally{try{if(!ce&&l.return!=null&&(j=l.return(),Object(j)!==j))return}finally{if(Ce)throw w}}return se}}function u(m,c){if(typeof m!="object"||!m)return m;var l=m[Symbol.toPrimitive];if(l!==void 0){var g=l.call(m,c||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(m)}function d(m){var c=u(m,"string");return typeof c=="symbol"?c:c+""}function f(m){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},f(m)}function v(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function T(m,c){for(var l=0;l<c.length;l++){var g=c[l];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,d(g.key),g)}}function A(m,c,l){return c&&T(m.prototype,c),l&&T(m,l),Object.defineProperty(m,"prototype",{writable:!1}),m}function O(m,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),c&&B(m,c)}function L(m){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},L(m)}function B(m,c){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,w){return g.__proto__=w,g},B(m,c)}function M(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function $(m,c){if(c&&(typeof c=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(m)}function Y(m,c){for(;!Object.prototype.hasOwnProperty.call(m,c)&&(m=L(m),m!==null););return m}function Z(){return typeof Reflect<"u"&&Reflect.get?Z=Reflect.get.bind():Z=function(c,l,g){var w=Y(c,l);if(w){var x=Object.getOwnPropertyDescriptor(w,l);return x.get?x.get.call(arguments.length<3?c:g):x.value}},Z.apply(this,arguments)}function ee(m,c){return S(m)||a(m,c)||E(m,c)||P()}function Ne(m){return pe(m)||_(m)||E(m)||C()}function pe(m){if(Array.isArray(m))return D(m)}function S(m){if(Array.isArray(m))return m}function _(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}function E(m,c){if(m){if(typeof m=="string")return D(m,c);var l=Object.prototype.toString.call(m).slice(8,-1);if(l==="Object"&&m.constructor&&(l=m.constructor.name),l==="Map"||l==="Set")return Array.from(m);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return D(m,c)}}function D(m,c){(c==null||c>m.length)&&(c=m.length);for(var l=0,g=new Array(c);l<c;l++)g[l]=m[l];return g}function C(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I(m,c){if(c.has(m))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ot(m,c,l){I(m,c),c.set(m,l)}var yr=100,ne={},vr=function(){ne.previousActiveElement instanceof HTMLElement?(ne.previousActiveElement.focus(),ne.previousActiveElement=null):document.body&&document.body.focus()},wr=function(c){return new Promise(function(l){if(!c)return l();var g=window.scrollX,w=window.scrollY;ne.restoreFocusTimeout=setTimeout(function(){vr(),l()},yr),window.scrollTo(g,w)})},di="swal2-",oa=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],N=oa.reduce(function(m,c){return m[c]=di+c,m},{}),zt=["success","warning","info","question","error"],Oe=zt.reduce(function(m,c){return m[c]=di+c,m},{}),aa="SweetAlert2:",gn=function(c){return c.charAt(0).toUpperCase()+c.slice(1)},Ze=function(c){console.warn("".concat(aa," ").concat(f(c)==="object"?c.join(" "):c))},mt=function(c){console.error("".concat(aa," ").concat(c))},ca=[],qu=function(c){ca.includes(c)||(ca.push(c),Ze(c))},fi=function(c,l){qu('"'.concat(c,'" is deprecated and will be removed in the next major release. Please use "').concat(l,'" instead.'))},mn=function(c){return typeof c=="function"?c():c},_r=function(c){return c&&typeof c.toPromise=="function"},yn=function(c){return _r(c)?c.toPromise():Promise.resolve(c)},Er=function(c){return c&&Promise.resolve(c)===c},Ke=function(){return document.body.querySelector(".".concat(N.container))},Vn=function(c){var l=Ke();return l?l.querySelector(c):null},et=function(c){return Vn(".".concat(c))},ge=function(){return et(N.popup)},Un=function(){return et(N.icon)},ua=function(){return et(N["icon-content"])},pi=function(){return et(N.title)},gi=function(){return et(N["html-container"])},la=function(){return et(N.image)},Ir=function(){return et(N["progress-steps"])},Bn=function(){return et(N["validation-message"])},lt=function(){return Vn(".".concat(N.actions," .").concat(N.confirm))},De=function(){return Vn(".".concat(N.actions," .").concat(N.cancel))},Se=function(){return Vn(".".concat(N.actions," .").concat(N.deny))},mi=function(){return et(N["input-label"])},vn=function(){return Vn(".".concat(N.loader))},jn=function(){return et(N.actions)},ha=function(){return et(N.footer)},qt=function(){return et(N["timer-progress-bar"])},yi=function(){return et(N.close)},da=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,br=function(){var c=ge();if(!c)return[];var l=c.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),g=Array.from(l).sort(function(j,se){var ce=parseInt(j.getAttribute("tabindex")||"0"),Ce=parseInt(se.getAttribute("tabindex")||"0");return ce>Ce?1:ce<Ce?-1:0}),w=c.querySelectorAll(da),x=Array.from(w).filter(function(j){return j.getAttribute("tabindex")!=="-1"});return Ne(new Set(g.concat(x))).filter(function(j){return ot(j)})},Rs=function(){return Tt(document.body,N.shown)&&!Tt(document.body,N["toast-shown"])&&!Tt(document.body,N["no-backdrop"])},vi=function(){var c=ge();return c?Tt(c,N.toast):!1},Ps=function(){var c=ge();return c?c.hasAttribute("data-loading"):!1},tt=function(c,l){if(c.textContent="",l){var g=new DOMParser,w=g.parseFromString(l,"text/html"),x=w.querySelector("head");x&&Array.from(x.childNodes).forEach(function(se){c.appendChild(se)});var j=w.querySelector("body");j&&Array.from(j.childNodes).forEach(function(se){se instanceof HTMLVideoElement||se instanceof HTMLAudioElement?c.appendChild(se.cloneNode(!0)):c.appendChild(se)})}},Tt=function(c,l){if(!l)return!1;for(var g=l.split(/\s+/),w=0;w<g.length;w++)if(!c.classList.contains(g[w]))return!1;return!0},Tr=function(c,l){Array.from(c.classList).forEach(function(g){!Object.values(N).includes(g)&&!Object.values(Oe).includes(g)&&!Object.values(l.showClass||{}).includes(g)&&c.classList.remove(g)})},nt=function(c,l,g){if(Tr(c,l),l.customClass&&l.customClass[g]){if(typeof l.customClass[g]!="string"&&!l.customClass[g].forEach){Ze("Invalid type of customClass.".concat(g,'! Expected string or iterable object, got "').concat(f(l.customClass[g]),'"'));return}ie(c,l.customClass[g])}},$n=function(c,l){if(!l)return null;switch(l){case"select":case"textarea":case"file":return c.querySelector(".".concat(N.popup," > .").concat(N[l]));case"checkbox":return c.querySelector(".".concat(N.popup," > .").concat(N.checkbox," input"));case"radio":return c.querySelector(".".concat(N.popup," > .").concat(N.radio," input:checked"))||c.querySelector(".".concat(N.popup," > .").concat(N.radio," input:first-child"));case"range":return c.querySelector(".".concat(N.popup," > .").concat(N.range," input"));default:return c.querySelector(".".concat(N.popup," > .").concat(N.input))}},Gt=function(c){if(c.focus(),c.type!=="file"){var l=c.value;c.value="",c.value=l}},ks=function(c,l,g){!c||!l||(typeof l=="string"&&(l=l.split(/\s+/).filter(Boolean)),l.forEach(function(w){Array.isArray(c)?c.forEach(function(x){g?x.classList.add(w):x.classList.remove(w)}):g?c.classList.add(w):c.classList.remove(w)}))},ie=function(c,l){ks(c,l,!0)},yt=function(c,l){ks(c,l,!1)},ht=function(c,l){for(var g=Array.from(c.children),w=0;w<g.length;w++){var x=g[w];if(x instanceof HTMLElement&&Tt(x,l))return x}},Wt=function(c,l,g){g==="".concat(parseInt(g))&&(g=parseInt(g)),g||parseInt(g)===0?c.style.setProperty(l,typeof g=="number"?"".concat(g,"px"):g):c.style.removeProperty(l)},de=function(c){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";c&&(c.style.display=l)},Ve=function(c){c&&(c.style.display="none")},wn=function(c){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";c&&new MutationObserver(function(){Ar(c,c.innerHTML,l)}).observe(c,{childList:!0,subtree:!0})},zn=function(c,l,g,w){var x=c.querySelector(l);x&&x.style.setProperty(g,w)},Ar=function(c,l){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";l?de(c,g):Ve(c)},ot=function(c){return!!(c&&(c.offsetWidth||c.offsetHeight||c.getClientRects().length))},qn=function(){return!ot(lt())&&!ot(Se())&&!ot(De())},fa=function(c){return c.scrollHeight>c.clientHeight},pa=function(c){var l=window.getComputedStyle(c),g=parseFloat(l.getPropertyValue("animation-duration")||"0"),w=parseFloat(l.getPropertyValue("transition-duration")||"0");return g>0||w>0},Gn=function(c){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=qt();g&&ot(g)&&(l&&(g.style.transition="none",g.style.width="100%"),setTimeout(function(){g.style.transition="width ".concat(c/1e3,"s linear"),g.style.width="0%"},10))},ga=function(){var c=qt();if(c){var l=parseInt(window.getComputedStyle(c).width);c.style.removeProperty("transition"),c.style.width="100%";var g=parseInt(window.getComputedStyle(c).width),w=l/g*100;c.style.width="".concat(w,"%")}},wi=function(){return typeof window>"u"||typeof document>"u"},_i=`
 <div aria-labelledby="`.concat(N.title,'" aria-describedby="').concat(N["html-container"],'" class="').concat(N.popup,`" tabindex="-1">
   <button type="button" class="`).concat(N.close,`"></button>
   <ul class="`).concat(N["progress-steps"],`"></ul>
   <div class="`).concat(N.icon,`"></div>
   <img class="`).concat(N.image,`" />
   <h2 class="`).concat(N.title,'" id="').concat(N.title,`"></h2>
   <div class="`).concat(N["html-container"],'" id="').concat(N["html-container"],`"></div>
   <input class="`).concat(N.input,'" id="').concat(N.input,`" />
   <input type="file" class="`).concat(N.file,`" />
   <div class="`).concat(N.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(N.select,'" id="').concat(N.select,`"></select>
   <div class="`).concat(N.radio,`"></div>
   <label class="`).concat(N.checkbox,`">
     <input type="checkbox" id="`).concat(N.checkbox,`" />
     <span class="`).concat(N.label,`"></span>
   </label>
   <textarea class="`).concat(N.textarea,'" id="').concat(N.textarea,`"></textarea>
   <div class="`).concat(N["validation-message"],'" id="').concat(N["validation-message"],`"></div>
   <div class="`).concat(N.actions,`">
     <div class="`).concat(N.loader,`"></div>
     <button type="button" class="`).concat(N.confirm,`"></button>
     <button type="button" class="`).concat(N.deny,`"></button>
     <button type="button" class="`).concat(N.cancel,`"></button>
   </div>
   <div class="`).concat(N.footer,`"></div>
   <div class="`).concat(N["timer-progress-bar-container"],`">
     <div class="`).concat(N["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Ht=function(){var c=Ke();return c?(c.remove(),yt([document.documentElement,document.body],[N["no-backdrop"],N["toast-shown"],N["has-column"]]),!0):!1},Kt=function(){ne.currentInstance.resetValidationMessage()},ma=function(){var c=ge(),l=ht(c,N.input),g=ht(c,N.file),w=c.querySelector(".".concat(N.range," input")),x=c.querySelector(".".concat(N.range," output")),j=ht(c,N.select),se=c.querySelector(".".concat(N.checkbox," input")),ce=ht(c,N.textarea);l.oninput=Kt,g.onchange=Kt,j.onchange=Kt,se.onchange=Kt,ce.oninput=Kt,w.oninput=function(){Kt(),x.value=w.value},w.onchange=function(){Kt(),x.value=w.value}},Ns=function(c){return typeof c=="string"?document.querySelector(c):c},Os=function(c){var l=ge();l.setAttribute("role",c.toast?"alert":"dialog"),l.setAttribute("aria-live",c.toast?"polite":"assertive"),c.toast||l.setAttribute("aria-modal","true")},ya=function(c){window.getComputedStyle(c).direction==="rtl"&&ie(Ke(),N.rtl)},va=function(c){var l=Ht();if(wi()){mt("SweetAlert2 requires document to initialize");return}var g=document.createElement("div");g.className=N.container,l&&ie(g,N["no-transition"]),tt(g,_i);var w=Ns(c.target);w.appendChild(g),Os(c),ya(w),ma()},xs=function(c,l){c instanceof HTMLElement?l.appendChild(c):f(c)==="object"?Ei(c,l):c&&tt(l,c)},Ei=function(c,l){c.jquery?wa(l,c):tt(l,c.toString())},wa=function(c,l){if(c.textContent="",0 in l)for(var g=0;g in l;g++)c.appendChild(l[g].cloneNode(!0));else c.appendChild(l.cloneNode(!0))},xt=function(){if(wi())return!1;var m=document.createElement("div");return typeof m.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof m.style.animation<"u"?"animationend":!1}(),Dr=function(c,l){var g=jn(),w=vn();!g||!w||(!l.showConfirmButton&&!l.showDenyButton&&!l.showCancelButton?Ve(g):de(g),nt(g,l,"actions"),_n(g,w,l),tt(w,l.loaderHtml||""),nt(w,l,"loader"))};function _n(m,c,l){var g=lt(),w=Se(),x=De();!g||!w||!x||(Fs(g,"confirm",l),Fs(w,"deny",l),Fs(x,"cancel",l),Ms(g,w,x,l),l.reverseButtons&&(l.toast?(m.insertBefore(x,g),m.insertBefore(w,g)):(m.insertBefore(x,c),m.insertBefore(w,c),m.insertBefore(g,c))))}function Ms(m,c,l,g){if(!g.buttonsStyling){yt([m,c,l],N.styled);return}ie([m,c,l],N.styled),g.confirmButtonColor&&(m.style.backgroundColor=g.confirmButtonColor,ie(m,N["default-outline"])),g.denyButtonColor&&(c.style.backgroundColor=g.denyButtonColor,ie(c,N["default-outline"])),g.cancelButtonColor&&(l.style.backgroundColor=g.cancelButtonColor,ie(l,N["default-outline"]))}function Fs(m,c,l){var g=gn(c);Ar(m,l["show".concat(g,"Button")],"inline-block"),tt(m,l["".concat(c,"ButtonText")]||""),m.setAttribute("aria-label",l["".concat(c,"ButtonAriaLabel")]||""),m.className=N[c],nt(m,l,"".concat(c,"Button"))}var _a=function(c,l){var g=yi();g&&(tt(g,l.closeButtonHtml||""),nt(g,l,"closeButton"),Ar(g,l.showCloseButton),g.setAttribute("aria-label",l.closeButtonAriaLabel||""))},Ea=function(c,l){var g=Ke();g&&(Ia(g,l.backdrop),Ls(g,l.position),Vs(g,l.grow),nt(g,l,"container"))};function Ia(m,c){typeof c=="string"?m.style.background=c:c||ie([document.documentElement,document.body],N["no-backdrop"])}function Ls(m,c){c&&(c in N?ie(m,N[c]):(Ze('The "position" parameter is not valid, defaulting to "center"'),ie(m,N.center)))}function Vs(m,c){c&&ie(m,N["grow-".concat(c)])}var _e={innerParams:new WeakMap,domCache:new WeakMap},ba=["input","file","range","select","radio","checkbox","textarea"],Gu=function(c,l){var g=ge();if(g){var w=_e.innerParams.get(c),x=!w||l.input!==w.input;ba.forEach(function(j){var se=ht(g,N[j]);se&&(Aa(j,l.inputAttributes),se.className=N[j],x&&Ve(se))}),l.input&&(x&&Wu(l),Hu(l))}},Wu=function(c){if(c.input){if(!Te[c.input]){mt("Unexpected type of input! Expected ".concat(Object.keys(Te).join(" | "),', got "').concat(c.input,'"'));return}var l=Sr(c.input),g=Te[c.input](l,c);de(l),c.inputAutoFocus&&setTimeout(function(){Gt(g)})}},Ta=function(c){for(var l=0;l<c.attributes.length;l++){var g=c.attributes[l].name;["id","type","value","style"].includes(g)||c.removeAttribute(g)}},Aa=function(c,l){var g=$n(ge(),c);if(g){Ta(g);for(var w in l)g.setAttribute(w,l[w])}},Hu=function(c){var l=Sr(c.input);f(c.customClass)==="object"&&ie(l,c.customClass.input)},Mt=function(c,l){(!c.placeholder||l.inputPlaceholder)&&(c.placeholder=l.inputPlaceholder)},at=function(c,l,g){if(g.inputLabel){var w=document.createElement("label"),x=N["input-label"];w.setAttribute("for",c.id),w.className=x,f(g.customClass)==="object"&&ie(w,g.customClass.inputLabel),w.innerText=g.inputLabel,l.insertAdjacentElement("beforebegin",w)}},Sr=function(c){return ht(ge(),N[c]||N.input)},En=function(c,l){["string","number"].includes(f(l))?c.value="".concat(l):Er(l)||Ze('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(f(l),'"'))},Te={};Te.text=Te.email=Te.password=Te.number=Te.tel=Te.url=Te.search=Te.date=Te["datetime-local"]=Te.time=Te.week=Te.month=function(m,c){return En(m,c.inputValue),at(m,m,c),Mt(m,c),m.type=c.input,m},Te.file=function(m,c){return at(m,m,c),Mt(m,c),m},Te.range=function(m,c){var l=m.querySelector("input"),g=m.querySelector("output");return En(l,c.inputValue),l.type=c.input,En(g,c.inputValue),at(l,m,c),m},Te.select=function(m,c){if(m.textContent="",c.inputPlaceholder){var l=document.createElement("option");tt(l,c.inputPlaceholder),l.value="",l.disabled=!0,l.selected=!0,m.appendChild(l)}return at(m,m,c),m},Te.radio=function(m){return m.textContent="",m},Te.checkbox=function(m,c){var l=$n(ge(),"checkbox");l.value="1",l.checked=!!c.inputValue;var g=m.querySelector("span");return tt(g,c.inputPlaceholder),l},Te.textarea=function(m,c){En(m,c.inputValue),Mt(m,c),at(m,m,c);var l=function(w){return parseInt(window.getComputedStyle(w).marginLeft)+parseInt(window.getComputedStyle(w).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var g=parseInt(window.getComputedStyle(ge()).width),w=function(){if(document.body.contains(m)){var j=m.offsetWidth+l(m);j>g?ge().style.width="".concat(j,"px"):Wt(ge(),"width",c.width)}};new MutationObserver(w).observe(m,{attributes:!0,attributeFilter:["style"]})}}),m};var Ie=function(c,l){var g=gi();g&&(wn(g),nt(g,l,"htmlContainer"),l.html?(xs(l.html,g),de(g,"block")):l.text?(g.textContent=l.text,de(g,"block")):Ve(g),Gu(c,l))},Ii=function(c,l){var g=ha();g&&(wn(g),Ar(g,l.footer,"block"),l.footer&&xs(l.footer,g),nt(g,l,"footer"))},Cr=function(c,l){var g=_e.innerParams.get(c),w=Un();if(w){if(g&&l.icon===g.icon){Sa(w,l),Wn(w,l);return}if(!l.icon&&!l.iconHtml){Ve(w);return}if(l.icon&&Object.keys(Oe).indexOf(l.icon)===-1){mt('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(l.icon,'"')),Ve(w);return}de(w),Sa(w,l),Wn(w,l),ie(w,l.showClass&&l.showClass.icon)}},Wn=function(c,l){for(var g=0,w=Object.entries(Oe);g<w.length;g++){var x=ee(w[g],2),j=x[0],se=x[1];l.icon!==j&&yt(c,se)}ie(c,l.icon&&Oe[l.icon]),Yu(c,l),Ku(),nt(c,l,"icon")},Ku=function(){var c=ge();if(c)for(var l=window.getComputedStyle(c).getPropertyValue("background-color"),g=c.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),w=0;w<g.length;w++)g[w].style.backgroundColor=l},Da=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Qu=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Sa=function(c,l){if(!(!l.icon&&!l.iconHtml)){var g=c.innerHTML,w="";if(l.iconHtml)w=Ca(l.iconHtml);else if(l.icon==="success")w=Da,g=g.replace(/ style=".*?"/g,"");else if(l.icon==="error")w=Qu;else if(l.icon){var x={question:"?",warning:"!",info:"i"};w=Ca(x[l.icon])}g.trim()!==w.trim()&&tt(c,w)}},Yu=function(c,l){if(l.iconColor){c.style.color=l.iconColor,c.style.borderColor=l.iconColor;for(var g=0,w=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];g<w.length;g++){var x=w[g];zn(c,x,"background-color",l.iconColor)}zn(c,".swal2-success-ring","border-color",l.iconColor)}},Ca=function(c){return'<div class="'.concat(N["icon-content"],'">').concat(c,"</div>")},Rr=function(c,l){var g=la();if(g){if(!l.imageUrl){Ve(g);return}de(g,""),g.setAttribute("src",l.imageUrl),g.setAttribute("alt",l.imageAlt||""),Wt(g,"width",l.imageWidth),Wt(g,"height",l.imageHeight),g.className=N.image,nt(g,l,"image")}},Qt=function(c,l){var g=Ke(),w=ge();if(!(!g||!w)){if(l.toast){Wt(g,"width",l.width),w.style.width="100%";var x=vn();x&&w.insertBefore(x,Un())}else Wt(w,"width",l.width);Wt(w,"padding",l.padding),l.color&&(w.style.color=l.color),l.background&&(w.style.background=l.background),Ve(Bn()),Ra(w,l)}},Ra=function(c,l){var g=l.showClass||{};c.className="".concat(N.popup," ").concat(ot(c)?g.popup:""),l.toast?(ie([document.documentElement,document.body],N["toast-shown"]),ie(c,N.toast)):ie(c,N.modal),nt(c,l,"popup"),typeof l.customClass=="string"&&ie(c,l.customClass),l.icon&&ie(c,N["icon-".concat(l.icon)])},Pa=function(c,l){var g=Ir();if(g){var w=l.progressSteps,x=l.currentProgressStep;if(!w||w.length===0||x===void 0){Ve(g);return}de(g),g.textContent="",x>=w.length&&Ze("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),w.forEach(function(j,se){var ce=ka(j);if(g.appendChild(ce),se===x&&ie(ce,N["active-progress-step"]),se!==w.length-1){var Ce=Hn(l);g.appendChild(Ce)}})}},ka=function(c){var l=document.createElement("li");return ie(l,N["progress-step"]),tt(l,c),l},Hn=function(c){var l=document.createElement("li");return ie(l,N["progress-step-line"]),c.progressStepsDistance&&Wt(l,"width",c.progressStepsDistance),l},Ju=function(c,l){var g=pi();g&&(wn(g),Ar(g,l.title||l.titleText,"block"),l.title&&xs(l.title,g),l.titleText&&(g.innerText=l.titleText),nt(g,l,"title"))},Na=function(c,l){Qt(c,l),Ea(c,l),Pa(c,l),Cr(c,l),Rr(c,l),Ju(c,l),_a(c,l),Ie(c,l),Dr(c,l),Ii(c,l);var g=ge();typeof l.didRender=="function"&&g&&l.didRender(g)},Xu=function(){return ot(ge())},Ft=function(){var c;return(c=lt())===null||c===void 0?void 0:c.click()},Zu=function(){var c;return(c=Se())===null||c===void 0?void 0:c.click()},el=function(){var c;return(c=De())===null||c===void 0?void 0:c.click()},At=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Pr=function(c){c.keydownTarget&&c.keydownHandlerAdded&&(c.keydownTarget.removeEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!1)},Oa=function(c,l,g){Pr(c),l.toast||(c.keydownHandler=function(w){return Us(l,w,g)},c.keydownTarget=l.keydownListenerCapture?window:ge(),c.keydownListenerCapture=l.keydownListenerCapture,c.keydownTarget.addEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!0)},In=function(c,l){var g,w=br();if(w.length){c=c+l,c===w.length?c=0:c===-1&&(c=w.length-1),w[c].focus();return}(g=ge())===null||g===void 0||g.focus()},Kn=["ArrowRight","ArrowDown"],xa=["ArrowLeft","ArrowUp"],Us=function(c,l,g){c&&(l.isComposing||l.keyCode===229||(c.stopKeydownPropagation&&l.stopPropagation(),l.key==="Enter"?Ae(l,c):l.key==="Tab"?tl(l):[].concat(Kn,xa).includes(l.key)?nl(l.key):l.key==="Escape"&&Ma(l,c,g)))},Ae=function(c,l){if(mn(l.allowEnterKey)){var g=$n(ge(),l.input);if(c.target&&g&&c.target instanceof HTMLElement&&c.target.outerHTML===g.outerHTML){if(["textarea","file"].includes(l.input))return;Ft(),c.preventDefault()}}},tl=function(c){for(var l=c.target,g=br(),w=-1,x=0;x<g.length;x++)if(l===g[x]){w=x;break}c.shiftKey?In(w,-1):In(w,1),c.stopPropagation(),c.preventDefault()},nl=function(c){var l=jn(),g=lt(),w=Se(),x=De();if(!(!l||!g||!w||!x)){var j=[g,w,x];if(!(document.activeElement instanceof HTMLElement&&!j.includes(document.activeElement))){var se=Kn.includes(c)?"nextElementSibling":"previousElementSibling",ce=document.activeElement;if(ce){for(var Ce=0;Ce<l.children.length;Ce++){if(ce=ce[se],!ce)return;if(ce instanceof HTMLButtonElement&&ot(ce))break}ce instanceof HTMLButtonElement&&ce.focus()}}}},Ma=function(c,l,g){mn(l.allowEscapeKey)&&(c.preventDefault(),g(At.esc))},bn={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Fa=function(){var c=Ke(),l=Array.from(document.body.children);l.forEach(function(g){g.contains(c)||(g.hasAttribute("aria-hidden")&&g.setAttribute("data-previous-aria-hidden",g.getAttribute("aria-hidden")||""),g.setAttribute("aria-hidden","true"))})},kr=function(){var c=Array.from(document.body.children);c.forEach(function(l){l.hasAttribute("data-previous-aria-hidden")?(l.setAttribute("aria-hidden",l.getAttribute("data-previous-aria-hidden")||""),l.removeAttribute("data-previous-aria-hidden")):l.removeAttribute("aria-hidden")})},Bs=typeof window<"u"&&!!window.GestureEvent,Lt=function(){if(Bs&&!Tt(document.body,N.iosfix)){var c=document.body.scrollTop;document.body.style.top="".concat(c*-1,"px"),ie(document.body,N.iosfix),La()}},La=function(){var c=Ke();if(c){var l;c.ontouchstart=function(g){l=rl(g)},c.ontouchmove=function(g){l&&(g.preventDefault(),g.stopPropagation())}}},rl=function(c){var l=c.target,g=Ke(),w=gi();return!g||!w||Nr(c)||Va(c)?!1:l===g||!fa(g)&&l instanceof HTMLElement&&l.tagName!=="INPUT"&&l.tagName!=="TEXTAREA"&&!(fa(w)&&w.contains(l))},Nr=function(c){return c.touches&&c.touches.length&&c.touches[0].touchType==="stylus"},Va=function(c){return c.touches&&c.touches.length>1},js=function(){if(Tt(document.body,N.iosfix)){var c=parseInt(document.body.style.top,10);yt(document.body,N.iosfix),document.body.style.top="",document.body.scrollTop=c*-1}},bi=function(){var c=document.createElement("div");c.className=N["scrollbar-measure"],document.body.appendChild(c);var l=c.getBoundingClientRect().width-c.clientWidth;return document.body.removeChild(c),l},Tn=null,Ti=function(c){Tn===null&&(document.body.scrollHeight>window.innerHeight||c==="scroll")&&(Tn=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Tn+bi(),"px"))},il=function(){Tn!==null&&(document.body.style.paddingRight="".concat(Tn,"px"),Tn=null)};function $s(m,c,l,g){vi()?zs(m,g):(wr(l).then(function(){return zs(m,g)}),Pr(ne)),Bs?(c.setAttribute("style","display:none !important"),c.removeAttribute("class"),c.innerHTML=""):c.remove(),Rs()&&(il(),js(),kr()),Or()}function Or(){yt([document.documentElement,document.body],[N.shown,N["height-auto"],N["no-backdrop"],N["toast-shown"]])}function Vt(m){m=Ba(m);var c=bn.swalPromiseResolve.get(this),l=Ua(this);this.isAwaitingPromise?m.isDismissed||(An(this),c(m)):l&&c(m)}var Ua=function(c){var l=ge();if(!l)return!1;var g=_e.innerParams.get(c);if(!g||Tt(l,g.hideClass.popup))return!1;yt(l,g.showClass.popup),ie(l,g.hideClass.popup);var w=Ke();return yt(w,g.showClass.backdrop),ie(w,g.hideClass.backdrop),Di(c,l,g),!0};function Ai(m){var c=bn.swalPromiseReject.get(this);An(this),c&&c(m)}var An=function(c){c.isAwaitingPromise&&(delete c.isAwaitingPromise,_e.innerParams.get(c)||c._destroy())},Ba=function(c){return typeof c>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},c)},Di=function(c,l,g){var w=Ke(),x=xt&&pa(l);typeof g.willClose=="function"&&g.willClose(l),x?ja(c,l,w,g.returnFocus,g.didClose):$s(c,w,g.returnFocus,g.didClose)},ja=function(c,l,g,w,x){xt&&(ne.swalCloseEventFinishedCallback=$s.bind(null,c,g,w,x),l.addEventListener(xt,function(j){j.target===l&&(ne.swalCloseEventFinishedCallback(),delete ne.swalCloseEventFinishedCallback)}))},zs=function(c,l){setTimeout(function(){typeof l=="function"&&l.bind(c.params)(),c._destroy&&c._destroy()})},dt=function(c){var l=ge();if(l||new Ya,l=ge(),!!l){var g=vn();vi()?Ve(Un()):$a(l,c),de(g),l.setAttribute("data-loading","true"),l.setAttribute("aria-busy","true"),l.focus()}},$a=function(c,l){var g=jn(),w=vn();!g||!w||(!l&&ot(lt())&&(l=lt()),de(g),l&&(Ve(l),w.setAttribute("data-button-to-replace",l.className),g.insertBefore(w,l)),ie([c,g],N.loading))},za=function(c,l){l.input==="select"||l.input==="radio"?Wa(c,l):["text","email","number","tel","textarea"].some(function(g){return g===l.input})&&(_r(l.inputValue)||Er(l.inputValue))&&(dt(lt()),Ha(c,l))},qa=function(c,l){var g=c.getInput();if(!g)return null;switch(l.input){case"checkbox":return Ga(g);case"radio":return Si(g);case"file":return ct(g);default:return l.inputAutoTrim?g.value.trim():g.value}},Ga=function(c){return c.checked?1:0},Si=function(c){return c.checked?c.value:null},ct=function(c){return c.files&&c.files.length?c.getAttribute("multiple")!==null?c.files:c.files[0]:null},Wa=function(c,l){var g=ge();if(g){var w=function(j){l.input==="select"?Qn(g,h(j),l):l.input==="radio"&&o(g,h(j),l)};_r(l.inputOptions)||Er(l.inputOptions)?(dt(lt()),yn(l.inputOptions).then(function(x){c.hideLoading(),w(x)})):f(l.inputOptions)==="object"?w(l.inputOptions):mt("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(f(l.inputOptions)))}},Ha=function(c,l){var g=c.getInput();g&&(Ve(g),yn(l.inputValue).then(function(w){g.value=l.input==="number"?"".concat(parseFloat(w)||0):"".concat(w),de(g),g.focus(),c.hideLoading()}).catch(function(w){mt("Error in inputValue promise: ".concat(w)),g.value="",de(g),g.focus(),c.hideLoading()}))};function Qn(m,c,l){var g=ht(m,N.select);if(g){var w=function(j,se,ce){var Ce=document.createElement("option");Ce.value=ce,tt(Ce,se),Ce.selected=p(ce,l.inputValue),j.appendChild(Ce)};c.forEach(function(x){var j=x[0],se=x[1];if(Array.isArray(se)){var ce=document.createElement("optgroup");ce.label=j,ce.disabled=!1,g.appendChild(ce),se.forEach(function(Ce){return w(ce,Ce[1],Ce[0])})}else w(g,se,j)}),g.focus()}}function o(m,c,l){var g=ht(m,N.radio);if(g){c.forEach(function(x){var j=x[0],se=x[1],ce=document.createElement("input"),Ce=document.createElement("label");ce.type="radio",ce.name=N.radio,ce.value=j,p(j,l.inputValue)&&(ce.checked=!0);var qs=document.createElement("span");tt(qs,se),qs.className=N.label,Ce.appendChild(ce),Ce.appendChild(qs),g.appendChild(Ce)});var w=g.querySelectorAll("input");w.length&&w[0].focus()}}var h=function m(c){var l=[];return c instanceof Map?c.forEach(function(g,w){var x=g;f(x)==="object"&&(x=m(x)),l.push([w,x])}):Object.keys(c).forEach(function(g){var w=c[g];f(w)==="object"&&(w=m(w)),l.push([g,w])}),l},p=function(c,l){return!!l&&l.toString()===c.toString()},y=void 0,R=function(c){var l=_e.innerParams.get(c);c.disableButtons(),l.input?ye(c,"confirm"):Yt(c,!0)},k=function(c){var l=_e.innerParams.get(c);c.disableButtons(),l.returnInputValueOnDeny?ye(c,"deny"):ue(c,!1)},U=function(c,l){c.disableButtons(),l(At.cancel)},ye=function(c,l){var g=_e.innerParams.get(c);if(!g.input){mt('The "input" parameter is needed to be set when using returnInputValueOn'.concat(gn(l)));return}var w=c.getInput(),x=qa(c,g);g.inputValidator?Ue(c,x,l):w&&!w.checkValidity()?(c.enableButtons(),c.showValidationMessage(g.validationMessage||w.validationMessage)):l==="deny"?ue(c,x):Yt(c,x)},Ue=function(c,l,g){var w=_e.innerParams.get(c);c.disableInput();var x=Promise.resolve().then(function(){return yn(w.inputValidator(l,w.validationMessage))});x.then(function(j){c.enableButtons(),c.enableInput(),j?c.showValidationMessage(j):g==="deny"?ue(c,l):Yt(c,l)})},ue=function(c,l){var g=_e.innerParams.get(c||y);if(g.showLoaderOnDeny&&dt(Se()),g.preDeny){c.isAwaitingPromise=!0;var w=Promise.resolve().then(function(){return yn(g.preDeny(l,g.validationMessage))});w.then(function(x){x===!1?(c.hideLoading(),An(c)):c.close({isDenied:!0,value:typeof x>"u"?l:x})}).catch(function(x){return je(c||y,x)})}else c.close({isDenied:!0,value:l})},Be=function(c,l){c.close({isConfirmed:!0,value:l})},je=function(c,l){c.rejectPromise(l)},Yt=function(c,l){var g=_e.innerParams.get(c||y);if(g.showLoaderOnConfirm&&dt(),g.preConfirm){c.resetValidationMessage(),c.isAwaitingPromise=!0;var w=Promise.resolve().then(function(){return yn(g.preConfirm(l,g.validationMessage))});w.then(function(x){ot(Bn())||x===!1?(c.hideLoading(),An(c)):Be(c,typeof x>"u"?l:x)}).catch(function(x){return je(c||y,x)})}else Be(c,l)};function rt(){var m=_e.innerParams.get(this);if(m){var c=_e.domCache.get(this);Ve(c.loader),vi()?m.icon&&de(Un()):Ci(c),yt([c.popup,c.actions],N.loading),c.popup.removeAttribute("aria-busy"),c.popup.removeAttribute("data-loading"),c.confirmButton.disabled=!1,c.denyButton.disabled=!1,c.cancelButton.disabled=!1}}var Ci=function(c){var l=c.popup.getElementsByClassName(c.loader.getAttribute("data-button-to-replace"));l.length?de(l[0],"inline-block"):qn()&&Ve(c.actions)};function Ri(){var m=_e.innerParams.get(this),c=_e.domCache.get(this);return c?$n(c.popup,m.input):null}function Kp(m,c,l){var g=_e.domCache.get(m);c.forEach(function(w){g[w].disabled=l})}function Qp(m,c){var l=ge();if(!(!l||!m))if(m.type==="radio")for(var g=l.querySelectorAll('[name="'.concat(N.radio,'"]')),w=0;w<g.length;w++)g[w].disabled=c;else m.disabled=c}function Yp(){Kp(this,["confirmButton","denyButton","cancelButton"],!1)}function Jp(){Kp(this,["confirmButton","denyButton","cancelButton"],!0)}function Xp(){Qp(this.getInput(),!1)}function Zp(){Qp(this.getInput(),!0)}function eg(m){var c=_e.domCache.get(this),l=_e.innerParams.get(this);tt(c.validationMessage,m),c.validationMessage.className=N["validation-message"],l.customClass&&l.customClass.validationMessage&&ie(c.validationMessage,l.customClass.validationMessage),de(c.validationMessage);var g=this.getInput();g&&(g.setAttribute("aria-invalid","true"),g.setAttribute("aria-describedby",N["validation-message"]),Gt(g),ie(g,N.inputerror))}function tg(){var m=_e.domCache.get(this);m.validationMessage&&Ve(m.validationMessage);var c=this.getInput();c&&(c.removeAttribute("aria-invalid"),c.removeAttribute("aria-describedby"),yt(c,N.inputerror))}var Pi={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},u_=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],l_={},h_=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ng=function(c){return Object.prototype.hasOwnProperty.call(Pi,c)},rg=function(c){return u_.indexOf(c)!==-1},ig=function(c){return l_[c]},d_=function(c){ng(c)||Ze('Unknown parameter "'.concat(c,'"'))},f_=function(c){h_.includes(c)&&Ze('The parameter "'.concat(c,'" is incompatible with toasts'))},p_=function(c){var l=ig(c);l&&fi(c,l)},g_=function(c){c.backdrop===!1&&c.allowOutsideClick&&Ze('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var l in c)d_(l),c.toast&&f_(l),p_(l)};function sg(m){var c=ge(),l=_e.innerParams.get(this);if(!c||Tt(c,l.hideClass.popup)){Ze("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var g=m_(m),w=Object.assign({},l,g);Na(this,w),_e.innerParams.set(this,w),Object.defineProperties(this,{params:{value:Object.assign({},this.params,m),writable:!1,enumerable:!0}})}var m_=function(c){var l={};return Object.keys(c).forEach(function(g){rg(g)?l[g]=c[g]:Ze("Invalid parameter to update: ".concat(g))}),l};function og(){var m=_e.domCache.get(this),c=_e.innerParams.get(this);if(!c){ag(this);return}m.popup&&ne.swalCloseEventFinishedCallback&&(ne.swalCloseEventFinishedCallback(),delete ne.swalCloseEventFinishedCallback),typeof c.didDestroy=="function"&&c.didDestroy(),y_(this)}var y_=function(c){ag(c),delete c.params,delete ne.keydownHandler,delete ne.keydownTarget,delete ne.currentInstance},ag=function(c){c.isAwaitingPromise?(sl(_e,c),c.isAwaitingPromise=!0):(sl(bn,c),sl(_e,c),delete c.isAwaitingPromise,delete c.disableButtons,delete c.enableButtons,delete c.getInput,delete c.disableInput,delete c.enableInput,delete c.hideLoading,delete c.disableLoading,delete c.showValidationMessage,delete c.resetValidationMessage,delete c.close,delete c.closePopup,delete c.closeModal,delete c.closeToast,delete c.rejectPromise,delete c.update,delete c._destroy)},sl=function(c,l){for(var g in c)c[g].delete(l)},v_=Object.freeze({__proto__:null,_destroy:og,close:Vt,closeModal:Vt,closePopup:Vt,closeToast:Vt,disableButtons:Jp,disableInput:Zp,disableLoading:rt,enableButtons:Yp,enableInput:Xp,getInput:Ri,handleAwaitingPromise:An,hideLoading:rt,rejectPromise:Ai,resetValidationMessage:tg,showValidationMessage:eg,update:sg}),w_=function(c,l,g){c.toast?__(c,l,g):(I_(l),b_(l),T_(c,l,g))},__=function(c,l,g){l.popup.onclick=function(){c&&(E_(c)||c.timer||c.input)||g(At.close)}},E_=function(c){return!!(c.showConfirmButton||c.showDenyButton||c.showCancelButton||c.showCloseButton)},Ka=!1,I_=function(c){c.popup.onmousedown=function(){c.container.onmouseup=function(l){c.container.onmouseup=function(){},l.target===c.container&&(Ka=!0)}}},b_=function(c){c.container.onmousedown=function(l){l.target===c.container&&l.preventDefault(),c.popup.onmouseup=function(g){c.popup.onmouseup=function(){},(g.target===c.popup||g.target instanceof HTMLElement&&c.popup.contains(g.target))&&(Ka=!0)}}},T_=function(c,l,g){l.container.onclick=function(w){if(Ka){Ka=!1;return}w.target===l.container&&mn(c.allowOutsideClick)&&g(At.backdrop)}},A_=function(c){return f(c)==="object"&&c.jquery},cg=function(c){return c instanceof Element||A_(c)},D_=function(c){var l={};return f(c[0])==="object"&&!cg(c[0])?Object.assign(l,c[0]):["title","html","icon"].forEach(function(g,w){var x=c[w];typeof x=="string"||cg(x)?l[g]=x:x!==void 0&&mt("Unexpected type of ".concat(g,'! Expected "string" or "Element", got ').concat(f(x)))}),l};function S_(){for(var m=this,c=arguments.length,l=new Array(c),g=0;g<c;g++)l[g]=arguments[g];return i(m,l)}function C_(m){var c=function(l){function g(){return v(this,g),e(this,g,arguments)}return O(g,l),A(g,[{key:"_main",value:function(x,j){return Z(L(g.prototype),"_main",this).call(this,x,Object.assign({},m,j))}}])}(this);return c}var R_=function(){return ne.timeout&&ne.timeout.getTimerLeft()},ug=function(){if(ne.timeout)return ga(),ne.timeout.stop()},lg=function(){if(ne.timeout){var c=ne.timeout.start();return Gn(c),c}},P_=function(){var c=ne.timeout;return c&&(c.running?ug():lg())},k_=function(c){if(ne.timeout){var l=ne.timeout.increase(c);return Gn(l,!0),l}},N_=function(){return!!(ne.timeout&&ne.timeout.isRunning())},hg=!1,ol={};function O_(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";ol[m]=this,hg||(document.body.addEventListener("click",x_),hg=!0)}var x_=function(c){for(var l=c.target;l&&l!==document;l=l.parentNode)for(var g in ol){var w=l.getAttribute(g);if(w){ol[g].fire({template:w});return}}},M_=Object.freeze({__proto__:null,argsToParams:D_,bindClickHandler:O_,clickCancel:el,clickConfirm:Ft,clickDeny:Zu,enableLoading:dt,fire:S_,getActions:jn,getCancelButton:De,getCloseButton:yi,getConfirmButton:lt,getContainer:Ke,getDenyButton:Se,getFocusableElements:br,getFooter:ha,getHtmlContainer:gi,getIcon:Un,getIconContent:ua,getImage:la,getInputLabel:mi,getLoader:vn,getPopup:ge,getProgressSteps:Ir,getTimerLeft:R_,getTimerProgressBar:qt,getTitle:pi,getValidationMessage:Bn,increaseTimer:k_,isDeprecatedParameter:ig,isLoading:Ps,isTimerRunning:N_,isUpdatableParameter:rg,isValidParameter:ng,isVisible:Xu,mixin:C_,resumeTimer:lg,showLoading:dt,stopTimer:ug,toggleTimer:P_}),F_=function(){function m(c,l){v(this,m),this.callback=c,this.remaining=l,this.running=!1,this.start()}return A(m,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(l){var g=this.running;return g&&this.stop(),this.remaining+=l,g&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}])}(),dg=["swal-title","swal-html","swal-footer"],L_=function(c){var l=typeof c.template=="string"?document.querySelector(c.template):c.template;if(!l)return{};var g=l.content;G_(g);var w=Object.assign(V_(g),U_(g),B_(g),j_(g),$_(g),z_(g),q_(g,dg));return w},V_=function(c){var l={},g=Array.from(c.querySelectorAll("swal-param"));return g.forEach(function(w){xr(w,["name","value"]);var x=w.getAttribute("name"),j=w.getAttribute("value");typeof Pi[x]=="boolean"?l[x]=j!=="false":f(Pi[x])==="object"?l[x]=JSON.parse(j):l[x]=j}),l},U_=function(c){var l={},g=Array.from(c.querySelectorAll("swal-function-param"));return g.forEach(function(w){var x=w.getAttribute("name"),j=w.getAttribute("value");l[x]=new Function("return ".concat(j))()}),l},B_=function(c){var l={},g=Array.from(c.querySelectorAll("swal-button"));return g.forEach(function(w){xr(w,["type","color","aria-label"]);var x=w.getAttribute("type");l["".concat(x,"ButtonText")]=w.innerHTML,l["show".concat(gn(x),"Button")]=!0,w.hasAttribute("color")&&(l["".concat(x,"ButtonColor")]=w.getAttribute("color")),w.hasAttribute("aria-label")&&(l["".concat(x,"ButtonAriaLabel")]=w.getAttribute("aria-label"))}),l},j_=function(c){var l={},g=c.querySelector("swal-image");return g&&(xr(g,["src","width","height","alt"]),g.hasAttribute("src")&&(l.imageUrl=g.getAttribute("src")),g.hasAttribute("width")&&(l.imageWidth=g.getAttribute("width")),g.hasAttribute("height")&&(l.imageHeight=g.getAttribute("height")),g.hasAttribute("alt")&&(l.imageAlt=g.getAttribute("alt"))),l},$_=function(c){var l={},g=c.querySelector("swal-icon");return g&&(xr(g,["type","color"]),g.hasAttribute("type")&&(l.icon=g.getAttribute("type")),g.hasAttribute("color")&&(l.iconColor=g.getAttribute("color")),l.iconHtml=g.innerHTML),l},z_=function(c){var l={},g=c.querySelector("swal-input");g&&(xr(g,["type","label","placeholder","value"]),l.input=g.getAttribute("type")||"text",g.hasAttribute("label")&&(l.inputLabel=g.getAttribute("label")),g.hasAttribute("placeholder")&&(l.inputPlaceholder=g.getAttribute("placeholder")),g.hasAttribute("value")&&(l.inputValue=g.getAttribute("value")));var w=Array.from(c.querySelectorAll("swal-input-option"));return w.length&&(l.inputOptions={},w.forEach(function(x){xr(x,["value"]);var j=x.getAttribute("value"),se=x.innerHTML;l.inputOptions[j]=se})),l},q_=function(c,l){var g={};for(var w in l){var x=l[w],j=c.querySelector(x);j&&(xr(j,[]),g[x.replace(/^swal-/,"")]=j.innerHTML.trim())}return g},G_=function(c){var l=dg.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(c.children).forEach(function(g){var w=g.tagName.toLowerCase();l.includes(w)||Ze("Unrecognized element <".concat(w,">"))})},xr=function(c,l){Array.from(c.attributes).forEach(function(g){l.indexOf(g.name)===-1&&Ze(['Unrecognized attribute "'.concat(g.name,'" on <').concat(c.tagName.toLowerCase(),">."),"".concat(l.length?"Allowed attributes are: ".concat(l.join(", ")):"To set the value, use HTML within the element.")])})},fg=10,W_=function(c){var l=Ke(),g=ge();typeof c.willOpen=="function"&&c.willOpen(g);var w=window.getComputedStyle(document.body),x=w.overflowY;Y_(l,g,c),setTimeout(function(){K_(l,g)},fg),Rs()&&(Q_(l,c.scrollbarPadding,x),Fa()),!vi()&&!ne.previousActiveElement&&(ne.previousActiveElement=document.activeElement),typeof c.didOpen=="function"&&setTimeout(function(){return c.didOpen(g)}),yt(l,N["no-transition"])},H_=function m(c){var l=ge();if(!(c.target!==l||!xt)){var g=Ke();l.removeEventListener(xt,m),g.style.overflowY="auto"}},K_=function(c,l){xt&&pa(l)?(c.style.overflowY="hidden",l.addEventListener(xt,H_)):c.style.overflowY="auto"},Q_=function(c,l,g){Lt(),l&&g!=="hidden"&&Ti(g),setTimeout(function(){c.scrollTop=0})},Y_=function(c,l,g){ie(c,g.showClass.backdrop),g.animation?(l.style.setProperty("opacity","0","important"),de(l,"grid"),setTimeout(function(){ie(l,g.showClass.popup),l.style.removeProperty("opacity")},fg)):de(l,"grid"),ie([document.documentElement,document.body],N.shown),g.heightAuto&&g.backdrop&&!g.toast&&ie([document.documentElement,document.body],N["height-auto"])},pg={email:function(c,l){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(c)?Promise.resolve():Promise.resolve(l||"Invalid email address")},url:function(c,l){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(c)?Promise.resolve():Promise.resolve(l||"Invalid URL")}};function J_(m){m.inputValidator||(m.input==="email"&&(m.inputValidator=pg.email),m.input==="url"&&(m.inputValidator=pg.url))}function X_(m){(!m.target||typeof m.target=="string"&&!document.querySelector(m.target)||typeof m.target!="string"&&!m.target.appendChild)&&(Ze('Target parameter is not valid, defaulting to "body"'),m.target="body")}function Z_(m){J_(m),m.showLoaderOnConfirm&&!m.preConfirm&&Ze(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),X_(m),typeof m.title=="string"&&(m.title=m.title.split(`
`).join("<br />")),va(m)}var Jt,Qa=new WeakMap,xe=function(){function m(){if(v(this,m),Ot(this,Qa,void 0),!(typeof window>"u")){Jt=this;for(var c=arguments.length,l=new Array(c),g=0;g<c;g++)l[g]=arguments[g];var w=Object.freeze(this.constructor.argsToParams(l));this.params=w,this.isAwaitingPromise=!1,r(Qa,this,this._main(Jt.params))}}return A(m,[{key:"_main",value:function(l){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(g_(Object.assign({},g,l)),ne.currentInstance){var w=bn.swalPromiseResolve.get(ne.currentInstance),x=ne.currentInstance.isAwaitingPromise;ne.currentInstance._destroy(),x||w({isDismissed:!0}),Rs()&&kr()}ne.currentInstance=Jt;var j=tE(l,g);Z_(j),Object.freeze(j),ne.timeout&&(ne.timeout.stop(),delete ne.timeout),clearTimeout(ne.restoreFocusTimeout);var se=nE(Jt);return Na(Jt,j),_e.innerParams.set(Jt,j),eE(Jt,se,j)}},{key:"then",value:function(l){return t(Qa,this).then(l)}},{key:"finally",value:function(l){return t(Qa,this).finally(l)}}])}(),eE=function(c,l,g){return new Promise(function(w,x){var j=function(ce){c.close({isDismissed:!0,dismiss:ce})};bn.swalPromiseResolve.set(c,w),bn.swalPromiseReject.set(c,x),l.confirmButton.onclick=function(){R(c)},l.denyButton.onclick=function(){k(c)},l.cancelButton.onclick=function(){U(c,j)},l.closeButton.onclick=function(){j(At.close)},w_(g,l,j),Oa(ne,g,j),za(c,g),W_(g),rE(ne,g,j),iE(l,g),setTimeout(function(){l.container.scrollTop=0})})},tE=function(c,l){var g=L_(c),w=Object.assign({},Pi,l,g,c);return w.showClass=Object.assign({},Pi.showClass,w.showClass),w.hideClass=Object.assign({},Pi.hideClass,w.hideClass),w.animation===!1&&(w.showClass={backdrop:"swal2-noanimation"},w.hideClass={}),w},nE=function(c){var l={popup:ge(),container:Ke(),actions:jn(),confirmButton:lt(),denyButton:Se(),cancelButton:De(),loader:vn(),closeButton:yi(),validationMessage:Bn(),progressSteps:Ir()};return _e.domCache.set(c,l),l},rE=function(c,l,g){var w=qt();Ve(w),l.timer&&(c.timeout=new F_(function(){g("timer"),delete c.timeout},l.timer),l.timerProgressBar&&(de(w),nt(w,l,"timerProgressBar"),setTimeout(function(){c.timeout&&c.timeout.running&&Gn(l.timer)})))},iE=function(c,l){if(!l.toast){if(!mn(l.allowEnterKey)){oE();return}sE(c,l)||In(-1,1)}},sE=function(c,l){return l.focusDeny&&ot(c.denyButton)?(c.denyButton.focus(),!0):l.focusCancel&&ot(c.cancelButton)?(c.cancelButton.focus(),!0):l.focusConfirm&&ot(c.confirmButton)?(c.confirmButton.focus(),!0):!1},oE=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var gg=new Date,mg=localStorage.getItem("swal-initiation");mg?(gg.getTime()-Date.parse(mg))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var m=document.createElement("audio");m.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",m.loop=!0,document.body.appendChild(m),setTimeout(function(){m.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(gg))}xe.prototype.disableButtons=Jp,xe.prototype.enableButtons=Yp,xe.prototype.getInput=Ri,xe.prototype.disableInput=Zp,xe.prototype.enableInput=Xp,xe.prototype.hideLoading=rt,xe.prototype.disableLoading=rt,xe.prototype.showValidationMessage=eg,xe.prototype.resetValidationMessage=tg,xe.prototype.close=Vt,xe.prototype.closePopup=Vt,xe.prototype.closeModal=Vt,xe.prototype.closeToast=Vt,xe.prototype.rejectPromise=Ai,xe.prototype.update=sg,xe.prototype._destroy=og,Object.assign(xe,M_),Object.keys(v_).forEach(function(m){xe[m]=function(){if(Jt&&Jt[m]){var c;return(c=Jt)[m].apply(c,arguments)}return null}}),xe.DismissReason=At,xe.version="11.11.0";var Ya=xe;return Ya.default=Ya,Ya});typeof pn<"u"&&pn.Sweetalert2&&(pn.swal=pn.sweetAlert=pn.Swal=pn.SweetAlert=pn.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});var Yg=null;function Fi(){return Yg}function Jg(n){Yg??=n}var ec=class{};var pt=new Ee(""),Xg=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:()=>W(pE),providedIn:"platform"});let n=e;return n})();var pE=(()=>{let e=class e extends Xg{constructor(){super(),this._doc=W(pt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fi().getBaseHref(this._doc)}onPopState(r){let i=Fi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Fi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:()=>new e,providedIn:"platform"});let n=e;return n})();function Zg(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function zg(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Ur(n){return n&&n[0]!=="?"?"?"+n:n}var tc=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:()=>W(em),providedIn:"root"});let n=e;return n})(),gE=new Ee(""),em=(()=>{let e=class e extends tc{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??W(pt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Zg(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Ur(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,a){let u=this.prepareExternalUrl(s+Ur(a));this._platformLocation.pushState(r,i,u)}replaceState(r,i,s,a){let u=this.prepareExternalUrl(s+Ur(a));this._platformLocation.replaceState(r,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ae(Xg),ae(gE,8))},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Zs=(()=>{let e=class e{constructor(r){this._subject=new Lr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=vE(zg(qg(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ur(i))}normalize(r){return e.stripTrailingSlash(yE(this._basePath,qg(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ur(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ur(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Ur,e.joinWithSlash=Zg,e.stripTrailingSlash=zg,e.\u0275fac=function(i){return new(i||e)(ae(tc))},e.\u0275prov=oe({token:e,factory:()=>mE(),providedIn:"root"});let n=e;return n})();function mE(){return new Zs(ae(tc))}function yE(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function qg(n){return n.replace(/\/index.html$/,"")}function vE(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function nc(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Dl=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},xR=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,a,u)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Dl(s.item,this._ngForOf,-1,-1),u===null?void 0:u);else if(u==null)i.remove(a===null?void 0:a);else if(a!==null){let d=i.get(a);i.move(d,u),Gg(d,s)}});for(let s=0,a=i.length;s<a;s++){let d=i.get(s).context;d.index=s,d.count=a,d.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let a=i.get(s.currentIndex);Gg(a,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Vr(Ys),Vr(Il),Vr(jg))},e.\u0275dir=Ks({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let n=e;return n})();function Gg(n,e){n.context.$implicit=e.item}var MR=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Sl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Wg("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Wg("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Vr(Ys),Vr(Il))},e.\u0275dir=Ks({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let n=e;return n})(),Sl=class{constructor(){this.$implicit=null,this.ngIf=null}};function Wg(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Rg(e)}'.`)}var wE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Bt({type:e}),e.\u0275inj=Ut({});let n=e;return n})(),tm="browser",_E="server";function rc(n){return n===_E}var Li=class{};var to=class{},sc=class{},Br=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=i.toLowerCase(),a=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let a=this.headers.get(t);if(!a)return;a=a.filter(u=>s.indexOf(u)===-1),a.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Rl=class{encodeKey(e){return nm(e)}encodeValue(e){return nm(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function TE(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[a,u]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],d=t.get(a)||[];d.push(u),t.set(a,d)}),t}var AE=/%(\d[a-f0-9])/gi,DE={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function nm(n){return encodeURIComponent(n).replace(AE,(e,t)=>DE[t]??e)}function ic(n){return`${n}`}var tr=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Rl,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=TE(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(ic):[ic(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(ic(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(ic(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Pl=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function SE(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function rm(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function im(n){return typeof Blob<"u"&&n instanceof Blob}function sm(n){return typeof FormData<"u"&&n instanceof FormData}function CE(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var eo=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(SE(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Br,this.context??=new Pl,!this.params)this.params=new tr,this.urlWithParams=t;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=t;else{let u=t.indexOf("?"),d=u===-1?"?":u<t.length-1?"&":"";this.urlWithParams=t+d+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||rm(this.body)||im(this.body)||sm(this.body)||CE(this.body)?this.body:this.body instanceof tr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||sm(this.body)?null:im(this.body)?this.body.type||null:rm(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof tr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,u=e.withCredentials??this.withCredentials,d=e.reportProgress??this.reportProgress,f=e.headers||this.headers,v=e.params||this.params,T=e.context??this.context;return e.setHeaders!==void 0&&(f=Object.keys(e.setHeaders).reduce((A,O)=>A.set(O,e.setHeaders[O]),f)),e.setParams&&(v=Object.keys(e.setParams).reduce((A,O)=>A.set(O,e.setParams[O]),v)),new n(t,r,a,{params:v,headers:f,context:T,reportProgress:d,responseType:i,withCredentials:u,transferCache:s})}},Vi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Vi||{}),no=class{constructor(e,t=cc.Ok,r="OK"){this.headers=e.headers||new Br,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},kl=class n extends no{constructor(e={}){super(e),this.type=Vi.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},oc=class n extends no{constructor(e={}){super(e),this.type=Vi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ac=class extends no{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},cc=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(cc||{});function Cl(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var RE=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let a;if(r instanceof eo)a=r;else{let f;s.headers instanceof Br?f=s.headers:f=new Br(s.headers);let v;s.params&&(s.params instanceof tr?v=s.params:v=new tr({fromObject:s.params})),a=new eo(r,i,s.body!==void 0?s.body:null,{headers:f,context:s.context,params:v,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let u=J(a).pipe(Fr(f=>this.handler.handle(f)));if(r instanceof eo||s.observe==="events")return u;let d=u.pipe(Xn(f=>f instanceof oc));switch(s.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return d.pipe(ve(f=>{if(f.body!==null&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe(ve(f=>{if(f.body!==null&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe(ve(f=>{if(f.body!==null&&typeof f.body!="string")throw new Error("Response is not a string.");return f.body}));case"json":default:return d.pipe(ve(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new tr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Cl(s,i))}post(r,i,s={}){return this.request("POST",r,Cl(s,i))}put(r,i,s={}){return this.request("PUT",r,Cl(s,i))}};e.\u0275fac=function(i){return new(i||e)(ae(to))},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let n=e;return n})();function PE(n,e){return e(n)}function kE(n,e,t){return(r,i)=>Dn(t,()=>e(r,s=>n(s,i)))}var cm=new Ee(""),NE=new Ee(""),OE=new Ee("");var om=(()=>{let e=class e extends to{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=W(Ja);let s=W(OE,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(cm),...this.injector.get(NE,[])]));this.chain=s.reduceRight((a,u)=>kE(a,u,this.injector),PE)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Oi(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(ae(sc),ae(xi))},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let n=e;return n})();var xE=/^\)\]\}',?\n/;function ME(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var am=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new Me(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?vt(i.\u0275loadImpl()):J(null)).pipe(Ct(()=>new Gs(a=>{let u=i.build();if(u.open(r.method,r.urlWithParams),r.withCredentials&&(u.withCredentials=!0),r.headers.forEach((M,$)=>u.setRequestHeader(M,$.join(","))),r.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let M=r.detectContentTypeHeader();M!==null&&u.setRequestHeader("Content-Type",M)}if(r.responseType){let M=r.responseType.toLowerCase();u.responseType=M!=="json"?M:"text"}let d=r.serializeBody(),f=null,v=()=>{if(f!==null)return f;let M=u.statusText||"OK",$=new Br(u.getAllResponseHeaders()),Y=ME(u)||r.url;return f=new kl({headers:$,status:u.status,statusText:M,url:Y}),f},T=()=>{let{headers:M,status:$,statusText:Y,url:Z}=v(),ee=null;$!==cc.NoContent&&(ee=typeof u.response>"u"?u.responseText:u.response),$===0&&($=ee?cc.Ok:0);let Ne=$>=200&&$<300;if(r.responseType==="json"&&typeof ee=="string"){let pe=ee;ee=ee.replace(xE,"");try{ee=ee!==""?JSON.parse(ee):null}catch(S){ee=pe,Ne&&(Ne=!1,ee={error:S,text:ee})}}Ne?(a.next(new oc({body:ee,headers:M,status:$,statusText:Y,url:Z||void 0})),a.complete()):a.error(new ac({error:ee,headers:M,status:$,statusText:Y,url:Z||void 0}))},A=M=>{let{url:$}=v(),Y=new ac({error:M,status:u.status||0,statusText:u.statusText||"Unknown Error",url:$||void 0});a.error(Y)},O=!1,L=M=>{O||(a.next(v()),O=!0);let $={type:Vi.DownloadProgress,loaded:M.loaded};M.lengthComputable&&($.total=M.total),r.responseType==="text"&&u.responseText&&($.partialText=u.responseText),a.next($)},B=M=>{let $={type:Vi.UploadProgress,loaded:M.loaded};M.lengthComputable&&($.total=M.total),a.next($)};return u.addEventListener("load",T),u.addEventListener("error",A),u.addEventListener("timeout",A),u.addEventListener("abort",A),r.reportProgress&&(u.addEventListener("progress",L),d!==null&&u.upload&&u.upload.addEventListener("progress",B)),u.send(d),a.next({type:Vi.Sent}),()=>{u.removeEventListener("error",A),u.removeEventListener("abort",A),u.removeEventListener("load",T),u.removeEventListener("timeout",A),r.reportProgress&&(u.removeEventListener("progress",L),d!==null&&u.upload&&u.upload.removeEventListener("progress",B)),u.readyState!==u.DONE&&u.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(ae(Li))},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let n=e;return n})(),um=new Ee(""),FE="XSRF-TOKEN",LE=new Ee("",{providedIn:"root",factory:()=>FE}),VE="X-XSRF-TOKEN",UE=new Ee("",{providedIn:"root",factory:()=>VE}),uc=class{},BE=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=nc(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(ae(pt),ae(Xt),ae(LE))},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let n=e;return n})();function jE(n,e){let t=n.url.toLowerCase();if(!W(um)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=W(uc).getToken(),i=W(UE);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function KR(...n){let e=[RE,am,om,{provide:to,useExisting:om},{provide:sc,useExisting:am},{provide:cm,useValue:jE,multi:!0},{provide:um,useValue:!0},{provide:uc,useClass:BE}];for(let t of n)e.push(...t.\u0275providers);return Qs(e)}var xl=class extends ec{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ml=class n extends xl{static makeCurrent(){Jg(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=zE();return t==null?null:qE(t)}resetBaseElement(){ro=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return nc(document.cookie,e)}},ro=null;function zE(){return ro=ro||document.querySelector("base"),ro?ro.getAttribute("href"):null}function qE(n){return new URL(n,document.baseURI).pathname}var GE=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let n=e;return n})(),Fl=new Ee(""),fm=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(a=>a.supports(r)),!i)throw new Me(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(ae(Fl),ae(ze))},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let n=e;return n})(),lc=class{constructor(e){this._doc=e}},Nl="ng-app-id",pm=(()=>{let e=class e{constructor(r,i,s,a={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=rc(a),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Nl}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let a=s.get(r);return a.usage+=i,a.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,a=s?.get(i);if(a?.parentNode===r)return s.delete(i),a.removeAttribute(Nl),a;{let u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=i,this.platformIsServer&&u.setAttribute(Nl,this.appId),r.appendChild(u),u}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),a=this.styleRef,u=a.get(i)?.elements;u?u.push(s):a.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ae(pt),ae(_l),ae(El,8),ae(Xt))},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let n=e;return n})(),Ol={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vl=/%COMP%/g,gm="%COMP%",WE=`_nghost-${gm}`,HE=`_ngcontent-${gm}`,KE=!0,QE=new Ee("",{providedIn:"root",factory:()=>KE});function YE(n){return HE.replace(Vl,n)}function JE(n){return WE.replace(Vl,n)}function mm(n,e){return e.map(t=>t.replace(Vl,n))}var lm=(()=>{let e=class e{constructor(r,i,s,a,u,d,f,v=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=a,this.doc=u,this.platformId=d,this.ngZone=f,this.nonce=v,this.rendererByCompId=new Map,this.platformIsServer=rc(d),this.defaultRenderer=new io(r,u,f,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Hs.ShadowDom&&(i=Qe(G({},i),{encapsulation:Hs.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof hc?s.applyToHost(r):s instanceof so&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,a=s.get(i.id);if(!a){let u=this.doc,d=this.ngZone,f=this.eventManager,v=this.sharedStylesHost,T=this.removeStylesOnCompDestroy,A=this.platformIsServer;switch(i.encapsulation){case Hs.Emulated:a=new hc(f,v,i,this.appId,T,u,d,A);break;case Hs.ShadowDom:return new Ll(f,v,r,i,u,d,this.nonce,A);default:a=new so(f,v,i,T,u,d,A);break}s.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ae(fm),ae(pm),ae(_l),ae(QE),ae(pt),ae(Xt),ae(ze),ae(El))},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let n=e;return n})(),io=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Ol[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(hm(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(hm(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Me(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=Ol[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Ol[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Mi.DashCase|Mi.Important)?e.style.setProperty(t,r,i&Mi.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Mi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Fi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function hm(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Ll=class extends io{constructor(e,t,r,i,s,a,u,d){super(e,s,a,d),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=mm(i.id,i.styles);for(let v of f){let T=document.createElement("style");u&&T.setAttribute("nonce",u),T.textContent=v,this.shadowRoot.appendChild(T)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},so=class extends io{constructor(e,t,r,i,s,a,u,d){super(e,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=d?mm(d,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},hc=class extends so{constructor(e,t,r,i,s,a,u,d){let f=i+"-"+r.id;super(e,t,r,s,a,u,d,f),this.contentAttr=YE(f),this.hostAttr=JE(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},XE=(()=>{let e=class e extends lc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(ae(pt))},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let n=e;return n})(),dm=["alt","control","meta","shift"],ZE={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eI={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},tI=(()=>{let e=class e extends lc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let a=e.parseEventName(i),u=e.eventCallback(a.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fi().onAndCancel(r,a.domEventName,u))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let a=e._normalizeKey(i.pop()),u="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),u="code."),dm.forEach(v=>{let T=i.indexOf(v);T>-1&&(i.splice(T,1),u+=v+".")}),u+=a,i.length!=0||a.length===0)return null;let f={};return f.domEventName=s,f.fullKey=u,f}static matchEventFullKeyCode(r,i){let s=ZE[r.key]||r.key,a="";return i.indexOf("code.")>-1&&(s=r.code,a="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),dm.forEach(u=>{if(u!==s){let d=eI[u];d(r)&&(a+=u+".")}}),a+=s,a===i)}static eventCallback(r,i,s){return a=>{e.matchEventFullKeyCode(a,r)&&s.runGuarded(()=>i(a))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(ae(pt))},e.\u0275prov=oe({token:e,factory:e.\u0275fac});let n=e;return n})();function bP(n,e){return $g(G({rootComponent:n},nI(e)))}function nI(n){return{appProviders:[...aI,...n?.providers??[]],platformProviders:oI}}function rI(){Ml.makeCurrent()}function iI(){return new wl}function sI(){return Og(document),document}var oI=[{provide:Xt,useValue:tm},{provide:xg,useValue:rI,multi:!0},{provide:pt,useFactory:sI,deps:[]}];var aI=[{provide:Ng,useValue:"root"},{provide:wl,useFactory:iI,deps:[]},{provide:Fl,useClass:XE,multi:!0,deps:[pt,ze,Xt]},{provide:Fl,useClass:tI,multi:!0,deps:[pt]},lm,pm,fm,{provide:Mg,useExisting:lm},{provide:Li,useClass:GE,deps:[]},[]];var ym=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(ae(pt))},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var re="primary",Eo=Symbol("RouteTitle"),zl=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function zi(n){return new zl(n)}function uI(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let a=r[s],u=n[s];if(a.startsWith(":"))i[a.substring(1)]=u;else if(a!==u.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function lI(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Zt(n[t],e[t]))return!1;return!0}function Zt(n,e){let t=n?ql(n):void 0,r=e?ql(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!bm(n[i],e[i]))return!1;return!0}function ql(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function bm(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function Tm(n){return n.length>0?n[n.length-1]:null}function ir(n){return Eg(n)?n:bl(n)?vt(Promise.resolve(n)):J(n)}var hI={exact:Dm,subset:Sm},Am={exact:dI,subset:fI,ignored:()=>!0};function vm(n,e,t){return hI[t.paths](n.root,e.root,t.matrixParams)&&Am[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function dI(n,e){return Zt(n,e)}function Dm(n,e,t){if(!$r(n.segments,e.segments)||!pc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Dm(n.children[r],e.children[r],t))return!1;return!0}function fI(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>bm(n[t],e[t]))}function Sm(n,e,t){return Cm(n,e,e.segments,t)}function Cm(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!$r(i,t)||e.hasChildren()||!pc(i,t,r))}else if(n.segments.length===t.length){if(!$r(n.segments,t)||!pc(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Sm(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!$r(n.segments,i)||!pc(n.segments,i,r)||!n.children[re]?!1:Cm(n.children[re],e,s,r)}}function pc(n,e,t){return e.every((r,i)=>Am[t](n[i].parameters,r.parameters))}var nr=class{constructor(e=new we([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=zi(this.queryParams),this._queryParamMap}toString(){return mI.serialize(this)}},we=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gc(this)}},jr=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=zi(this.parameters),this._parameterMap}toString(){return Pm(this)}};function pI(n,e){return $r(n,e)&&n.every((t,r)=>Zt(t.parameters,e[r].parameters))}function $r(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function gI(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===re&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==re&&(t=t.concat(e(i,r)))}),t}var mh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:()=>new yc,providedIn:"root"});let n=e;return n})(),yc=class{parse(e){let t=new Wl(e);return new nr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${oo(e.root,!0)}`,r=wI(e.queryParams),i=typeof e.fragment=="string"?`#${yI(e.fragment)}`:"";return`${t}${r}${i}`}},mI=new yc;function gc(n){return n.segments.map(e=>Pm(e)).join("/")}function oo(n,e){if(!n.hasChildren())return gc(n);if(e){let t=n.children[re]?oo(n.children[re],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==re&&r.push(`${i}:${oo(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=gI(n,(r,i)=>i===re?[oo(n.children[re],!1)]:[`${i}:${oo(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[re]!=null?`${gc(n)}/${t[0]}`:`${gc(n)}/(${t.join("//")})`}}function Rm(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dc(n){return Rm(n).replace(/%3B/gi,";")}function yI(n){return encodeURI(n)}function Gl(n){return Rm(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mc(n){return decodeURIComponent(n)}function wm(n){return mc(n.replace(/\+/g,"%20"))}function Pm(n){return`${Gl(n.path)}${vI(n.parameters)}`}function vI(n){return Object.entries(n).map(([e,t])=>`;${Gl(e)}=${Gl(t)}`).join("")}function wI(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${dc(t)}=${dc(i)}`).join("&"):`${dc(t)}=${dc(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var _I=/^[^\/()?;#]+/;function Ul(n){let e=n.match(_I);return e?e[0]:""}var EI=/^[^\/()?;=#]+/;function II(n){let e=n.match(EI);return e?e[0]:""}var bI=/^[^=?&#]+/;function TI(n){let e=n.match(bI);return e?e[0]:""}var AI=/^[^&#]+/;function DI(n){let e=n.match(AI);return e?e[0]:""}var Wl=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[re]=new we(e,t)),r}parseSegment(){let e=Ul(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Me(4009,!1);return this.capture(e),new jr(mc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=II(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Ul(this.remaining);i&&(r=i,this.capture(r))}e[mc(t)]=mc(r)}parseQueryParam(e){let t=TI(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let a=DI(this.remaining);a&&(r=a,this.capture(r))}let i=wm(t),s=wm(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ul(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Me(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);let a=this.parseChildren();t[s]=Object.keys(a).length===1?a[re]:new we([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Me(4011,!1)}};function km(n){return n.segments.length>0?new we([],{[re]:n}):n}function Nm(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=Nm(i);if(r===re&&s.segments.length===0&&s.hasChildren())for(let[a,u]of Object.entries(s.children))e[a]=u;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new we(n.segments,e);return SI(t)}function SI(n){if(n.numberOfChildren===1&&n.children[re]){let e=n.children[re];return new we(n.segments.concat(e.segments),e.children)}return n}function qi(n){return n instanceof nr}function CI(n,e,t=null,r=null){let i=Om(n);return xm(i,e,t,r)}function Om(n){let e;function t(s){let a={};for(let d of s.children){let f=t(d);a[d.outlet]=f}let u=new we(s.url,a);return s===n&&(e=u),u}let r=t(n.root),i=km(r);return e??i}function xm(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Bl(i,i,i,t,r);let s=RI(e);if(s.toRoot())return Bl(i,i,new we([],{}),t,r);let a=PI(s,i,n),u=a.processChildren?uo(a.segmentGroup,a.index,s.commands):Fm(a.segmentGroup,a.index,s.commands);return Bl(i,a.segmentGroup,u,t,r)}function vc(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function fo(n){return typeof n=="object"&&n!=null&&n.outlets}function Bl(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([d,f])=>{s[d]=Array.isArray(f)?f.map(v=>`${v}`):`${f}`});let a;n===e?a=t:a=Mm(n,e,t);let u=km(Nm(a));return new nr(u,s,i)}function Mm(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=Mm(s,e,t)}),new we(n.segments,r)}var wc=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&vc(r[0]))throw new Me(4003,!1);let i=r.find(fo);if(i&&i!==Tm(r))throw new Me(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function RI(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new wc(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,a)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let u={};return Object.entries(s.outlets).forEach(([d,f])=>{u[d]=typeof f=="string"?f.split("/"):f}),[...i,{outlets:u}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:a===0?(s.split("/").forEach((u,d)=>{d==0&&u==="."||(d==0&&u===""?t=!0:u===".."?e++:u!=""&&i.push(u))}),i):[...i,s]},[]);return new wc(t,e,r)}var ji=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function PI(n,e,t){if(n.isAbsolute)return new ji(e,!0,0);if(!t)return new ji(e,!1,NaN);if(t.parent===null)return new ji(t,!0,0);let r=vc(n.commands[0])?0:1,i=t.segments.length-1+r;return kI(t,i,n.numberOfDoubleDots)}function kI(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Me(4005,!1);i=r.segments.length}return new ji(r,!1,i-s)}function NI(n){return fo(n[0])?n[0].outlets:{[re]:n}}function Fm(n,e,t){if(n??=new we([],{}),n.segments.length===0&&n.hasChildren())return uo(n,e,t);let r=OI(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new we(n.segments.slice(0,r.pathIndex),{});return s.children[re]=new we(n.segments.slice(r.pathIndex),n.children),uo(s,0,i)}else return r.match&&i.length===0?new we(n.segments,{}):r.match&&!n.hasChildren()?Hl(n,e,t):r.match?uo(n,0,i):Hl(n,e,t)}function uo(n,e,t){if(t.length===0)return new we(n.segments,{});{let r=NI(t),i={};if(Object.keys(r).some(s=>s!==re)&&n.children[re]&&n.numberOfChildren===1&&n.children[re].segments.length===0){let s=uo(n.children[re],e,t);return new we(n.segments,s.children)}return Object.entries(r).forEach(([s,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[s]=Fm(n.children[s],e,a))}),Object.entries(n.children).forEach(([s,a])=>{r[s]===void 0&&(i[s]=a)}),new we(n.segments,i)}}function OI(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let a=n.segments[i],u=t[r];if(fo(u))break;let d=`${u}`,f=r<t.length-1?t[r+1]:null;if(i>0&&d===void 0)break;if(d&&f&&typeof f=="object"&&f.outlets===void 0){if(!Em(d,f,a))return s;r+=2}else{if(!Em(d,{},a))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Hl(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(fo(s)){let d=xI(s.outlets);return new we(r,d)}if(i===0&&vc(t[0])){let d=n.segments[e];r.push(new jr(d.path,_m(t[0]))),i++;continue}let a=fo(s)?s.outlets[re]:`${s}`,u=i<t.length-1?t[i+1]:null;a&&u&&vc(u)?(r.push(new jr(a,_m(u))),i+=2):(r.push(new jr(a,{})),i++)}return new we(r,{})}function xI(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Hl(new we([],{}),0,r))}),e}function _m(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Em(n,e,t){return n==t.path&&Zt(e,t.parameters)}var lo="imperative",Je=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Je||{}),Rt=class{constructor(e,t){this.id=e,this.url=t}},po=class extends Rt{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Je.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},zr=class extends Rt{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Je.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},_t=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(_t||{}),Kl=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Kl||{}),rr=class extends Rt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Je.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},qr=class extends Rt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Je.NavigationSkipped}},go=class extends Rt{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Je.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},_c=class extends Rt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Je.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ql=class extends Rt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Je.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yl=class extends Rt{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Je.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Jl=class extends Rt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Je.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xl=class extends Rt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Je.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zl=class{constructor(e){this.route=e,this.type=Je.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},eh=class{constructor(e){this.route=e,this.type=Je.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},th=class{constructor(e){this.snapshot=e,this.type=Je.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nh=class{constructor(e){this.snapshot=e,this.type=Je.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rh=class{constructor(e){this.snapshot=e,this.type=Je.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ih=class{constructor(e){this.snapshot=e,this.type=Je.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var mo=class{},yo=class{constructor(e){this.url=e}};var sh=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Dc,this.attachRef=null}},Dc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new sh,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Ec=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=oh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=oh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=ah(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ah(e,this._root).map(t=>t.value)}};function oh(n,e){if(n===e.value)return e;for(let t of e.children){let r=oh(n,t);if(r)return r}return null}function ah(n,e){if(n===e.value)return[e];for(let t of e.children){let r=ah(n,t);if(r.length)return r.unshift(e),r}return[]}var wt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Bi(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Ic=class extends Ec{constructor(e,t){super(e),this.snapshot=t,vh(this,e)}toString(){return this.snapshot.toString()}};function Lm(n){let e=MI(n),t=new Dt([new jr("",{})]),r=new Dt({}),i=new Dt({}),s=new Dt({}),a=new Dt(""),u=new Gi(t,r,s,a,i,re,n,e.root);return u.snapshot=e.root,new Ic(new wt(u,[]),e)}function MI(n){let e={},t={},r={},i="",s=new vo([],e,r,i,t,re,n,null,{});return new bc("",new wt(s,[]))}var Gi=class{constructor(e,t,r,i,s,a,u,d){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=a,this.component=u,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(ve(f=>f[Eo]))??J(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ve(e=>zi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ve(e=>zi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function yh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:G(G({},e.params),n.params),data:G(G({},e.data),n.data),resolve:G(G(G(G({},n.data),e.data),i?.data),n._resolvedData)}:r={params:G({},n.params),data:G({},n.data),resolve:G(G({},n.data),n._resolvedData??{})},i&&Um(i)&&(r.resolve[Eo]=i.title),r}var vo=class{get title(){return this.data?.[Eo]}constructor(e,t,r,i,s,a,u,d,f){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=u,this.routeConfig=d,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},bc=class extends Ec{constructor(e,t){super(t),this.url=e,vh(this,t)}toString(){return Vm(this._root)}};function vh(n,e){e.value._routerState=n,e.children.forEach(t=>vh(n,t))}function Vm(n){let e=n.children.length>0?` { ${n.children.map(Vm).join(", ")} } `:"";return`${n.value}${e}`}function jl(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Zt(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Zt(e.params,t.params)||n.paramsSubject.next(t.params),lI(e.url,t.url)||n.urlSubject.next(t.url),Zt(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ch(n,e){let t=Zt(n.params,e.params)&&pI(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||ch(n.parent,e.parent))}function Um(n){return typeof n.title=="string"||n.title===null}var FI=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new Lr,this.deactivateEvents=new Lr,this.attachEvents=new Lr,this.detachEvents=new Lr,this.parentContexts=W(Dc),this.location=W(Ys),this.changeDetector=W(Xs),this.environmentInjector=W(xi),this.inputBinder=W(wh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Me(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Me(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Me(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new Me(4013,!1);this._activatedRoute=r;let s=this.location,u=r.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new uh(r,d,s.injector);this.activated=s.createComponent(u,{index:s.length,injector:f,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ks({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yl]});let n=e;return n})(),uh=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Gi?this.route:e===Dc?this.childContexts:this.parent.get(e,t)}},wh=new Ee("");function LI(n,e,t){let r=wo(n,e._root,t?t._root:void 0);return new Ic(r,e)}function wo(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=VI(n,e,t);return new wt(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(u=>wo(n,u)),a}}let r=UI(e.value),i=e.children.map(s=>wo(n,s));return new wt(r,i)}}function VI(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return wo(n,r,i);return wo(n,r)})}function UI(n){return new Gi(new Dt(n.url),new Dt(n.params),new Dt(n.queryParams),new Dt(n.fragment),new Dt(n.data),n.outlet,n.component,n)}var Bm="ngNavigationCancelingError";function jm(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=qi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$m(!1,_t.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function $m(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Bm]=!0,t.cancellationCode=e,t}function BI(n){return zm(n)&&qi(n.url)}function zm(n){return!!n&&n[Bm]}var jI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=kg({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ug],decls:1,vars:0,template:function(i,s){i&1&&Vg(0,"router-outlet")},dependencies:[FI],encapsulation:2});let n=e;return n})();function $I(n,e){return n.providers&&!n._injector&&(n._injector=Lg(n.providers,e,`Route: ${n.path}`)),n._injector??e}function _h(n){let e=n.children&&n.children.map(_h),t=e?Qe(G({},n),{children:e}):G({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==re&&(t.component=jI),t}function en(n){return n.outlet||re}function zI(n,e){let t=n.filter(r=>en(r)===e);return t.push(...n.filter(r=>en(r)!==e)),t}function Io(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var qI=(n,e,t,r)=>ve(i=>(new lh(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),lh=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),jl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Bi(t);e.children.forEach(s=>{let a=s.value.outlet;this.deactivateRoutes(s,i[a],r),delete i[a]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Bi(e);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),u=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:u})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Bi(e);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Bi(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ih(s.value.snapshot))}),e.children.length&&this.forwardEvent(new nh(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(jl(i),i===s)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let u=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),jl(u.route.value),this.activateChildRoutes(e,null,a.children)}else{let u=Io(i.snapshot);a.attachRef=null,a.route=i,a.injector=u,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,r)}},Tc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},$i=class{constructor(e,t){this.component=e,this.route=t}};function GI(n,e,t){let r=n._root,i=e?e._root:null;return ao(r,i,t,[r.value])}function WI(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Hi(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Pg(n)?n:e.get(n):r}function ao(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Bi(e);return n.children.forEach(a=>{HI(a,s[a.value.outlet],t,r.concat([a.value]),i),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,u])=>ho(u,t.getContext(a),i)),i}function HI(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,a=e?e.value:null,u=t?t.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){let d=KI(a,s,s.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new Tc(r)):(s.data=a.data,s._resolvedData=a._resolvedData),s.component?ao(n,e,u?u.children:null,r,i):ao(n,e,t,r,i),d&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new $i(u.outlet.component,a))}else a&&ho(e,u,i),i.canActivateChecks.push(new Tc(r)),s.component?ao(n,null,u?u.children:null,r,i):ao(n,null,t,r,i);return i}function KI(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!$r(n.url,e.url);case"pathParamsOrQueryParamsChange":return!$r(n.url,e.url)||!Zt(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ch(n,e)||!Zt(n.queryParams,e.queryParams);case"paramsChange":default:return!ch(n,e)}}function ho(n,e,t){let r=Bi(n),i=n.value;Object.entries(r).forEach(([s,a])=>{i.component?e?ho(a,e.children.getContext(s),t):ho(a,null,t):ho(a,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new $i(e.outlet.component,i)):t.canDeactivateChecks.push(new $i(null,i)):t.canDeactivateChecks.push(new $i(null,i))}function bo(n){return typeof n=="function"}function QI(n){return typeof n=="boolean"}function YI(n){return n&&bo(n.canLoad)}function JI(n){return n&&bo(n.canActivate)}function XI(n){return n&&bo(n.canActivateChild)}function ZI(n){return n&&bo(n.canDeactivate)}function e0(n){return n&&bo(n.canMatch)}function qm(n){return n instanceof Ig||n?.name==="EmptyError"}var fc=Symbol("INITIAL_VALUE");function Wi(){return Ct(n=>dl(n.map(e=>e.pipe(Ni(1),Sg(fc)))).pipe(ve(e=>{for(let t of e)if(t!==!0){if(t===fc)return fc;if(t===!1||t instanceof nr)return t}return!0}),Xn(e=>e!==fc),Ni(1)))}function t0(n,e){return St(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return a.length===0&&s.length===0?J(Qe(G({},t),{guardsResult:!0})):n0(a,r,i,n).pipe(St(u=>u&&QI(u)?r0(r,s,n,e):J(u)),ve(u=>Qe(G({},t),{guardsResult:u})))})}function n0(n,e,t,r){return vt(n).pipe(St(i=>c0(i.component,i.route,t,e,r)),Zn(i=>i!==!0,!0))}function r0(n,e,t,r){return vt(e).pipe(Fr(i=>bg(s0(i.route.parent,r),i0(i.route,r),a0(n,i.path,t),o0(n,i.route,t))),Zn(i=>i!==!0,!0))}function i0(n,e){return n!==null&&e&&e(new rh(n)),J(!0)}function s0(n,e){return n!==null&&e&&e(new th(n)),J(!0)}function o0(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return J(!0);let i=r.map(s=>fl(()=>{let a=Io(e)??t,u=Hi(s,a),d=JI(u)?u.canActivate(e,n):Dn(a,()=>u(e,n));return ir(d).pipe(Zn())}));return J(i).pipe(Wi())}function a0(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(a=>WI(a)).filter(a=>a!==null).map(a=>fl(()=>{let u=a.guards.map(d=>{let f=Io(a.node)??t,v=Hi(d,f),T=XI(v)?v.canActivateChild(r,n):Dn(f,()=>v(r,n));return ir(T).pipe(Zn())});return J(u).pipe(Wi())}));return J(s).pipe(Wi())}function c0(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return J(!0);let a=s.map(u=>{let d=Io(e)??i,f=Hi(u,d),v=ZI(f)?f.canDeactivate(n,e,t,r):Dn(d,()=>f(n,e,t,r));return ir(v).pipe(Zn())});return J(a).pipe(Wi())}function u0(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return J(!0);let s=i.map(a=>{let u=Hi(a,n),d=YI(u)?u.canLoad(e,t):Dn(n,()=>u(e,t));return ir(d)});return J(s).pipe(Wi(),Gm(r))}function Gm(n){return vg($e(e=>{if(qi(e))throw jm(n,e)}),ve(e=>e===!0))}function l0(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return J(!0);let s=i.map(a=>{let u=Hi(a,n),d=e0(u)?u.canMatch(e,t):Dn(n,()=>u(e,t));return ir(d)});return J(s).pipe(Wi(),Gm(r))}var _o=class{constructor(e){this.segmentGroup=e||null}},Ac=class extends Error{constructor(e){super(),this.urlTree=e}};function Ui(n){return Ws(new _o(n))}function h0(n){return Ws(new Me(4e3,!1))}function d0(n){return Ws($m(!1,_t.GuardRejected))}var hh=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return J(r);if(i.numberOfChildren>1||!i.children[re])return h0(e.redirectTo);i=i.children[re]}}applyRedirectCommands(e,t,r){let i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t.startsWith("/"))throw new Ac(i);return i}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new nr(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let u=s.substring(1);r[i]=t[u]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),a={};return Object.entries(t.children).forEach(([u,d])=>{a[u]=this.createSegmentGroup(e,d,r,i)}),new we(s,a)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Me(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},dh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function f0(n,e,t,r,i){let s=Eh(n,e,t);return s.matched?(r=$I(e,r),l0(r,e,t,i).pipe(ve(a=>a===!0?s:G({},dh)))):J(s)}function Eh(n,e,t){if(e.path==="**")return p0(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?G({},dh):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||uI)(t,n,e);if(!i)return G({},dh);let s={};Object.entries(i.posParams??{}).forEach(([u,d])=>{s[u]=d.path});let a=i.consumed.length>0?G(G({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function p0(n){return{matched:!0,parameters:n.length>0?Tm(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Im(n,e,t,r){return t.length>0&&y0(n,t,r)?{segmentGroup:new we(e,m0(r,new we(t,n.children))),slicedSegments:[]}:t.length===0&&v0(n,t,r)?{segmentGroup:new we(n.segments,g0(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new we(n.segments,n.children),slicedSegments:t}}function g0(n,e,t,r){let i={};for(let s of t)if(Sc(n,e,s)&&!r[en(s)]){let a=new we([],{});i[en(s)]=a}return G(G({},r),i)}function m0(n,e){let t={};t[re]=e;for(let r of n)if(r.path===""&&en(r)!==re){let i=new we([],{});t[en(r)]=i}return t}function y0(n,e,t){return t.some(r=>Sc(n,e,r)&&en(r)!==re)}function v0(n,e,t){return t.some(r=>Sc(n,e,r))}function Sc(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function w0(n,e,t,r){return en(n)!==r&&(r===re||!Sc(e,t,n))?!1:Eh(e,n,t).matched}function _0(n,e,t){return e.length===0&&!n.children[t]}var fh=class{};function E0(n,e,t,r,i,s,a="emptyOnly"){return new ph(n,e,t,r,i,a,s).recognize()}var I0=31,ph=class{constructor(e,t,r,i,s,a,u){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=u,this.applyRedirects=new hh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Me(4002,`'${e.segmentGroup}'`)}recognize(){let e=Im(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ve(t=>{let r=new vo([],Object.freeze({}),Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,{},re,this.rootComponentType,null,{}),i=new wt(r,t),s=new bc("",i),a=CI(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(s._root,null),{state:s,tree:a}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,re).pipe(ki(r=>{if(r instanceof Ac)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof _o?this.noMatchError(r):r}))}inheritParamsAndData(e,t){let r=e.value,i=yh(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,t,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0).pipe(ve(s=>s instanceof wt?[s]:[]))}processChildren(e,t,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return vt(i).pipe(Fr(s=>{let a=r.children[s],u=zI(t,s);return this.processSegmentGroup(e,u,a,s)}),Dg((s,a)=>(s.push(...a),s)),pl(null),Ag(),St(s=>{if(s===null)return Ui(r);let a=Wm(s);return b0(a),J(a)}))}processSegment(e,t,r,i,s,a){return vt(t).pipe(Fr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,s,a).pipe(ki(d=>{if(d instanceof _o)return J(null);throw d}))),Zn(u=>!!u),ki(u=>{if(qm(u))return _0(r,i,s)?J(new fh):Ui(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,s,a,u){return w0(r,i,s,a)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,a):this.allowRedirects&&u?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,a):Ui(i):Ui(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a){let{matched:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:v}=Eh(t,i,s);if(!u)return Ui(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>I0&&(this.allowRedirects=!1));let T=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f);return this.applyRedirects.lineralizeSegments(i,T).pipe(St(A=>this.processSegment(e,r,t,A.concat(v),a,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){let a=f0(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ct(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ct(({routes:d})=>{let f=r._loadedInjector??e,{consumedSegments:v,remainingSegments:T,parameters:A}=u,O=new vo(v,A,Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,A0(r),en(r),r.component??r._loadedComponent??null,r,D0(r)),{segmentGroup:L,slicedSegments:B}=Im(t,v,T,d);if(B.length===0&&L.hasChildren())return this.processChildren(f,d,L).pipe(ve($=>$===null?null:new wt(O,$)));if(d.length===0&&B.length===0)return J(new wt(O,[]));let M=en(r)===s;return this.processSegment(f,d,L,B,M?re:s,!0).pipe(ve($=>new wt(O,$ instanceof wt?[$]:[])))}))):Ui(t)))}getChildConfig(e,t,r){return t.children?J({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?J({routes:t._loadedRoutes,injector:t._loadedInjector}):u0(e,t,r,this.urlSerializer).pipe(St(i=>i?this.configLoader.loadChildren(e,t).pipe($e(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):d0(t))):J({routes:[],injector:e})}};function b0(n){n.sort((e,t)=>e.value.outlet===re?-1:t.value.outlet===re?1:e.value.outlet.localeCompare(t.value.outlet))}function T0(n){let e=n.value.routeConfig;return e&&e.path===""}function Wm(n){let e=[],t=new Set;for(let r of n){if(!T0(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=Wm(r.children);e.push(new wt(r.value,i))}return e.filter(r=>!t.has(r))}function A0(n){return n.data||{}}function D0(n){return n.resolve||{}}function S0(n,e,t,r,i,s){return St(a=>E0(n,e,t,r,a.extractedUrl,i,s).pipe(ve(({state:u,tree:d})=>Qe(G({},a),{targetSnapshot:u,urlAfterRedirects:d}))))}function C0(n,e){return St(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return J(t);let s=new Set(i.map(d=>d.route)),a=new Set;for(let d of s)if(!a.has(d))for(let f of Hm(d))a.add(f);let u=0;return vt(a).pipe(Fr(d=>s.has(d)?R0(d,r,n,e):(d.data=yh(d,d.parent,n).resolve,J(void 0))),$e(()=>u++),gl(1),St(d=>u===a.size?J(t):Jn))})}function Hm(n){let e=n.children.map(t=>Hm(t)).flat();return[n,...e]}function R0(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!Um(i)&&(s[Eo]=i.title),P0(s,n,e,r).pipe(ve(a=>(n._resolvedData=a,n.data=yh(n,n.parent,t).resolve,null)))}function P0(n,e,t,r){let i=ql(n);if(i.length===0)return J({});let s={};return vt(i).pipe(St(a=>k0(n[a],e,t,r).pipe(Zn(),$e(u=>{s[a]=u}))),gl(1),Tg(s),ki(a=>qm(a)?Jn:Ws(a)))}function k0(n,e,t,r){let i=Io(e)??r,s=Hi(n,i),a=s.resolve?s.resolve(e,t):Dn(i,()=>s(e,t));return ir(a)}function $l(n){return Ct(e=>{let t=n(e);return t?vt(t).pipe(ve(()=>e)):J(e)})}var Km=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(a=>a.outlet===re);return i}getResolvedTitleForRoute(r){return r.data[Eo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:()=>W(N0),providedIn:"root"});let n=e;return n})(),N0=(()=>{let e=class e extends Km{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ae(ym))},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Ih=new Ee("",{providedIn:"root",factory:()=>({})}),bh=new Ee(""),O0=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=W(Al)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return J(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ir(r.loadComponent()).pipe(ve(Qm),$e(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),Oi(()=>{this.componentLoaders.delete(r)})),s=new cl(i,()=>new Mr).pipe(al());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return J({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let a=x0(i,this.compiler,r,this.onLoadEndListener).pipe(Oi(()=>{this.childrenLoaders.delete(i)})),u=new cl(a,()=>new Mr).pipe(al());return this.childrenLoaders.set(i,u),u}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function x0(n,e,t,r){return ir(n.loadChildren()).pipe(ve(Qm),St(i=>i instanceof Fg||Array.isArray(i)?J(i):vt(e.compileModuleAsync(i))),ve(i=>{r&&r(n);let s,a,u=!1;return Array.isArray(i)?(a=i,u=!0):(s=i.create(t).injector,a=s.get(bh,[],{optional:!0,self:!0}).flat()),{routes:a.map(_h),injector:s}}))}function M0(n){return n&&typeof n=="object"&&"default"in n}function Qm(n){return M0(n)?n.default:n}var Th=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:()=>W(F0),providedIn:"root"});let n=e;return n})(),F0=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),L0=new Ee("");var V0=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Mr,this.transitionAbortSubject=new Mr,this.configLoader=W(O0),this.environmentInjector=W(xi),this.urlSerializer=W(mh),this.rootContexts=W(Dc),this.location=W(Zs),this.inputBindingEnabled=W(wh,{optional:!0})!==null,this.titleStrategy=W(Km),this.options=W(Ih,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=W(Th),this.createViewTransition=W(L0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Zl(s)),i=s=>this.events.next(new eh(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Qe(G(G({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Dt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:lo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xn(a=>a.id!==0),ve(a=>Qe(G({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Ct(a=>{let u=!1,d=!1;return J(a).pipe(Ct(f=>{if(this.navigationId>a.id)return this.cancelNavigationTransition(a,"",_t.SupersededByNewNavigation),Jn;this.currentTransition=a,this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Qe(G({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let v=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),T=f.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!v&&T!=="reload"){let A="";return this.events.next(new qr(f.id,this.urlSerializer.serialize(f.rawUrl),A,Kl.IgnoredSameUrlNavigation)),f.resolve(null),Jn}if(this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return J(f).pipe(Ct(A=>{let O=this.transitions?.getValue();return this.events.next(new po(A.id,this.urlSerializer.serialize(A.extractedUrl),A.source,A.restoredState)),O!==this.transitions?.getValue()?Jn:Promise.resolve(A)}),S0(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),$e(A=>{a.targetSnapshot=A.targetSnapshot,a.urlAfterRedirects=A.urlAfterRedirects,this.currentNavigation=Qe(G({},this.currentNavigation),{finalUrl:A.urlAfterRedirects});let O=new _c(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects),A.targetSnapshot);this.events.next(O)}));if(v&&this.urlHandlingStrategy.shouldProcessUrl(f.currentRawUrl)){let{id:A,extractedUrl:O,source:L,restoredState:B,extras:M}=f,$=new po(A,this.urlSerializer.serialize(O),L,B);this.events.next($);let Y=Lm(this.rootComponentType).snapshot;return this.currentTransition=a=Qe(G({},f),{targetSnapshot:Y,urlAfterRedirects:O,extras:Qe(G({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=O,J(a)}else{let A="";return this.events.next(new qr(f.id,this.urlSerializer.serialize(f.extractedUrl),A,Kl.IgnoredByUrlHandlingStrategy)),f.resolve(null),Jn}}),$e(f=>{let v=new Ql(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(v)}),ve(f=>(this.currentTransition=a=Qe(G({},f),{guards:GI(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),a)),t0(this.environmentInjector,f=>this.events.next(f)),$e(f=>{if(a.guardsResult=f.guardsResult,qi(f.guardsResult))throw jm(this.urlSerializer,f.guardsResult);let v=new Yl(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(v)}),Xn(f=>f.guardsResult?!0:(this.cancelNavigationTransition(f,"",_t.GuardRejected),!1)),$l(f=>{if(f.guards.canActivateChecks.length)return J(f).pipe($e(v=>{let T=new Jl(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(T)}),Ct(v=>{let T=!1;return J(v).pipe(C0(this.paramsInheritanceStrategy,this.environmentInjector),$e({next:()=>T=!0,complete:()=>{T||this.cancelNavigationTransition(v,"",_t.NoDataFromResolver)}}))}),$e(v=>{let T=new Xl(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(T)}))}),$l(f=>{let v=T=>{let A=[];T.routeConfig?.loadComponent&&!T.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(T.routeConfig).pipe($e(O=>{T.component=O}),ve(()=>{})));for(let O of T.children)A.push(...v(O));return A};return dl(v(f.targetSnapshot.root)).pipe(pl(null),Ni(1))}),$l(()=>this.afterPreactivation()),Ct(()=>{let{currentSnapshot:f,targetSnapshot:v}=a,T=this.createViewTransition?.(this.environmentInjector,f.root,v.root);return T?vt(T).pipe(ve(()=>a)):J(a)}),ve(f=>{let v=LI(r.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return this.currentTransition=a=Qe(G({},f),{targetRouterState:v}),this.currentNavigation.targetRouterState=v,a}),$e(()=>{this.events.next(new mo)}),qI(this.rootContexts,r.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),Ni(1),$e({next:f=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zr(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects))),this.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{u=!0}}),Cg(this.transitionAbortSubject.pipe($e(f=>{throw f}))),Oi(()=>{!u&&!d&&this.cancelNavigationTransition(a,"",_t.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),ki(f=>{if(d=!0,zm(f))this.events.next(new rr(a.id,this.urlSerializer.serialize(a.extractedUrl),f.message,f.cancellationCode)),BI(f)?this.events.next(new yo(f.url)):a.resolve(!1);else{this.events.next(new go(a.id,this.urlSerializer.serialize(a.extractedUrl),f,a.targetSnapshot??void 0));try{a.resolve(r.errorHandler(f))}catch(v){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(v)}}return Jn}))}))}cancelNavigationTransition(r,i,s){let a=new rr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(a),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function U0(n){return n!==lo}var B0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:()=>W(j0),providedIn:"root"});let n=e;return n})(),gh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},j0=(()=>{let e=class e extends gh{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=vl(e)))(s||e)}})(),e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Ym=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:()=>W($0),providedIn:"root"});let n=e;return n})(),$0=(()=>{let e=class e extends Ym{constructor(){super(...arguments),this.location=W(Zs),this.urlSerializer=W(mh),this.options=W(Ih,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=W(Th),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new nr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Lm(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof po)this.stateMemento=this.createStateMemento();else if(r instanceof qr)this.rawUrlTree=i.initialUrl;else if(r instanceof _c){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof mo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof rr&&(r.code===_t.GuardRejected||r.code===_t.NoDataFromResolver)?this.restoreHistory(i):r instanceof go?this.restoreHistory(i,!0):r instanceof zr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let a=this.browserPageId,u=G(G({},i.extras.state),this.generateNgRouterState(i.id,a));this.location.replaceState(s,"",u)}else{let a=G(G({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",a)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,a=this.currentPageId-s;a!==0?this.location.historyGo(a):this.currentUrlTree===r.finalUrl&&a===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=vl(e)))(s||e)}})(),e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),co=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(co||{});function z0(n,e){n.events.pipe(Xn(t=>t instanceof zr||t instanceof rr||t instanceof go||t instanceof qr),ve(t=>t instanceof zr||t instanceof qr?co.COMPLETE:(t instanceof rr?t.code===_t.Redirect||t.code===_t.SupersededByNewNavigation:!1)?co.REDIRECTING:co.FAILED),Xn(t=>t!==co.REDIRECTING),Ni(1)).subscribe(()=>{e()})}function q0(n){throw n}var G0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},W0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Jm=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=W(Xa),this.stateManager=W(Ym),this.options=W(Ih,{optional:!0})||{},this.pendingTasks=W(Ja),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=W(V0),this.urlSerializer=W(mh),this.location=W(Zs),this.urlHandlingStrategy=W(Th),this._events=new Mr,this.errorHandler=this.options.errorHandler||q0,this.navigated=!1,this.routeReuseStrategy=W(B0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=W(bh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!W(wh,{optional:!0}),this.eventsSubscription=new yg,this.isNgZoneEnabled=W(ze)instanceof ze&&ze.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(s!==null&&a!==null){if(this.stateManager.handleRouterEvent(i,a),i instanceof rr&&i.code!==_t.Redirect&&i.code!==_t.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof zr)this.navigated=!0;else if(i instanceof yo){let u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),d={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||U0(s.source)};this.scheduleNavigation(u,lo,null,d,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}K0(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),lo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let a={replaceUrl:!0},u=s?.navigationId?s:null;if(s){let f=G({},s);delete f.navigationId,delete f.\u0275routerPageId,Object.keys(f).length!==0&&(a.state=f)}let d=this.parseUrl(r);this.scheduleNavigation(d,i,u,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(_h),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:a,fragment:u,queryParamsHandling:d,preserveFragment:f}=i,v=f?this.currentUrlTree.fragment:u,T=null;switch(d){case"merge":T=G(G({},this.currentUrlTree.queryParams),a);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=a||null}T!==null&&(T=this.removeEmptyProps(T));let A;try{let O=s?s.snapshot:this.routerState.snapshot.root;A=Om(O)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),A=this.currentUrlTree.root}return xm(A,r,T,v??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=qi(r)?r:this.parseUrl(r),a=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(a,lo,null,i)}navigate(r,i={skipLocationChange:!1}){return H0(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=G({},G0):i===!1?s=G({},W0):s=i,qi(r))return vm(this.currentUrlTree,r,s);let a=this.parseUrl(r);return vm(this.currentUrlTree,a,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,a])=>(a!=null&&(i[s]=a),i),{})}scheduleNavigation(r,i,s,a,u){if(this.disposed)return Promise.resolve(!1);let d,f,v;u?(d=u.resolve,f=u.reject,v=u.promise):v=new Promise((A,O)=>{d=A,f=O});let T=this.pendingTasks.add();return z0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(T))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:a,resolve:d,reject:f,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(A=>Promise.reject(A))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function H0(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Me(4008,!1)}function K0(n){return!(n instanceof mo)&&!(n instanceof yo)}var Q0=new Ee("");function rk(n,...e){return Qs([{provide:bh,multi:!0,useValue:n},[],{provide:Gi,useFactory:Y0,deps:[Jm]},{provide:Tl,multi:!0,useFactory:J0},e.map(t=>t.\u0275providers)])}function Y0(n){return n.routerState.root}function J0(){let n=W(Sn);return e=>{let t=n.get(Za);if(e!==t.components[0])return;let r=n.get(Jm),i=n.get(X0);n.get(Z0)===1&&r.initialNavigation(),n.get(eb,null,ml.Optional)?.setUpPreloading(),n.get(Q0,null,ml.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var X0=new Ee("",{factory:()=>new Mr}),Z0=new Ee("",{providedIn:"root",factory:()=>1});var eb=new Ee("");var Zm=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},tb=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],a=n[t++],u=n[t++],d=((i&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{let s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},ey={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],a=i+1<n.length,u=a?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,v=s>>2,T=(s&3)<<4|u>>4,A=(u&15)<<2|f>>6,O=f&63;d||(O=64,a||(A=64)),r.push(t[v],t[T],t[A],t[O])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Zm(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tb(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;let f=i<n.length?t[n.charAt(i)]:64;++i;let T=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||f==null||T==null)throw new Dh;let A=s<<2|u>>4;if(r.push(A),f!==64){let O=u<<4&240|f>>2;if(r.push(O),T!==64){let L=f<<6&192|T;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Dh=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},nb=function(n){let e=Zm(n);return ey.encodeByteArray(e,!0)},To=function(n){return nb(n).replace(/\./g,"")},Ch=function(n){try{return ey.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function rb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var ib=()=>rb().__FIREBASE_DEFAULTS__,sb=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ob=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Ch(n[1]);return e&&JSON.parse(e)},Rc=()=>{try{return ib()||sb()||ob()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Rh=n=>{var e,t;return(t=(e=Rc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ty=n=>{let e=Rh(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ph=()=>{var n;return(n=Rc())===null||n===void 0?void 0:n.config},kh=n=>{var e;return(e=Rc())===null||e===void 0?void 0:e[`_${n}`]};var Cc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function ny(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[To(JSON.stringify(t)),To(JSON.stringify(a)),""].join(".")}function qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ry(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function ab(){var n;let e=(n=Rc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iy(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function sy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oy(){let n=qe();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ay(){return!ab()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nh(){try{return typeof indexedDB=="object"}catch{return!1}}function cy(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var cb="FirebaseError",Et=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=cb,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cn.prototype.create)}},Cn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?ub(s,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new Et(i,u,r)}};function ub(n,e){return n.replace(lb,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var lb=/\{\$([^}]+)}/g;function uy(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Gr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],a=e[i];if(Xm(s)&&Xm(a)){if(!Gr(s,a))return!1}else if(s!==a)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Xm(n){return n!==null&&typeof n=="object"}function Ao(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ki(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Qi(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function ly(n,e){let t=new Sh(n,e);return t.subscribe.bind(t)}var Sh=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");hb(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Ah),i.error===void 0&&(i.error=Ah),i.complete===void 0&&(i.complete=Ah);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function hb(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ah(){}var ok=4*60*60*1e3;function Ge(n){return n&&n._delegate?n._delegate:n}var Pt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Wr="[DEFAULT]";var Oh=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Cc;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fb(e))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Wr){return this.instances.has(e)}getOptions(e=Wr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,a]of this.instancesDeferred.entries()){let u=this.normalizeInstanceIdentifier(s);r===u&&a.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:db(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wr){return this.component?this.component.multipleInstances?e:Wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function db(n){return n===Wr?void 0:n}function fb(n){return n.instantiationMode==="EAGER"}var Pc=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Oh(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var pb=[],le=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(le||{}),gb={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},mb=le.INFO,yb={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},vb=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=yb[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},sr=class{constructor(e){this.name=e,this._logLevel=mb,this._logHandler=vb,this._userLogHandler=null,pb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var wb=(n,e)=>e.some(t=>n instanceof t),hy,dy;function _b(){return hy||(hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Eb(){return dy||(dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var fy=new WeakMap,Mh=new WeakMap,py=new WeakMap,xh=new WeakMap,Lh=new WeakMap;function Ib(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(tn(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&fy.set(t,n)}).catch(()=>{}),Lh.set(e,n),e}function bb(n){if(Mh.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});Mh.set(n,e)}var Fh={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Mh.get(n);if(e==="objectStoreNames")return n.objectStoreNames||py.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return tn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function gy(n){Fh=n(Fh)}function Tb(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(kc(this),e,...t);return py.set(r,e.sort?e.sort():[e]),tn(r)}:Eb().includes(n)?function(...e){return n.apply(kc(this),e),tn(fy.get(this))}:function(...e){return tn(n.apply(kc(this),e))}}function Ab(n){return typeof n=="function"?Tb(n):(n instanceof IDBTransaction&&bb(n),wb(n,_b())?new Proxy(n,Fh):n)}function tn(n){if(n instanceof IDBRequest)return Ib(n);if(xh.has(n))return xh.get(n);let e=Ab(n);return e!==n&&(xh.set(n,e),Lh.set(e,n)),e}var kc=n=>Lh.get(n);function yy(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let a=indexedDB.open(n,e),u=tn(a);return r&&a.addEventListener("upgradeneeded",d=>{r(tn(a.result),d.oldVersion,d.newVersion,tn(a.transaction),d)}),t&&a.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}var Db=["get","getKey","getAll","getAllKeys","count"],Sb=["put","add","delete","clear"],Vh=new Map;function my(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Vh.get(e))return Vh.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Sb.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Db.includes(t)))return;let s=function(a,...u){return b(this,null,function*(){let d=this.transaction(a,i?"readwrite":"readonly"),f=d.store;return r&&(f=f.index(u.shift())),(yield Promise.all([f[t](...u),i&&d.done]))[0]})};return Vh.set(e,s),s}gy(n=>Qe(G({},n),{get:(e,t,r)=>my(e,t)||n.get(e,t,r),has:(e,t)=>!!my(e,t)||n.has(e,t)}));var Bh=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Cb(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Cb(n){let e=n.getComponent();return e?.type==="VERSION"}var jh="@firebase/app",vy="0.10.5";var Hr=new sr("@firebase/app"),Rb="@firebase/app-compat",Pb="@firebase/analytics-compat",kb="@firebase/analytics",Nb="@firebase/app-check-compat",Ob="@firebase/app-check",xb="@firebase/auth",Mb="@firebase/auth-compat",Fb="@firebase/database",Lb="@firebase/database-compat",Vb="@firebase/functions",Ub="@firebase/functions-compat",Bb="@firebase/installations",jb="@firebase/installations-compat",$b="@firebase/messaging",zb="@firebase/messaging-compat",qb="@firebase/performance",Gb="@firebase/performance-compat",Wb="@firebase/remote-config",Hb="@firebase/remote-config-compat",Kb="@firebase/storage",Qb="@firebase/storage-compat",Yb="@firebase/firestore",Jb="@firebase/vertexai-preview",Xb="@firebase/firestore-compat",Zb="firebase",eT="10.12.2";var $h="[DEFAULT]",tT={[jh]:"fire-core",[Rb]:"fire-core-compat",[kb]:"fire-analytics",[Pb]:"fire-analytics-compat",[Ob]:"fire-app-check",[Nb]:"fire-app-check-compat",[xb]:"fire-auth",[Mb]:"fire-auth-compat",[Fb]:"fire-rtdb",[Lb]:"fire-rtdb-compat",[Vb]:"fire-fn",[Ub]:"fire-fn-compat",[Bb]:"fire-iid",[jb]:"fire-iid-compat",[$b]:"fire-fcm",[zb]:"fire-fcm-compat",[qb]:"fire-perf",[Gb]:"fire-perf-compat",[Wb]:"fire-rc",[Hb]:"fire-rc-compat",[Kb]:"fire-gcs",[Qb]:"fire-gcs-compat",[Yb]:"fire-fst",[Xb]:"fire-fst-compat",[Jb]:"fire-vertex","fire-js":"fire-js",[Zb]:"fire-js-all"};var Do=new Map,nT=new Map,zh=new Map;function wy(n,e){try{n.container.addComponent(e)}catch(t){Hr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ar(n){let e=n.name;if(zh.has(e))return Hr.debug(`There were multiple attempts to register component ${e}.`),!1;zh.set(e,n);for(let t of Do.values())wy(t,n);for(let t of nT.values())wy(t,n);return!0}function Co(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function jt(n){return n.settings!==void 0}var rT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new Cn("app","Firebase",rT);var qh=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}};var cr=eT;function Hh(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:$h,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw or.create("bad-app-name",{appName:String(i)});if(t||(t=Ph()),!t)throw or.create("no-options");let s=Do.get(i);if(s){if(Gr(t,s.options)&&Gr(r,s.config))return s;throw or.create("duplicate-app",{appName:i})}let a=new Pc(i);for(let d of zh.values())a.addComponent(d);let u=new qh(t,r,a);return Do.set(i,u),u}function Yi(n=$h){let e=Do.get(n);if(!e&&n===$h&&Ph())return Hh();if(!e)throw or.create("no-app",{appName:n});return e}function Nc(){return Array.from(Do.values())}function We(n,e,t){var r;let i=(r=tT[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){let u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hr.warn(u.join(" "));return}ar(new Pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var iT="firebase-heartbeat-database",sT=1,So="firebase-heartbeat-store",Uh=null;function by(){return Uh||(Uh=yy(iT,sT,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(So)}catch(t){console.warn(t)}}}}).catch(n=>{throw or.create("idb-open",{originalErrorMessage:n.message})})),Uh}function oT(n){return b(this,null,function*(){try{let t=(yield by()).transaction(So),r=yield t.objectStore(So).get(Ty(n));return yield t.done,r}catch(e){if(e instanceof Et)Hr.warn(e.message);else{let t=or.create("idb-get",{originalErrorMessage:e?.message});Hr.warn(t.message)}}})}function _y(n,e){return b(this,null,function*(){try{let r=(yield by()).transaction(So,"readwrite");yield r.objectStore(So).put(e,Ty(n)),yield r.done}catch(t){if(t instanceof Et)Hr.warn(t.message);else{let r=or.create("idb-set",{originalErrorMessage:t?.message});Hr.warn(r.message)}}})}function Ty(n){return`${n.name}!${n.options.appId}`}var aT=1024,cT=30*24*60*60*1e3,Gh=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Wh(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return b(this,null,function*(){var e,t;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ey();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let u=new Date(a.date).valueOf();return Date.now()-u<=cT}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return b(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Ey(),{heartbeatsToSend:r,unsentEntries:i}=uT(this._heartbeatsCache.heartbeats),s=To(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function Ey(){return new Date().toISOString().substring(0,10)}function uT(n,e=aT){let t=[],r=n.slice();for(let i of n){let s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Iy(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Iy(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Wh=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return Nh()?cy().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield oT(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return _y(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return _y(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Iy(n){return To(JSON.stringify({version:2,heartbeats:n})).length}function lT(n){ar(new Pt("platform-logger",e=>new Bh(e),"PRIVATE")),ar(new Pt("heartbeat",e=>new Gh(e),"PRIVATE")),We(jh,vy,n),We(jh,vy,"esm2017"),We("fire-js","")}lT("");var hT="firebase",dT="10.12.2";We(hT,dT,"app");var Qr=new Js("ANGULARFIRE2_VERSION");function xc(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(a=>a.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ro=(n,e)=>{let t=e?[e]:Nc(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r},Xi=class{constructor(){return Ro(fT)}},fT="app-check";function Ji(){}var Oc=class{zone;delegate;constructor(e,t=_g){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(a){i.runGuarded(()=>{e.apply(this,[a])})};return this.delegate.schedule(s,t,r)}},Kh=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ji,{},Ji,Ji)),t.pipe($e({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Zi=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Oc(Zone.current)),this.insideAngular=t.run(()=>new Oc(Zone.current,wg)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(ae(ze))};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mc(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function pT(n){return Mc().ngZone.runOutsideAngular(()=>n())}function Kr(n){return Mc().ngZone.run(()=>n())}function gT(n){return mT(Mc())(n)}function mT(n){return function(t){return t=t.lift(new Kh(n.ngZone)),t.pipe(hl(n.outsideAngular),ll(n.insideAngular))}}var yT=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Kr(()=>n.apply(void 0,r))},gt=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=Kr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ji,{},Ji,Ji))),r[s]=yT(r[s],t));let i=pT(()=>n.apply(this,r));if(!e)if(i instanceof Gs){let s=Mc();return i.pipe(hl(s.outsideAngular),ll(s.insideAngular))}else return Kr(()=>i);return i instanceof Gs?i.pipe(gT):i instanceof Promise?Kr(()=>new Promise((s,a)=>i.then(u=>Kr(()=>s(u)),u=>Kr(()=>a(u))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Kr(()=>i)};var Rn=class{constructor(e){return e}},Yr=class{constructor(){return Nc()}};function vT(n){return n&&n.length===1?n[0]:new Rn(Yi())}var Qh=new Ee("angularfire2._apps"),wT={provide:Rn,useFactory:vT,deps:[[new ft,Qh]]},_T={provide:Yr,deps:[[new ft,Qh]]};function ET(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Rn(r)}}var IT=(()=>{class n{constructor(t){We("angularfire",Qr.full,"core"),We("angularfire",Qr.full,"app"),We("angular",Bg.full,t.toString())}static \u0275fac=function(r){return new(r||n)(ae(Xt))};static \u0275mod=Bt({type:n});static \u0275inj=Ut({providers:[wT,_T]})}return n})();function qk(n,...e){return{ngModule:IT,providers:[{provide:Qh,useFactory:ET(n),multi:!0,deps:[ze,Sn,Zi,...e]}]}}var Gk=gt(Hh,!0);function jy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var $y=jy,zy=new Cn("auth","Firebase",jy());var jc=new sr("@firebase/auth");function bT(n,...e){jc.logLevel<=le.WARN&&jc.warn(`Auth (${cr}): ${n}`,...e)}function Lc(n,...e){jc.logLevel<=le.ERROR&&jc.error(`Auth (${cr}): ${n}`,...e)}function rn(n,...e){throw vd(n,...e)}function Jr(n,...e){return vd(n,...e)}function qy(n,e,t){let r=Object.assign(Object.assign({},$y()),{[e]:t});return new Cn("auth","Firebase",r).create(e,{appName:n.name})}function Nn(n){return qy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vd(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return zy.create(n,...e)}function H(n,e,...t){if(!n)throw vd(e,...t)}function Pn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Lc(e),new Error(e)}function lr(n,e){n||Pn(e)}function Zh(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function TT(){return Ay()==="http:"||Ay()==="https:"}function Ay(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function AT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TT()||iy()||"connection"in navigator)?navigator.onLine:!0}function DT(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Xr=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,lr(t>e,"Short delay should be less than long delay!"),this.isMobile=ry()||sy()}get(){return AT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function wd(n,e){lr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var $c=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var ST={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var CT=new Xr(3e4,6e4);function On(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function sn(s,a,u,d){return b(this,arguments,function*(n,e,t,r,i={}){return Gy(n,i,()=>b(this,null,function*(){let f={},v={};r&&(e==="GET"?v=r:f={body:JSON.stringify(r)});let T=Ao(Object.assign({key:n.config.apiKey},v)).slice(1),A=yield n._getAdditionalHeaders();return A["Content-Type"]="application/json",n.languageCode&&(A["X-Firebase-Locale"]=n.languageCode),$c.fetch()(Wy(n,n.config.apiHost,t,T),Object.assign({method:e,headers:A,referrerPolicy:"no-referrer"},f))}))})}function Gy(n,e,t){return b(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},ST),e);try{let i=new ed(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let a=yield s.json();if("needConfirmation"in a)throw Fc(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{let u=s.ok?a.errorMessage:a.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(n,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw Fc(n,"email-already-in-use",a);if(d==="USER_DISABLED")throw Fc(n,"user-disabled",a);let v=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw qy(n,v,f);rn(n,v)}}catch(i){if(i instanceof Et)throw i;rn(n,"network-request-failed",{message:String(i)})}})}function Fo(s,a,u,d){return b(this,arguments,function*(n,e,t,r,i={}){let f=yield sn(n,e,t,r,i);return"mfaPendingCredential"in f&&rn(n,"multi-factor-auth-required",{_serverResponse:f}),f})}function Wy(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?wd(n.config,i):`${n.config.apiScheme}://${i}`}function RT(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ed=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),CT.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Fc(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Jr(n,e,r);return i.customData._tokenResponse=t,i}function Dy(n){return n!==void 0&&n.enterprise!==void 0}var td=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return RT(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function PT(n,e){return b(this,null,function*(){return sn(n,"GET","/v2/recaptchaConfig",On(n,e))})}function kT(n,e){return b(this,null,function*(){return sn(n,"POST","/v1/accounts:delete",e)})}function Hy(n,e){return b(this,null,function*(){return sn(n,"POST","/v1/accounts:lookup",e)})}function Po(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function _d(n,e=!1){return b(this,null,function*(){let t=Ge(n),r=yield t.getIdToken(e),i=Ed(r);H(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:Po(Yh(i.auth_time)),issuedAtTime:Po(Yh(i.iat)),expirationTime:Po(Yh(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Yh(n){return Number(n)*1e3}function Ed(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ch(t);return i?JSON.parse(i):(Lc("Failed to decode base64 JWT payload"),null)}catch(i){return Lc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Sy(n){let e=Ed(n);return H(e,"internal-error"),H(typeof e.exp<"u","internal-error"),H(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function es(n,e,t=!1){return b(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Et&&NT(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function NT({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var nd=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),t)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var No=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Po(this.lastLoginAt),this.creationTime=Po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function zc(n){return b(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield es(n,Hy(t,{idToken:r}));H(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Ky(s.providerUserInfo):[],u=OT(n.providerData,a),d=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!u?.length,v=d?f:!1,T={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new No(s.createdAt,s.lastLoginAt),isAnonymous:v};Object.assign(n,T)})}function Id(n){return b(this,null,function*(){let e=Ge(n);yield zc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function OT(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ky(n){return n.map(e=>{var{providerId:t}=e,r=ul(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function xT(n,e){return b(this,null,function*(){let t=yield Gy(n,{},()=>b(this,null,function*(){let r=Ao({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=Wy(n,i,"/v1/token",`key=${s}`),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",$c.fetch()(a,{method:"POST",headers:u,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function MT(n,e){return b(this,null,function*(){return sn(n,"POST","/v2/accounts:revokeToken",On(n,e))})}var ko=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){H(e.idToken,"internal-error"),H(typeof e.idToken<"u","internal-error"),H(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){H(e.length!==0,"internal-error");let t=Sy(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return b(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(H(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return b(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield xT(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new n;return r&&(H(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(H(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(H(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Pn("not implemented")}};function ur(n,e){H(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ts=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=ul(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nd(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new No(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return b(this,null,function*(){let t=yield es(this,this.stsTokenManager.getToken(this.auth,e));return H(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return _d(this,e)}reload(){return Id(this)}_assign(e){this!==e&&(H(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return b(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield zc(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(jt(this.auth.app))return Promise.reject(Nn(this.auth));let e=yield this.getIdToken();return yield es(this,kT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,a,u,d,f,v;let T=(r=t.displayName)!==null&&r!==void 0?r:void 0,A=(i=t.email)!==null&&i!==void 0?i:void 0,O=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,L=(a=t.photoURL)!==null&&a!==void 0?a:void 0,B=(u=t.tenantId)!==null&&u!==void 0?u:void 0,M=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,$=(f=t.createdAt)!==null&&f!==void 0?f:void 0,Y=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:Z,emailVerified:ee,isAnonymous:Ne,providerData:pe,stsTokenManager:S}=t;H(Z&&S,e,"internal-error");let _=ko.fromJSON(this.name,S);H(typeof Z=="string",e,"internal-error"),ur(T,e.name),ur(A,e.name),H(typeof ee=="boolean",e,"internal-error"),H(typeof Ne=="boolean",e,"internal-error"),ur(O,e.name),ur(L,e.name),ur(B,e.name),ur(M,e.name),ur($,e.name),ur(Y,e.name);let E=new n({uid:Z,auth:e,email:A,emailVerified:ee,displayName:T,isAnonymous:Ne,photoURL:L,phoneNumber:O,tenantId:B,stsTokenManager:_,createdAt:$,lastLoginAt:Y});return pe&&Array.isArray(pe)&&(E.providerData=pe.map(D=>Object.assign({},D))),M&&(E._redirectEventId=M),E}static _fromIdTokenResponse(e,t,r=!1){return b(this,null,function*(){let i=new ko;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield zc(s),s})}static _fromGetAccountInfoResponse(e,t,r){return b(this,null,function*(){let i=t.users[0];H(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Ky(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,u=new ko;u.updateFromIdToken(r);let d=new n({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new No(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,f),d})}};var Cy=new Map;function kn(n){lr(n instanceof Function,"Expected a class definition");let e=Cy.get(n);return e?(lr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Cy.set(n,e),e)}var FT=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(t,r){return b(this,null,function*(){this.storage[t]=r})}_get(t){return b(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return b(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),rd=FT;function Vc(n,e,t){return`firebase:${n}:${e}:${t}`}var qc=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Vc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Vc("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return b(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ts._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return b(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return b(this,null,function*(){if(!t.length)return new n(kn(rd),e,r);let i=(yield Promise.all(t.map(f=>b(this,null,function*(){if(yield f._isAvailable())return f})))).filter(f=>f),s=i[0]||kn(rd),a=Vc(r,e.config.apiKey,e.name),u=null;for(let f of t)try{let v=yield f._get(a);if(v){let T=ts._fromJSON(e,v);f!==s&&(u=T),s=f;break}}catch{}let d=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new n(s,e,r):(s=d[0],u&&(yield s._set(a,u.toJSON())),yield Promise.all(t.map(f=>b(this,null,function*(){if(f!==s)try{yield f._remove(a)}catch{}}))),new n(s,e,r))})}};function Ry(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zy(e))return"Blackberry";if(ev(e))return"Webos";if(bd(e))return"Safari";if((e.includes("chrome/")||Yy(e))&&!e.includes("edge/"))return"Chrome";if(Xy(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Qy(n=qe()){return/firefox\//i.test(n)}function bd(n=qe()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yy(n=qe()){return/crios\//i.test(n)}function Jy(n=qe()){return/iemobile/i.test(n)}function Xy(n=qe()){return/android/i.test(n)}function Zy(n=qe()){return/blackberry/i.test(n)}function ev(n=qe()){return/webos/i.test(n)}function Xc(n=qe()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function LT(n=qe()){var e;return Xc(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function VT(){return oy()&&document.documentMode===10}function tv(n=qe()){return Xc(n)||Xy(n)||ev(n)||Zy(n)||/windows phone/i.test(n)||Jy(n)}function UT(){try{return!!(window&&window!==window.top)}catch{return!1}}function nv(n,e=[]){let t;switch(n){case"Browser":t=Ry(qe());break;case"Worker":t=`${Ry(qe())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${cr}/${r}`}var id=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((a,u)=>{try{let d=e(s);a(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return b(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function BT(t){return b(this,arguments,function*(n,e={}){return sn(n,"GET","/v2/passwordPolicy",On(n,e))})}var jT=6,sd=class{constructor(e){var t,r,i,s;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:jT,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,a,u;let d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsNumericCharacter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var od=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gc(this),this.idTokenSubscription=new Gc(this),this.beforeStateQueue=new id(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=kn(t)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield qc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return b(this,null,function*(){try{let t=yield Hy(this,{idToken:e}),r=yield ts._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return b(this,null,function*(){var t;if(jt(this.app)){let a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i?._redirectEventId,d=yield this.tryRedirectSignIn(e);(!a||a===u)&&d?.user&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return H(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return b(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return b(this,null,function*(){try{yield zc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=DT()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return b(this,null,function*(){if(jt(this.app))return Promise.reject(Nn(this));let t=e?Ge(e):null;return t&&H(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return b(this,null,function*(){if(!this._deleted)return e&&H(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return jt(this.app)?Promise.reject(Nn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return jt(this.app)?Promise.reject(Nn(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(kn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let e=yield BT(this),t=new sd(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return b(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield MT(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return b(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return b(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&kn(e)||this._popupRedirectResolver;H(t,this,"argument-error"),this.redirectPersistenceManager=yield qc.create(this,[kn(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return b(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return b(this,null,function*(){if(e===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),a=!1,u=this._isInitialized?Promise.resolve():this._initializationPromise;if(H(u,this,"internal-error"),u.then(()=>{a||s(this.currentUser)}),typeof t=="function"){let d=e.addObserver(t,r,i);return()=>{a=!0,d()}}else{let d=e.addObserver(t);return()=>{a=!0,d()}}}directlySetCurrentUser(e){return b(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return b(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&bT(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function ei(n){return Ge(n)}var Gc=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ly(t=>this.observer=t)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Zc={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $T(n){Zc=n}function rv(n){return Zc.loadJS(n)}function zT(){return Zc.recaptchaEnterpriseScript}function qT(){return Zc.gapiScript}function iv(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var GT="recaptcha-enterprise",WT="NO_RECAPTCHA",ad=class{constructor(e){this.type=GT,this.auth=ei(e)}verify(e="verify",t=!1){return b(this,null,function*(){function r(s){return b(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((a,u)=>b(this,null,function*(){PT(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{let f=new td(d);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,a(f.siteKey)}}).catch(d=>{u(d)})}))})}function i(s,a,u){let d=window.grecaptcha;Dy(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(f=>{a(f)}).catch(()=>{a(WT)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(u=>{if(!t&&Dy(window.grecaptcha))i(u,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let d=zT();d.length!==0&&(d+=u),rv(d).then(()=>{i(u,s,a)}).catch(f=>{a(f)})}}).catch(u=>{a(u)})})})}};function Py(n,e,t,r=!1){return b(this,null,function*(){let i=new ad(n),s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}let a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function cd(n,e,t,r){return b(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield Py(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(s=>b(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let a=yield Py(n,e,t,t==="getOobCode");return r(n,a)}else return Promise.reject(s)}))})}function Td(n,e){let t=Co(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Gr(s,e??{}))return i;rn(i,"already-initialized")}return t.initialize({options:e})}function HT(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(kn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ad(n,e,t){let r=ei(n);H(r._canInitEmulator,r,"emulator-config-failed"),H(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=sv(e),{host:a,port:u}=KT(e),d=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${a}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||QT()}function sv(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function KT(n){let e=sv(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:ky(r.substr(s.length+1))}}else{let[s,a]=r.split(":");return{host:s,port:ky(a)}}}function ky(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function QT(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Oo=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pn("not implemented")}_getIdTokenResponse(e){return Pn("not implemented")}_linkToIdToken(e,t){return Pn("not implemented")}_getReauthenticationResolver(e){return Pn("not implemented")}};function YT(n,e){return b(this,null,function*(){return sn(n,"POST","/v1/accounts:signUp",e)})}function JT(n,e){return b(this,null,function*(){return Fo(n,"POST","/v1/accounts:signInWithPassword",On(n,e))})}function XT(n,e){return b(this,null,function*(){return sn(n,"POST","/v1/accounts:sendOobCode",On(n,e))})}function ZT(n,e){return b(this,null,function*(){return XT(n,e)})}function eA(n,e){return b(this,null,function*(){return Fo(n,"POST","/v1/accounts:signInWithEmailLink",On(n,e))})}function tA(n,e){return b(this,null,function*(){return Fo(n,"POST","/v1/accounts:signInWithEmailLink",On(n,e))})}var xo=class n extends Oo{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return b(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cd(e,t,"signInWithPassword",JT);case"emailLink":return eA(e,{email:this._email,oobCode:this._password});default:rn(e,"internal-error")}})}_linkToIdToken(e,t){return b(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cd(e,r,"signUpPassword",YT);case"emailLink":return tA(e,{idToken:t,email:this._email,oobCode:this._password});default:rn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Jh(n,e){return b(this,null,function*(){return Fo(n,"POST","/v1/accounts:signInWithIdp",On(n,e))})}function nA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rA(n){let e=Ki(Qi(n)).link,t=e?Ki(Qi(e)).deep_link_id:null,r=Ki(Qi(n)).deep_link_id;return(r?Ki(Qi(r)).link:null)||r||t||e||n}var Wc=class n{constructor(e){var t,r,i,s,a,u;let d=Ki(Qi(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,v=(r=d.oobCode)!==null&&r!==void 0?r:null,T=nA((i=d.mode)!==null&&i!==void 0?i:null);H(f&&v&&T,"argument-error"),this.apiKey=f,this.operation=T,this.code=v,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=d.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){let t=rA(e);try{return new n(t)}catch{return null}}};var ov=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return xo._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Wc.parseLink(r);return H(i,"argument-error"),xo._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Hc=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var ud=class extends Hc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function iA(n,e){return b(this,null,function*(){return Fo(n,"POST","/v1/accounts:signUp",On(n,e))})}var ns=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return b(this,null,function*(){let s=yield ts._fromIdTokenResponse(e,r,i),a=Ny(r);return new n({user:s,providerId:a,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return b(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Ny(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function Ny(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var ld=class n extends Et{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function av(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ld._fromErrorAndOperation(n,s,e,r):s})}function sA(n,e,t=!1){return b(this,null,function*(){let r=yield es(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ns._forOperation(n,"link",r)})}function oA(n,e,t=!1){return b(this,null,function*(){let{auth:r}=n;if(jt(r.app))return Promise.reject(Nn(r));let i="reauthenticate";try{let s=yield es(n,av(r,i,e,n),t);H(s.idToken,r,"internal-error");let a=Ed(s.idToken);H(a,r,"internal-error");let{sub:u}=a;return H(n.uid===u,r,"user-mismatch"),ns._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&rn(r,"user-mismatch"),s}})}function cv(n,e,t=!1){return b(this,null,function*(){if(jt(n.app))return Promise.reject(Nn(n));let r="signIn",i=yield av(n,r,e),s=yield ns._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function Dd(n,e){return b(this,null,function*(){return cv(ei(n),e)})}function aA(n,e,t){var r;H(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),H(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(H(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(H(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function uv(n){return b(this,null,function*(){let e=ei(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Sd(n,e,t){return b(this,null,function*(){if(jt(n.app))return Promise.reject(Nn(n));let r=ei(n),a=yield cd(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iA).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&uv(n),d}),u=yield ns._fromIdTokenResponse(r,"signIn",a);return yield r._updateCurrentUser(u.user),u})}function Cd(n,e,t){return jt(n.app)?Promise.reject(Nn(n)):Dd(Ge(n),ov.credential(e,t)).catch(r=>b(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&uv(n),r}))}function Rd(n,e){return b(this,null,function*(){let t=Ge(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&aA(t.auth,i,e);let{email:s}=yield ZT(t.auth,i);s!==n.email&&(yield n.reload())})}function cA(n,e){return b(this,null,function*(){return sn(n,"POST","/v1/accounts:update",e)})}function Pd(r,i){return b(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let s=Ge(n),u={idToken:yield s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=yield es(s,cA(s.auth,u));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;let f=s.providerData.find(({providerId:v})=>v==="password");f&&(f.displayName=s.displayName,f.photoURL=s.photoURL),yield s._updateTokensIfNecessary(d)})}function kd(n,e,t,r){return Ge(n).onIdTokenChanged(e,t,r)}function Nd(n,e,t){return Ge(n).beforeAuthStateChanged(e,t)}var Kc="__sak";var Qc=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function uA(){let n=qe();return bd(n)||Xc(n)}var lA=1e3,hA=10,dA=(()=>{class n extends Qc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=uA()&&UT(),this.fallbackToPolling=tv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}let i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let u=this.storage.getItem(i);if(t.newValue!==u)t.newValue!==null?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}let s=()=>{let u=this.storage.getItem(i);!r&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);VT()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,hA):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},lA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return b(this,null,function*(){yield Yn(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return b(this,null,function*(){let r=yield Yn(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return b(this,null,function*(){yield Yn(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),lv=dA;var fA=(()=>{class n extends Qc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Od=fA;function pA(n){return Promise.all(n.map(e=>b(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var gA=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return b(this,null,function*(){let r=t,{eventId:i,eventType:s,data:a}=r.data,u=this.handlersMap[s];if(!u?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let d=Array.from(u).map(v=>b(this,null,function*(){return v(r.origin,a)})),f=yield pA(d);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:f})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function hv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var hd=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return b(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((u,d)=>{let f=hv("",20);i.port1.start();let v=setTimeout(()=>{d(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(T){let A=T;if(A.data.eventId===f)switch(A.data.status){case"ack":clearTimeout(v),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(A.data.response);break;default:clearTimeout(v),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function nn(){return window}function mA(n){nn().location.href=n}function dv(){return typeof nn().WorkerGlobalScope<"u"&&typeof nn().importScripts=="function"}function yA(){return b(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function vA(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function wA(){return dv()?self:null}var fv="firebaseLocalStorageDb",_A=1,Yc="firebaseLocalStorage",pv="fbase_key",Zr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function eu(n,e){return n.transaction([Yc],e?"readwrite":"readonly").objectStore(Yc)}function EA(){let n=indexedDB.deleteDatabase(fv);return new Zr(n).toPromise()}function dd(){let n=indexedDB.open(fv,_A);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Yc,{keyPath:pv})}catch(i){t(i)}}),n.addEventListener("success",()=>b(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Yc)?e(r):(r.close(),yield EA(),e(yield dd()))}))})}function Oy(n,e,t){return b(this,null,function*(){let r=eu(n,!0).put({[pv]:e,value:t});return new Zr(r).toPromise()})}function IA(n,e){return b(this,null,function*(){let t=eu(n,!1).get(e),r=yield new Zr(t).toPromise();return r===void 0?null:r.value})}function xy(n,e){let t=eu(n,!0).delete(e);return new Zr(t).toPromise()}var bA=800,TA=3,AA=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return b(this,null,function*(){return this.db?this.db:(this.db=yield dd(),this.db)})}_withRetries(t){return b(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>TA)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return b(this,null,function*(){return dv()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return b(this,null,function*(){this.receiver=gA._getInstance(wA()),this.receiver._subscribe("keyChanged",(t,r)=>b(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>b(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return b(this,null,function*(){var t,r;if(this.activeServiceWorker=yield yA(),!this.activeServiceWorker)return;this.sender=new hd(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return b(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||vA()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return b(this,null,function*(){try{if(!indexedDB)return!1;let t=yield dd();return yield Oy(t,Kc,"1"),yield xy(t,Kc),!0}catch{}return!1})}_withPendingWrite(t){return b(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(i=>Oy(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return b(this,null,function*(){let r=yield this._withRetries(i=>IA(i,t));return this.localCache[t]=r,r})}_remove(t){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(r=>xy(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return b(this,null,function*(){let t=yield this._withRetries(s=>{let a=eu(s,!1).getAll();return new Zr(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:a}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>b(this,null,function*(){return this._poll()}),bA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),gv=AA;var Zk=iv("rcb"),e1=new Xr(3e4,6e4);function DA(n,e){return e?kn(e):(H(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Mo=class extends Oo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jh(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function SA(n){return cv(n.auth,new Mo(n),n.bypassAuthState)}function CA(n){let{auth:e,user:t}=n;return H(t,e,"internal-error"),oA(t,new Mo(n),n.bypassAuthState)}function RA(n){return b(this,null,function*(){let{auth:e,user:t}=n;return H(t,e,"internal-error"),sA(t,new Mo(n),n.bypassAuthState)})}var fd=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>b(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return b(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:a,type:u}=e;if(a){this.reject(a);return}let d={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(u)(d))}catch(f){this.reject(f)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SA;case"linkViaPopup":case"linkViaRedirect":return RA;case"reauthViaPopup":case"reauthViaRedirect":return CA;default:rn(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var t1=new Xr(2e3,1e4);var PA="pendingRedirect",Uc=new Map,pd=class n extends fd{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return b(this,null,function*(){let e=Uc.get(this.auth._key());if(!e){try{let r=(yield kA(this.resolver,this.auth))?yield Yn(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return b(this,null,function*(){if(e.type==="signInViaRedirect")return Yn(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Yn(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return b(this,null,function*(){})}cleanUp(){}};function kA(n,e){return b(this,null,function*(){let t=xA(e),r=OA(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function NA(n,e){Uc.set(n._key(),e)}function OA(n){return kn(n._redirectPersistence)}function xA(n){return Vc(PA,n.config.apiKey,n.name)}function MA(n,e,t=!1){return b(this,null,function*(){if(jt(n.app))return Promise.reject(Nn(n));let r=ei(n),i=DA(r,e),a=yield new pd(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,yield r._persistUserIfCurrent(a.user),yield r._setRedirectUser(null,e)),a})}var FA=10*60*1e3,gd=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LA(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!mv(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Jr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FA&&this.cachedEventUids.clear(),this.cachedEventUids.has(My(e))}saveEventToCache(e){this.cachedEventUids.add(My(e)),this.lastProcessedEventTime=Date.now()}};function My(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function mv({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function LA(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mv(n);default:return!1}}function VA(t){return b(this,arguments,function*(n,e={}){return sn(n,"GET","/v1/projects",e)})}var UA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BA=/^https?/;function jA(n){return b(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield VA(n);for(let t of e)try{if($A(t))return}catch{}rn(n,"unauthorized-domain")})}function $A(n){let e=Zh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!BA.test(t))return!1;if(UA.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var zA=new Xr(3e4,6e4);function Fy(){let n=nn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function qA(n){return new Promise((e,t)=>{var r,i,s;function a(){Fy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fy(),t(Jr(n,"network-request-failed"))},timeout:zA.get()})}if(!((i=(r=nn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=nn().gapi)===null||s===void 0)&&s.load)a();else{let u=iv("iframefcb");return nn()[u]=()=>{gapi.load?a():t(Jr(n,"network-request-failed"))},rv(`${qT()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw Bc=null,e})}var Bc=null;function GA(n){return Bc=Bc||qA(n),Bc}var WA=new Xr(5e3,15e3),HA="__/auth/iframe",KA="emulator/auth/iframe",QA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JA(n){let e=n.config;H(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?wd(e,KA):`https://${n.config.authDomain}/${HA}`,r={apiKey:e.apiKey,appName:n.name,v:cr},i=YA.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Ao(r).slice(1)}`}function XA(n){return b(this,null,function*(){let e=yield GA(n),t=nn().gapi;return H(t,n,"internal-error"),e.open({where:document.body,url:JA(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QA,dontclear:!0},r=>new Promise((i,s)=>b(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let a=Jr(n,"network-request-failed"),u=nn().setTimeout(()=>{s(a)},WA.get());function d(){nn().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(a)})})))})}var ZA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eD=500,tD=600,nD="_blank",rD="http://localhost",Jc=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function iD(n,e,t,r=eD,i=tD){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",d=Object.assign(Object.assign({},ZA),{width:r.toString(),height:i.toString(),top:s,left:a}),f=qe().toLowerCase();t&&(u=Yy(f)?nD:t),Qy(f)&&(e=e||rD,d.scrollbars="yes");let v=Object.entries(d).reduce((A,[O,L])=>`${A}${O}=${L},`,"");if(LT(f)&&u!=="_self")return sD(e||"",u),new Jc(null);let T=window.open(e||"",u,v);H(T,n,"popup-blocked");try{T.focus()}catch{}return new Jc(T)}function sD(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var oD="__/auth/handler",aD="emulator/auth/handler",cD=encodeURIComponent("fac");function Ly(n,e,t,r,i,s){return b(this,null,function*(){H(n.config.authDomain,n,"auth-domain-config-required"),H(n.config.apiKey,n,"invalid-api-key");let a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:cr,eventId:i};if(e instanceof Hc){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",uy(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[v,T]of Object.entries(s||{}))a[v]=T}if(e instanceof ud){let v=e.getScopes().filter(T=>T!=="");v.length>0&&(a.scopes=v.join(","))}n.tenantId&&(a.tid=n.tenantId);let u=a;for(let v of Object.keys(u))u[v]===void 0&&delete u[v];let d=yield n._getAppCheckToken(),f=d?`#${cD}=${encodeURIComponent(d)}`:"";return`${uD(n)}?${Ao(u).slice(1)}${f}`})}function uD({config:n}){return n.emulator?wd(n,aD):`https://${n.authDomain}/${oD}`}var Xh="webStorageSupport",md=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Od,this._completeRedirectFn=MA,this._overrideRedirectResult=NA}_openPopup(e,t,r,i){return b(this,null,function*(){var s;lr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let a=yield Ly(e,t,r,Zh(),i);return iD(e,a,hv())})}_openRedirect(e,t,r,i){return b(this,null,function*(){yield this._originValidation(e);let s=yield Ly(e,t,r,Zh(),i);return mA(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(lr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return b(this,null,function*(){let t=yield XA(e),r=new gd(e);return t.register("authEvent",i=>(H(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xh,{type:Xh},i=>{var s;let a=(s=i?.[0])===null||s===void 0?void 0:s[Xh];a!==void 0&&t(!!a),rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=jA(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tv()||bd()||Xc()}},yv=md;var Vy="@firebase/auth",Uy="1.7.4";var yd=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function lD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hD(n){ar(new Pt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;H(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});let d={apiKey:a,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nv(n)},f=new od(r,i,s,d);return HT(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ar(new Pt("auth-internal",e=>{let t=ei(e.getProvider("auth").getImmediate());return(r=>new yd(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(Vy,Uy,lD(n)),We(Vy,Uy,"esm2017")}var dD=5*60,fD=kh("authIdTokenMaxAge")||dD,By=null,pD=n=>e=>b(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>fD)return;let i=t?.token;By!==i&&(By=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function xd(n=Yi()){let e=Co(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Td(n,{popupRedirectResolver:yv,persistence:[gv,lv,Od]}),r=kh("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let a=pD(s.toString());Nd(t,a,()=>a(t.currentUser)),kd(t,u=>a(u))}}let i=Rh("auth");return i&&Ad(t,`http://${i}`),t}function gD(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}$T({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Jr("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",gD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hD("Browser");var vv="auth",ti=class{constructor(e){return e}},Lo=class{constructor(){return Ro(vv)}};var Md=new Ee("angularfire2.auth-instances");function iS(n,e){let t=xc(vv,n,e);return t&&new ti(t)}function sS(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ti(r)}}var oS={provide:Lo,deps:[[new ft,Md]]},aS={provide:ti,useFactory:iS,deps:[[new ft,Md],Rn]},cS=(()=>{class n{constructor(){We("angularfire",Qr.full,"auth")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=Ut({providers:[aS,oS]})}return n})();function V1(n,...e){return{ngModule:cS,providers:[{provide:Md,useFactory:sS(n),multi:!0,deps:[ze,Sn,Zi,Yr,[new ft,Xi],...e]}]}}var wv=gt(Sd,!0);var U1=gt(xd,!0);var _v=gt(Rd,!0);var B1=gt(Cd,!0);var Ev=gt(Pd,!0);var Iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bv={};var hr,Fd;(function(){var n;function e(S,_){function E(){}E.prototype=_.prototype,S.D=_.prototype,S.prototype=new E,S.prototype.constructor=S,S.C=function(D,C,P){for(var I=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)I[Ot-2]=arguments[Ot];return _.prototype[C].apply(D,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,_,E){E||(E=0);var D=Array(16);if(typeof _=="string")for(var C=0;16>C;++C)D[C]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(C=0;16>C;++C)D[C]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=S.g[0],E=S.g[1],C=S.g[2];var P=S.g[3],I=_+(P^E&(C^P))+D[0]+3614090360&4294967295;_=E+(I<<7&4294967295|I>>>25),I=P+(C^_&(E^C))+D[1]+3905402710&4294967295,P=_+(I<<12&4294967295|I>>>20),I=C+(E^P&(_^E))+D[2]+606105819&4294967295,C=P+(I<<17&4294967295|I>>>15),I=E+(_^C&(P^_))+D[3]+3250441966&4294967295,E=C+(I<<22&4294967295|I>>>10),I=_+(P^E&(C^P))+D[4]+4118548399&4294967295,_=E+(I<<7&4294967295|I>>>25),I=P+(C^_&(E^C))+D[5]+1200080426&4294967295,P=_+(I<<12&4294967295|I>>>20),I=C+(E^P&(_^E))+D[6]+2821735955&4294967295,C=P+(I<<17&4294967295|I>>>15),I=E+(_^C&(P^_))+D[7]+4249261313&4294967295,E=C+(I<<22&4294967295|I>>>10),I=_+(P^E&(C^P))+D[8]+1770035416&4294967295,_=E+(I<<7&4294967295|I>>>25),I=P+(C^_&(E^C))+D[9]+2336552879&4294967295,P=_+(I<<12&4294967295|I>>>20),I=C+(E^P&(_^E))+D[10]+4294925233&4294967295,C=P+(I<<17&4294967295|I>>>15),I=E+(_^C&(P^_))+D[11]+2304563134&4294967295,E=C+(I<<22&4294967295|I>>>10),I=_+(P^E&(C^P))+D[12]+1804603682&4294967295,_=E+(I<<7&4294967295|I>>>25),I=P+(C^_&(E^C))+D[13]+4254626195&4294967295,P=_+(I<<12&4294967295|I>>>20),I=C+(E^P&(_^E))+D[14]+2792965006&4294967295,C=P+(I<<17&4294967295|I>>>15),I=E+(_^C&(P^_))+D[15]+1236535329&4294967295,E=C+(I<<22&4294967295|I>>>10),I=_+(C^P&(E^C))+D[1]+4129170786&4294967295,_=E+(I<<5&4294967295|I>>>27),I=P+(E^C&(_^E))+D[6]+3225465664&4294967295,P=_+(I<<9&4294967295|I>>>23),I=C+(_^E&(P^_))+D[11]+643717713&4294967295,C=P+(I<<14&4294967295|I>>>18),I=E+(P^_&(C^P))+D[0]+3921069994&4294967295,E=C+(I<<20&4294967295|I>>>12),I=_+(C^P&(E^C))+D[5]+3593408605&4294967295,_=E+(I<<5&4294967295|I>>>27),I=P+(E^C&(_^E))+D[10]+38016083&4294967295,P=_+(I<<9&4294967295|I>>>23),I=C+(_^E&(P^_))+D[15]+3634488961&4294967295,C=P+(I<<14&4294967295|I>>>18),I=E+(P^_&(C^P))+D[4]+3889429448&4294967295,E=C+(I<<20&4294967295|I>>>12),I=_+(C^P&(E^C))+D[9]+568446438&4294967295,_=E+(I<<5&4294967295|I>>>27),I=P+(E^C&(_^E))+D[14]+3275163606&4294967295,P=_+(I<<9&4294967295|I>>>23),I=C+(_^E&(P^_))+D[3]+4107603335&4294967295,C=P+(I<<14&4294967295|I>>>18),I=E+(P^_&(C^P))+D[8]+1163531501&4294967295,E=C+(I<<20&4294967295|I>>>12),I=_+(C^P&(E^C))+D[13]+2850285829&4294967295,_=E+(I<<5&4294967295|I>>>27),I=P+(E^C&(_^E))+D[2]+4243563512&4294967295,P=_+(I<<9&4294967295|I>>>23),I=C+(_^E&(P^_))+D[7]+1735328473&4294967295,C=P+(I<<14&4294967295|I>>>18),I=E+(P^_&(C^P))+D[12]+2368359562&4294967295,E=C+(I<<20&4294967295|I>>>12),I=_+(E^C^P)+D[5]+4294588738&4294967295,_=E+(I<<4&4294967295|I>>>28),I=P+(_^E^C)+D[8]+2272392833&4294967295,P=_+(I<<11&4294967295|I>>>21),I=C+(P^_^E)+D[11]+1839030562&4294967295,C=P+(I<<16&4294967295|I>>>16),I=E+(C^P^_)+D[14]+4259657740&4294967295,E=C+(I<<23&4294967295|I>>>9),I=_+(E^C^P)+D[1]+2763975236&4294967295,_=E+(I<<4&4294967295|I>>>28),I=P+(_^E^C)+D[4]+1272893353&4294967295,P=_+(I<<11&4294967295|I>>>21),I=C+(P^_^E)+D[7]+4139469664&4294967295,C=P+(I<<16&4294967295|I>>>16),I=E+(C^P^_)+D[10]+3200236656&4294967295,E=C+(I<<23&4294967295|I>>>9),I=_+(E^C^P)+D[13]+681279174&4294967295,_=E+(I<<4&4294967295|I>>>28),I=P+(_^E^C)+D[0]+3936430074&4294967295,P=_+(I<<11&4294967295|I>>>21),I=C+(P^_^E)+D[3]+3572445317&4294967295,C=P+(I<<16&4294967295|I>>>16),I=E+(C^P^_)+D[6]+76029189&4294967295,E=C+(I<<23&4294967295|I>>>9),I=_+(E^C^P)+D[9]+3654602809&4294967295,_=E+(I<<4&4294967295|I>>>28),I=P+(_^E^C)+D[12]+3873151461&4294967295,P=_+(I<<11&4294967295|I>>>21),I=C+(P^_^E)+D[15]+530742520&4294967295,C=P+(I<<16&4294967295|I>>>16),I=E+(C^P^_)+D[2]+3299628645&4294967295,E=C+(I<<23&4294967295|I>>>9),I=_+(C^(E|~P))+D[0]+4096336452&4294967295,_=E+(I<<6&4294967295|I>>>26),I=P+(E^(_|~C))+D[7]+1126891415&4294967295,P=_+(I<<10&4294967295|I>>>22),I=C+(_^(P|~E))+D[14]+2878612391&4294967295,C=P+(I<<15&4294967295|I>>>17),I=E+(P^(C|~_))+D[5]+4237533241&4294967295,E=C+(I<<21&4294967295|I>>>11),I=_+(C^(E|~P))+D[12]+1700485571&4294967295,_=E+(I<<6&4294967295|I>>>26),I=P+(E^(_|~C))+D[3]+2399980690&4294967295,P=_+(I<<10&4294967295|I>>>22),I=C+(_^(P|~E))+D[10]+4293915773&4294967295,C=P+(I<<15&4294967295|I>>>17),I=E+(P^(C|~_))+D[1]+2240044497&4294967295,E=C+(I<<21&4294967295|I>>>11),I=_+(C^(E|~P))+D[8]+1873313359&4294967295,_=E+(I<<6&4294967295|I>>>26),I=P+(E^(_|~C))+D[15]+4264355552&4294967295,P=_+(I<<10&4294967295|I>>>22),I=C+(_^(P|~E))+D[6]+2734768916&4294967295,C=P+(I<<15&4294967295|I>>>17),I=E+(P^(C|~_))+D[13]+1309151649&4294967295,E=C+(I<<21&4294967295|I>>>11),I=_+(C^(E|~P))+D[4]+4149444226&4294967295,_=E+(I<<6&4294967295|I>>>26),I=P+(E^(_|~C))+D[11]+3174756917&4294967295,P=_+(I<<10&4294967295|I>>>22),I=C+(_^(P|~E))+D[2]+718787259&4294967295,C=P+(I<<15&4294967295|I>>>17),I=E+(P^(C|~_))+D[9]+3951481745&4294967295,S.g[0]=S.g[0]+_&4294967295,S.g[1]=S.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+C&4294967295,S.g[3]=S.g[3]+P&4294967295}r.prototype.u=function(S,_){_===void 0&&(_=S.length);for(var E=_-this.blockSize,D=this.B,C=this.h,P=0;P<_;){if(C==0)for(;P<=E;)i(this,S,P),P+=this.blockSize;if(typeof S=="string"){for(;P<_;)if(D[C++]=S.charCodeAt(P++),C==this.blockSize){i(this,D),C=0;break}}else for(;P<_;)if(D[C++]=S[P++],C==this.blockSize){i(this,D),C=0;break}}this.h=C,this.o+=_},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var _=1;_<S.length-8;++_)S[_]=0;var E=8*this.o;for(_=S.length-8;_<S.length;++_)S[_]=E&255,E/=256;for(this.u(S),S=Array(16),_=E=0;4>_;++_)for(var D=0;32>D;D+=8)S[E++]=this.g[_]>>>D&255;return S};function s(S,_){var E=u;return Object.prototype.hasOwnProperty.call(E,S)?E[S]:E[S]=_(S)}function a(S,_){this.h=_;for(var E=[],D=!0,C=S.length-1;0<=C;C--){var P=S[C]|0;D&&P==_||(E[C]=P,D=!1)}this.g=E}var u={};function d(S){return-128<=S&&128>S?s(S,function(_){return new a([_|0],0>_?-1:0)}):new a([S|0],0>S?-1:0)}function f(S){if(isNaN(S)||!isFinite(S))return T;if(0>S)return M(f(-S));for(var _=[],E=1,D=0;S>=E;D++)_[D]=S/E|0,E*=4294967296;return new a(_,0)}function v(S,_){if(S.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(S.charAt(0)=="-")return M(v(S.substring(1),_));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=f(Math.pow(_,8)),D=T,C=0;C<S.length;C+=8){var P=Math.min(8,S.length-C),I=parseInt(S.substring(C,C+P),_);8>P?(P=f(Math.pow(_,P)),D=D.j(P).add(f(I))):(D=D.j(E),D=D.add(f(I)))}return D}var T=d(0),A=d(1),O=d(16777216);n=a.prototype,n.m=function(){if(B(this))return-M(this).m();for(var S=0,_=1,E=0;E<this.g.length;E++){var D=this.i(E);S+=(0<=D?D:4294967296+D)*_,_*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(L(this))return"0";if(B(this))return"-"+M(this).toString(S);for(var _=f(Math.pow(S,6)),E=this,D="";;){var C=ee(E,_).g;E=$(E,C.j(_));var P=((0<E.g.length?E.g[0]:E.h)>>>0).toString(S);if(E=C,L(E))return P+D;for(;6>P.length;)P="0"+P;D=P+D}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function L(S){if(S.h!=0)return!1;for(var _=0;_<S.g.length;_++)if(S.g[_]!=0)return!1;return!0}function B(S){return S.h==-1}n.l=function(S){return S=$(this,S),B(S)?-1:L(S)?0:1};function M(S){for(var _=S.g.length,E=[],D=0;D<_;D++)E[D]=~S.g[D];return new a(E,~S.h).add(A)}n.abs=function(){return B(this)?M(this):this},n.add=function(S){for(var _=Math.max(this.g.length,S.g.length),E=[],D=0,C=0;C<=_;C++){var P=D+(this.i(C)&65535)+(S.i(C)&65535),I=(P>>>16)+(this.i(C)>>>16)+(S.i(C)>>>16);D=I>>>16,P&=65535,I&=65535,E[C]=I<<16|P}return new a(E,E[E.length-1]&-2147483648?-1:0)};function $(S,_){return S.add(M(_))}n.j=function(S){if(L(this)||L(S))return T;if(B(this))return B(S)?M(this).j(M(S)):M(M(this).j(S));if(B(S))return M(this.j(M(S)));if(0>this.l(O)&&0>S.l(O))return f(this.m()*S.m());for(var _=this.g.length+S.g.length,E=[],D=0;D<2*_;D++)E[D]=0;for(D=0;D<this.g.length;D++)for(var C=0;C<S.g.length;C++){var P=this.i(D)>>>16,I=this.i(D)&65535,Ot=S.i(C)>>>16,yr=S.i(C)&65535;E[2*D+2*C]+=I*yr,Y(E,2*D+2*C),E[2*D+2*C+1]+=P*yr,Y(E,2*D+2*C+1),E[2*D+2*C+1]+=I*Ot,Y(E,2*D+2*C+1),E[2*D+2*C+2]+=P*Ot,Y(E,2*D+2*C+2)}for(D=0;D<_;D++)E[D]=E[2*D+1]<<16|E[2*D];for(D=_;D<2*_;D++)E[D]=0;return new a(E,0)};function Y(S,_){for(;(S[_]&65535)!=S[_];)S[_+1]+=S[_]>>>16,S[_]&=65535,_++}function Z(S,_){this.g=S,this.h=_}function ee(S,_){if(L(_))throw Error("division by zero");if(L(S))return new Z(T,T);if(B(S))return _=ee(M(S),_),new Z(M(_.g),M(_.h));if(B(_))return _=ee(S,M(_)),new Z(M(_.g),_.h);if(30<S.g.length){if(B(S)||B(_))throw Error("slowDivide_ only works with positive integers.");for(var E=A,D=_;0>=D.l(S);)E=Ne(E),D=Ne(D);var C=pe(E,1),P=pe(D,1);for(D=pe(D,2),E=pe(E,2);!L(D);){var I=P.add(D);0>=I.l(S)&&(C=C.add(E),P=I),D=pe(D,1),E=pe(E,1)}return _=$(S,C.j(_)),new Z(C,_)}for(C=T;0<=S.l(_);){for(E=Math.max(1,Math.floor(S.m()/_.m())),D=Math.ceil(Math.log(E)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),P=f(E),I=P.j(_);B(I)||0<I.l(S);)E-=D,P=f(E),I=P.j(_);L(P)&&(P=A),C=C.add(P),S=$(S,I)}return new Z(C,S)}n.A=function(S){return ee(this,S).h},n.and=function(S){for(var _=Math.max(this.g.length,S.g.length),E=[],D=0;D<_;D++)E[D]=this.i(D)&S.i(D);return new a(E,this.h&S.h)},n.or=function(S){for(var _=Math.max(this.g.length,S.g.length),E=[],D=0;D<_;D++)E[D]=this.i(D)|S.i(D);return new a(E,this.h|S.h)},n.xor=function(S){for(var _=Math.max(this.g.length,S.g.length),E=[],D=0;D<_;D++)E[D]=this.i(D)^S.i(D);return new a(E,this.h^S.h)};function Ne(S){for(var _=S.g.length+1,E=[],D=0;D<_;D++)E[D]=S.i(D)<<1|S.i(D-1)>>>31;return new a(E,S.h)}function pe(S,_){var E=_>>5;_%=32;for(var D=S.g.length-E,C=[],P=0;P<D;P++)C[P]=0<_?S.i(P+E)>>>_|S.i(P+E+1)<<32-_:S.i(P+E);return new a(C,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Fd=bv.Md5=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=v,hr=bv.Integer=a}).apply(typeof Iv<"u"?Iv:typeof self<"u"?self:typeof window<"u"?window:{});var tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xn={};var Ld,Vd,rs,Ud,Vo,nu,Bd,jd,$d;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,h,p){return o==Array.prototype||o==Object.prototype||(o[h]=p.value),o};function t(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof tu=="object"&&tu];for(var h=0;h<o.length;++h){var p=o[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(o,h){if(h)e:{var p=r;o=o.split(".");for(var y=0;y<o.length-1;y++){var R=o[y];if(!(R in p))break e;p=p[R]}o=o[o.length-1],y=p[o],h=h(y),h!=y&&h!=null&&e(p,o,{configurable:!0,writable:!0,value:h})}}function s(o,h){o instanceof String&&(o+="");var p=0,y=!1,R={next:function(){if(!y&&p<o.length){var k=p++;return{value:h(k,o[k]),done:!1}}return y=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}i("Array.prototype.values",function(o){return o||function(){return s(this,function(h,p){return p})}});var a=a||{},u=this||self;function d(o){var h=typeof o;return h=h!="object"?h:o?Array.isArray(o)?"array":h:"null",h=="array"||h=="object"&&typeof o.length=="number"}function f(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function v(o,h,p){return o.call.apply(o.bind,arguments)}function T(o,h,p){if(!o)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,y),o.apply(h,R)}}return function(){return o.apply(h,arguments)}}function A(o,h,p){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,A.apply(null,arguments)}function O(o,h){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),o.apply(this,y)}}function L(o,h){function p(){}p.prototype=h.prototype,o.aa=h.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(y,R,k){for(var U=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)U[ye-2]=arguments[ye];return h.prototype[R].apply(y,U)}}function B(o){let h=o.length;if(0<h){let p=Array(h);for(let y=0;y<h;y++)p[y]=o[y];return p}return[]}function M(o,h){for(let p=1;p<arguments.length;p++){let y=arguments[p];if(d(y)){let R=o.length||0,k=y.length||0;o.length=R+k;for(let U=0;U<k;U++)o[R+U]=y[U]}else o.push(y)}}class ${constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function Y(o){return/^[\s\xa0]*$/.test(o)}function Z(){var o=u.navigator;return o&&(o=o.userAgent)?o:""}function ee(o){return ee[" "](o),o}ee[" "]=function(){};var Ne=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function pe(o,h,p){for(let y in o)h.call(p,o[y],y,o)}function S(o,h){for(let p in o)h.call(void 0,o[p],p,o)}function _(o){let h={};for(let p in o)h[p]=o[p];return h}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(o,h){let p,y;for(let R=1;R<arguments.length;R++){y=arguments[R];for(p in y)o[p]=y[p];for(let k=0;k<E.length;k++)p=E[k],Object.prototype.hasOwnProperty.call(y,p)&&(o[p]=y[p])}}function C(o){var h=1;o=o.split(":");let p=[];for(;0<h&&o.length;)p.push(o.shift()),h--;return o.length&&p.push(o.join(":")),p}function P(o){u.setTimeout(()=>{throw o},0)}function I(){var o=di;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class Ot{constructor(){this.h=this.g=null}add(h,p){let y=yr.get();y.set(h,p),this.h?this.h.next=y:this.g=y,this.h=y}}var yr=new $(()=>new ne,o=>o.reset());class ne{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let vr,wr=!1,di=new Ot,oa=()=>{let o=u.Promise.resolve(void 0);vr=()=>{o.then(N)}};var N=()=>{for(var o;o=I();){try{o.h.call(o.g)}catch(p){P(p)}var h=yr;h.j(o),100>h.h&&(h.h++,o.next=h.g,h.g=o)}wr=!1};function zt(){this.s=this.s,this.C=this.C}zt.prototype.s=!1,zt.prototype.ma=function(){this.s||(this.s=!0,this.N())},zt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Oe(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}Oe.prototype.h=function(){this.defaultPrevented=!0};var aa=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{let p=()=>{};u.addEventListener("test",p,h),u.removeEventListener("test",p,h)}catch{}return o}();function gn(o,h){if(Oe.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,y=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget){if(Ne){e:{try{ee(h.nodeName);var R=!0;break e}catch{}R=!1}R||(h=null)}}else p=="mouseover"?h=o.fromElement:p=="mouseout"&&(h=o.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Ze[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&gn.aa.h.call(this)}}L(gn,Oe);var Ze={2:"touch",3:"pen",4:"mouse"};gn.prototype.h=function(){gn.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),ca=0;function qu(o,h,p,y,R){this.listener=o,this.proxy=null,this.src=h,this.type=p,this.capture=!!y,this.ha=R,this.key=++ca,this.da=this.fa=!1}function fi(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function mn(o){this.src=o,this.g={},this.h=0}mn.prototype.add=function(o,h,p,y,R){var k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);var U=yn(o,h,y,R);return-1<U?(h=o[U],p||(h.fa=!1)):(h=new qu(h,this.src,k,!!y,R),h.fa=p,o.push(h)),h};function _r(o,h){var p=h.type;if(p in o.g){var y=o.g[p],R=Array.prototype.indexOf.call(y,h,void 0),k;(k=0<=R)&&Array.prototype.splice.call(y,R,1),k&&(fi(h),o.g[p].length==0&&(delete o.g[p],o.h--))}}function yn(o,h,p,y){for(var R=0;R<o.length;++R){var k=o[R];if(!k.da&&k.listener==h&&k.capture==!!p&&k.ha==y)return R}return-1}var Er="closure_lm_"+(1e6*Math.random()|0),Ke={};function Vn(o,h,p,y,R){if(y&&y.once)return Un(o,h,p,y,R);if(Array.isArray(h)){for(var k=0;k<h.length;k++)Vn(o,h[k],p,y,R);return null}return p=lt(p),o&&o[mt]?o.K(h,p,f(y)?!!y.capture:!!y,R):et(o,h,p,!1,y,R)}function et(o,h,p,y,R,k){if(!h)throw Error("Invalid event type");var U=f(R)?!!R.capture:!!R,ye=Ir(o);if(ye||(o[Er]=ye=new mn(o)),p=ye.add(h,p,y,U,k),p.proxy)return p;if(y=ge(),p.proxy=y,y.src=o,y.listener=p,o.addEventListener)aa||(R=U),R===void 0&&(R=!1),o.addEventListener(h.toString(),y,R);else if(o.attachEvent)o.attachEvent(gi(h.toString()),y);else if(o.addListener&&o.removeListener)o.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ge(){function o(p){return h.call(o.src,o.listener,p)}let h=la;return o}function Un(o,h,p,y,R){if(Array.isArray(h)){for(var k=0;k<h.length;k++)Un(o,h[k],p,y,R);return null}return p=lt(p),o&&o[mt]?o.L(h,p,f(y)?!!y.capture:!!y,R):et(o,h,p,!0,y,R)}function ua(o,h,p,y,R){if(Array.isArray(h))for(var k=0;k<h.length;k++)ua(o,h[k],p,y,R);else y=f(y)?!!y.capture:!!y,p=lt(p),o&&o[mt]?(o=o.i,h=String(h).toString(),h in o.g&&(k=o.g[h],p=yn(k,p,y,R),-1<p&&(fi(k[p]),Array.prototype.splice.call(k,p,1),k.length==0&&(delete o.g[h],o.h--)))):o&&(o=Ir(o))&&(h=o.g[h.toString()],o=-1,h&&(o=yn(h,p,y,R)),(p=-1<o?h[o]:null)&&pi(p))}function pi(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[mt])_r(h.i,o);else{var p=o.type,y=o.proxy;h.removeEventListener?h.removeEventListener(p,y,o.capture):h.detachEvent?h.detachEvent(gi(p),y):h.addListener&&h.removeListener&&h.removeListener(y),(p=Ir(h))?(_r(p,o),p.h==0&&(p.src=null,h[Er]=null)):fi(o)}}}function gi(o){return o in Ke?Ke[o]:Ke[o]="on"+o}function la(o,h){if(o.da)o=!0;else{h=new gn(h,this);var p=o.listener,y=o.ha||o.src;o.fa&&pi(o),o=p.call(y,h)}return o}function Ir(o){return o=o[Er],o instanceof mn?o:null}var Bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function lt(o){return typeof o=="function"?o:(o[Bn]||(o[Bn]=function(h){return o.handleEvent(h)}),o[Bn])}function De(){zt.call(this),this.i=new mn(this),this.M=this,this.F=null}L(De,zt),De.prototype[mt]=!0,De.prototype.removeEventListener=function(o,h,p,y){ua(this,o,h,p,y)};function Se(o,h){var p,y=o.F;if(y)for(p=[];y;y=y.F)p.push(y);if(o=o.M,y=h.type||h,typeof h=="string")h=new Oe(h,o);else if(h instanceof Oe)h.target=h.target||o;else{var R=h;h=new Oe(y,o),D(h,R)}if(R=!0,p)for(var k=p.length-1;0<=k;k--){var U=h.g=p[k];R=mi(U,y,!0,h)&&R}if(U=h.g=o,R=mi(U,y,!0,h)&&R,R=mi(U,y,!1,h)&&R,p)for(k=0;k<p.length;k++)U=h.g=p[k],R=mi(U,y,!1,h)&&R}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var o=this.i,h;for(h in o.g){for(var p=o.g[h],y=0;y<p.length;y++)fi(p[y]);delete o.g[h],o.h--}}this.F=null},De.prototype.K=function(o,h,p,y){return this.i.add(String(o),h,!1,p,y)},De.prototype.L=function(o,h,p,y){return this.i.add(String(o),h,!0,p,y)};function mi(o,h,p,y){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();for(var R=!0,k=0;k<h.length;++k){var U=h[k];if(U&&!U.da&&U.capture==p){var ye=U.listener,Ue=U.ha||U.src;U.fa&&_r(o.i,U),R=ye.call(Ue,y)!==!1&&R}}return R&&!y.defaultPrevented}function vn(o,h,p){if(typeof o=="function")p&&(o=A(o,p));else if(o&&typeof o.handleEvent=="function")o=A(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:u.setTimeout(o,h||0)}function jn(o){o.g=vn(()=>{o.g=null,o.i&&(o.i=!1,jn(o))},o.l);let h=o.h;o.h=null,o.m.apply(null,h)}class ha extends zt{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:jn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qt(o){zt.call(this),this.h=o,this.g={}}L(qt,zt);var yi=[];function da(o){pe(o.g,function(h,p){this.g.hasOwnProperty(p)&&pi(h)},o),o.g={}}qt.prototype.N=function(){qt.aa.N.call(this),da(this)},qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var br=u.JSON.stringify,Rs=u.JSON.parse,vi=class{stringify(o){return u.JSON.stringify(o,void 0)}parse(o){return u.JSON.parse(o,void 0)}};function Ps(){}Ps.prototype.h=null;function tt(o){return o.h||(o.h=o.i())}function Tt(){}var Tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nt(){Oe.call(this,"d")}L(nt,Oe);function $n(){Oe.call(this,"c")}L($n,Oe);var Gt={},ks=null;function ie(){return ks=ks||new De}Gt.La="serverreachability";function yt(o){Oe.call(this,Gt.La,o)}L(yt,Oe);function ht(o){let h=ie();Se(h,new yt(h))}Gt.STAT_EVENT="statevent";function Wt(o,h){Oe.call(this,Gt.STAT_EVENT,o),this.stat=h}L(Wt,Oe);function de(o){let h=ie();Se(h,new Wt(h,o))}Gt.Ma="timingevent";function Ve(o,h){Oe.call(this,Gt.Ma,o),this.size=h}L(Ve,Oe);function wn(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){o()},h)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function Ar(o,h,p,y,R,k){o.info(function(){if(o.g)if(k)for(var U="",ye=k.split("&"),Ue=0;Ue<ye.length;Ue++){var ue=ye[Ue].split("=");if(1<ue.length){var Be=ue[0];ue=ue[1];var je=Be.split("_");U=2<=je.length&&je[1]=="type"?U+(Be+"="+ue+"&"):U+(Be+"=redacted&")}}else U=null;else U=k;return"XMLHTTP REQ ("+y+") [attempt "+R+"]: "+h+`
`+p+`
`+U})}function ot(o,h,p,y,R,k,U){o.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+R+"]: "+h+`
`+p+`
`+k+" "+U})}function qn(o,h,p,y){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+pa(o,p)+(y?" "+y:"")})}function fa(o,h){o.info(function(){return"TIMEOUT: "+h})}zn.prototype.info=function(){};function pa(o,h){if(!o.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var y=p[o];if(!(2>y.length)){var R=y[1];if(Array.isArray(R)&&!(1>R.length)){var k=R[0];if(k!="noop"&&k!="stop"&&k!="close")for(var U=1;U<R.length;U++)R[U]=""}}}}return br(p)}catch{return h}}var Gn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ga={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wi;function _i(){}L(_i,Ps),_i.prototype.g=function(){return new XMLHttpRequest},_i.prototype.i=function(){return{}},wi=new _i;function Ht(o,h,p,y){this.j=o,this.i=h,this.l=p,this.R=y||1,this.U=new qt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kt}function Kt(){this.i=null,this.g="",this.h=!1}var ma={},Ns={};function Os(o,h,p){o.L=1,o.v=Ii(at(h)),o.m=p,o.P=!0,ya(o,null)}function ya(o,h){o.F=Date.now(),Ei(o),o.A=at(o.v);var p=o.A,y=o.R;Array.isArray(y)||(y=[String(y)]),ka(p.i,"t",y),o.C=0,p=o.j.J,o.h=new Kt,o.g=qa(o.j,p?h:null,!o.m),0<o.O&&(o.M=new ha(A(o.Y,o,o.g),o.O)),h=o.U,p=o.g,y=o.ca;var R="readystatechange";Array.isArray(R)||(R&&(yi[0]=R.toString()),R=yi);for(var k=0;k<R.length;k++){var U=Vn(p,R[k],y||h.handleEvent,!1,h.h||h);if(!U)break;h.g[U.key]=U}h=o.H?_(o.H):{},o.m?(o.u||(o.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,h)):(o.u="GET",o.g.ea(o.A,o.u,null,h)),ht(),Ar(o.i,o.u,o.A,o.l,o.R,o.m)}Ht.prototype.ca=function(o){o=o.target;let h=this.M;h&&Lt(o)==3?h.j():this.Y(o)},Ht.prototype.Y=function(o){try{if(o==this.g)e:{let je=Lt(this.g);var h=this.g.Ba();let Yt=this.g.Z();if(!(3>je)&&(je!=3||this.g&&(this.h.h||this.g.oa()||La(this.g)))){this.J||je!=4||h==7||(h==8||0>=Yt?ht(3):ht(2)),xt(this);var p=this.g.Z();this.X=p;t:if(va(this)){var y=La(this.g);o="";var R=y.length,k=Lt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),Dr(this);var U="";break t}this.h.i=new u.TextDecoder}for(h=0;h<R;h++)this.h.h=!0,o+=this.h.i.decode(y[h],{stream:!(k&&h==R-1)});y.length=0,this.h.g+=o,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=p==200,ot(this.i,this.u,this.A,this.l,this.R,je,p),this.o){if(this.T&&!this.K){t:{if(this.g){var ye,Ue=this.g;if((ye=Ue.g?Ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(ye)){var ue=ye;break t}}ue=null}if(p=ue)qn(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ms(this,p);else{this.o=!1,this.s=3,de(12),_n(this),Dr(this);break e}}if(this.P){p=!0;let rt;for(;!this.J&&this.C<U.length;)if(rt=xs(this,U),rt==Ns){je==4&&(this.s=4,de(14),p=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(rt==ma){this.s=4,de(15),qn(this.i,this.l,U,"[Invalid Chunk]"),p=!1;break}else qn(this.i,this.l,rt,null),Ms(this,rt);if(va(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||U.length!=0||this.h.h||(this.s=1,de(16),p=!1),this.o=this.o&&p,!p)qn(this.i,this.l,U,"[Invalid Chunked Response]"),_n(this),Dr(this);else if(0<U.length&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.ba&&!Be.M&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),An(Be),Be.M=!0,de(11))}}else qn(this.i,this.l,U,null),Ms(this,U);je==4&&_n(this),this.o&&!this.J&&(je==4?ja(this.j,this):(this.o=!1,Ei(this)))}else rl(this.g),p==400&&0<U.indexOf("Unknown SID")?(this.s=3,de(12)):(this.s=0,de(13)),_n(this),Dr(this)}}}catch{}finally{}};function va(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function xs(o,h){var p=o.C,y=h.indexOf(`
`,p);return y==-1?Ns:(p=Number(h.substring(p,y)),isNaN(p)?ma:(y+=1,y+p>h.length?Ns:(h=h.slice(y,y+p),o.C=y+p,h)))}Ht.prototype.cancel=function(){this.J=!0,_n(this)};function Ei(o){o.S=Date.now()+o.I,wa(o,o.I)}function wa(o,h){if(o.B!=null)throw Error("WatchDog timer not null");o.B=wn(A(o.ba,o),h)}function xt(o){o.B&&(u.clearTimeout(o.B),o.B=null)}Ht.prototype.ba=function(){this.B=null;let o=Date.now();0<=o-this.S?(fa(this.i,this.A),this.L!=2&&(ht(),de(17)),_n(this),this.s=2,Dr(this)):wa(this,this.S-o)};function Dr(o){o.j.G==0||o.J||ja(o.j,o)}function _n(o){xt(o);var h=o.M;h&&typeof h.ma=="function"&&h.ma(),o.M=null,da(o.U),o.g&&(h=o.g,o.g=null,h.abort(),h.ma())}function Ms(o,h){try{var p=o.j;if(p.G!=0&&(p.g==o||Ls(p.h,o))){if(!o.K&&Ls(p.h,o)&&p.G==3){try{var y=p.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var R=y;if(R[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Di(p),bi(p);else break e;Ai(p),de(18)}}else p.za=R[1],0<p.za-p.T&&37500>R[2]&&p.F&&p.v==0&&!p.C&&(p.C=wn(A(p.Za,p),6e3));if(1>=Ia(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else dt(p,11)}else if((o.K||p.g==o)&&Di(p),!Y(h))for(R=p.Da.g.parse(h),h=0;h<R.length;h++){let ue=R[h];if(p.T=ue[0],ue=ue[1],p.G==2)if(ue[0]=="c"){p.K=ue[1],p.ia=ue[2];let Be=ue[3];Be!=null&&(p.la=Be,p.j.info("VER="+p.la));let je=ue[4];je!=null&&(p.Aa=je,p.j.info("SVER="+p.Aa));let Yt=ue[5];Yt!=null&&typeof Yt=="number"&&0<Yt&&(y=1.5*Yt,p.L=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;let rt=o.g;if(rt){let Ci=rt.g?rt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ci){var k=y.h;k.g||Ci.indexOf("spdy")==-1&&Ci.indexOf("quic")==-1&&Ci.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Vs(k,k.h),k.h=null))}if(y.D){let Ri=rt.g?rt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ri&&(y.ya=Ri,Ie(y.I,y.D,Ri))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),y=p;var U=o;if(y.qa=za(y,y.J?y.ia:null,y.W),U.K){_e(y.h,U);var ye=U,Ue=y.L;Ue&&(ye.I=Ue),ye.B&&(xt(ye),Ei(ye)),y.g=U}else Ua(y);0<p.i.length&&Ti(p)}else ue[0]!="stop"&&ue[0]!="close"||dt(p,7);else p.G==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?dt(p,7):js(p):ue[0]!="noop"&&p.l&&p.l.ta(ue),p.v=0)}}ht(4)}catch{}}var Fs=class{constructor(o,h){this.g=o,this.map=h}};function _a(o){this.l=o||10,u.PerformanceNavigationTiming?(o=u.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ea(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Ia(o){return o.h?1:o.g?o.g.size:0}function Ls(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function Vs(o,h){o.g?o.g.add(h):o.h=h}function _e(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}_a.prototype.cancel=function(){if(this.i=ba(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let o of this.g.values())o.cancel();this.g.clear()}};function ba(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let h=o.i;for(let p of o.g.values())h=h.concat(p.D);return h}return B(o.i)}function Gu(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(d(o)){for(var h=[],p=o.length,y=0;y<p;y++)h.push(o[y]);return h}h=[],p=0;for(y in o)h[p++]=o[y];return h}function Wu(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(d(o)||typeof o=="string"){var h=[];o=o.length;for(var p=0;p<o;p++)h.push(p);return h}h=[],p=0;for(let y in o)h[p++]=y;return h}}}function Ta(o,h){if(o.forEach&&typeof o.forEach=="function")o.forEach(h,void 0);else if(d(o)||typeof o=="string")Array.prototype.forEach.call(o,h,void 0);else for(var p=Wu(o),y=Gu(o),R=y.length,k=0;k<R;k++)h.call(void 0,y[k],p&&p[k],o)}var Aa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hu(o,h){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var y=o[p].indexOf("="),R=null;if(0<=y){var k=o[p].substring(0,y);R=o[p].substring(y+1)}else k=o[p];h(k,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function Mt(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Mt){this.h=o.h,Sr(this,o.j),this.o=o.o,this.g=o.g,En(this,o.s),this.l=o.l;var h=o.i,p=new Rr;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),Te(this,p),this.m=o.m}else o&&(h=String(o).match(Aa))?(this.h=!1,Sr(this,h[1]||"",!0),this.o=Cr(h[2]||""),this.g=Cr(h[3]||"",!0),En(this,h[4]),this.l=Cr(h[5]||"",!0),Te(this,h[6]||"",!0),this.m=Cr(h[7]||"")):(this.h=!1,this.i=new Rr(null,this.h))}Mt.prototype.toString=function(){var o=[],h=this.j;h&&o.push(Wn(h,Da,!0),":");var p=this.g;return(p||h=="file")&&(o.push("//"),(h=this.o)&&o.push(Wn(h,Da,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Wn(p,p.charAt(0)=="/"?Sa:Qu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Wn(p,Ca)),o.join("")};function at(o){return new Mt(o)}function Sr(o,h,p){o.j=p?Cr(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function En(o,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);o.s=h}else o.s=null}function Te(o,h,p){h instanceof Rr?(o.i=h,Ju(o.i,o.h)):(p||(h=Wn(h,Yu)),o.i=new Rr(h,o.h))}function Ie(o,h,p){o.i.set(h,p)}function Ii(o){return Ie(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Cr(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Wn(o,h,p){return typeof o=="string"?(o=encodeURI(o).replace(h,Ku),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Ku(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Da=/[#\/\?@]/g,Qu=/[#\?:]/g,Sa=/[#\?]/g,Yu=/[#\?@]/g,Ca=/#/g;function Rr(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function Qt(o){o.g||(o.g=new Map,o.h=0,o.i&&Hu(o.i,function(h,p){o.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=Rr.prototype,n.add=function(o,h){Qt(this),this.i=null,o=Hn(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(h),this.h+=1,this};function Ra(o,h){Qt(o),h=Hn(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function Pa(o,h){return Qt(o),h=Hn(o,h),o.g.has(h)}n.forEach=function(o,h){Qt(this),this.g.forEach(function(p,y){p.forEach(function(R){o.call(h,R,y,this)},this)},this)},n.na=function(){Qt(this);let o=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let y=0;y<h.length;y++){let R=o[y];for(let k=0;k<R.length;k++)p.push(h[y])}return p},n.V=function(o){Qt(this);let h=[];if(typeof o=="string")Pa(this,o)&&(h=h.concat(this.g.get(Hn(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)h=h.concat(o[p])}return h},n.set=function(o,h){return Qt(this),this.i=null,o=Hn(this,o),Pa(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},n.get=function(o,h){return o?(o=this.V(o),0<o.length?String(o[0]):h):h};function ka(o,h,p){Ra(o,h),0<p.length&&(o.i=null,o.g.set(Hn(o,h),B(p)),o.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let o=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var y=h[p];let k=encodeURIComponent(String(y)),U=this.V(y);for(y=0;y<U.length;y++){var R=k;U[y]!==""&&(R+="="+encodeURIComponent(String(U[y]))),o.push(R)}}return this.i=o.join("&")};function Hn(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function Ju(o,h){h&&!o.j&&(Qt(o),o.i=null,o.g.forEach(function(p,y){var R=y.toLowerCase();y!=R&&(Ra(this,y),ka(this,R,p))},o)),o.j=h}function Na(o,h){let p=new zn;if(u.Image){let y=new Image;y.onload=O(Ft,p,"TestLoadImage: loaded",!0,h,y),y.onerror=O(Ft,p,"TestLoadImage: error",!1,h,y),y.onabort=O(Ft,p,"TestLoadImage: abort",!1,h,y),y.ontimeout=O(Ft,p,"TestLoadImage: timeout",!1,h,y),u.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=o}else h(!1)}function Xu(o,h){let p=new zn,y=new AbortController,R=setTimeout(()=>{y.abort(),Ft(p,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:y.signal}).then(k=>{clearTimeout(R),k.ok?Ft(p,"TestPingServer: ok",!0,h):Ft(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(R),Ft(p,"TestPingServer: error",!1,h)})}function Ft(o,h,p,y,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),y(p)}catch{}}function Zu(){this.g=new vi}function el(o,h,p){let y=p||"";try{Ta(o,function(R,k){let U=R;f(R)&&(U=br(R)),h.push(y+k+"="+encodeURIComponent(U))})}catch(R){throw h.push(y+"type="+encodeURIComponent("_badmap")),R}}function At(o){this.l=o.Ub||null,this.j=o.eb||!1}L(At,Ps),At.prototype.g=function(){return new Pr(this.l,this.j)},At.prototype.i=function(o){return function(){return o}}({});function Pr(o,h){De.call(this),this.D=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Pr,De),n=Pr.prototype,n.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=h,this.readyState=1,Kn(this)},n.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(h.body=o),(this.D||u).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,In(this)),this.readyState=0},n.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Oa(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Oa(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}n.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?In(this):Kn(this),this.readyState==3&&Oa(this)}},n.Ra=function(o){this.g&&(this.response=this.responseText=o,In(this))},n.Qa=function(o){this.g&&(this.response=o,In(this))},n.ga=function(){this.g&&In(this)};function In(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Kn(o)}n.setRequestHeader=function(o,h){this.u.append(o,h)},n.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let o=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=h.next();return o.join(`\r
`)};function Kn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function xa(o){let h="";return pe(o,function(p,y){h+=y,h+=":",h+=p,h+=`\r
`}),h}function Us(o,h,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=xa(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Ie(o,h,p))}function Ae(o){De.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Ae,De);var tl=/^https?$/i,nl=["POST","PUT"];n=Ae.prototype,n.Ha=function(o){this.J=o},n.ea=function(o,h,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wi.g(),this.v=this.o?tt(this.o):tt(wi),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(k){Ma(this,k);return}if(o=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var R in y)p.set(R,y[R]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let k of y.keys())p.set(k,y.get(k));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),R=u.FormData&&o instanceof u.FormData,!(0<=Array.prototype.indexOf.call(nl,h,void 0))||y||R||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,U]of p)this.g.setRequestHeader(k,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bs(this),this.u=!0,this.g.send(o),this.u=!1}catch(k){Ma(this,k)}};function Ma(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.m=5,bn(o),kr(o)}function bn(o){o.A||(o.A=!0,Se(o,"complete"),Se(o,"error"))}n.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Se(this,"complete"),Se(this,"abort"),kr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kr(this,!0)),Ae.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fa(this):this.bb())},n.bb=function(){Fa(this)};function Fa(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Lt(o)!=4||o.Z()!=2)){if(o.u&&Lt(o)==4)vn(o.Ea,0,o);else if(Se(o,"readystatechange"),Lt(o)==4){o.h=!1;try{let U=o.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var y;if(y=U===0){var R=String(o.D).match(Aa)[1]||null;!R&&u.self&&u.self.location&&(R=u.self.location.protocol.slice(0,-1)),y=!tl.test(R?R.toLowerCase():"")}p=y}if(p)Se(o,"complete"),Se(o,"success");else{o.m=6;try{var k=2<Lt(o)?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.Z()+"]",bn(o)}}finally{kr(o)}}}}function kr(o,h){if(o.g){Bs(o);let p=o.g,y=o.v[0]?()=>{}:null;o.g=null,o.v=null,h||Se(o,"ready");try{p.onreadystatechange=y}catch{}}}function Bs(o){o.I&&(u.clearTimeout(o.I),o.I=null)}n.isActive=function(){return!!this.g};function Lt(o){return o.g?o.g.readyState:0}n.Z=function(){try{return 2<Lt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),Rs(h)}};function La(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function rl(o){let h={};o=(o.g&&2<=Lt(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<o.length;y++){if(Y(o[y]))continue;var p=C(o[y]);let R=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let k=h[R]||[];h[R]=k,k.push(p)}S(h,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nr(o,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||h}function Va(o){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nr("baseRetryDelayMs",5e3,o),this.cb=Nr("retryDelaySeedMs",1e4,o),this.Wa=Nr("forwardChannelMaxRetries",2,o),this.wa=Nr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new _a(o&&o.concurrentRequestLimit),this.Da=new Zu,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Va.prototype,n.la=8,n.G=1,n.connect=function(o,h,p,y){de(0),this.W=o,this.H=h||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.I=za(this,null,this.W),Ti(this)};function js(o){if(Tn(o),o.G==3){var h=o.U++,p=at(o.I);if(Ie(p,"SID",o.K),Ie(p,"RID",h),Ie(p,"TYPE","terminate"),Or(o,p),h=new Ht(o,o.j,h),h.L=2,h.v=Ii(at(p)),p=!1,u.navigator&&u.navigator.sendBeacon)try{p=u.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&u.Image&&(new Image().src=h.v,p=!0),p||(h.g=qa(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Ei(h)}$a(o)}function bi(o){o.g&&(An(o),o.g.cancel(),o.g=null)}function Tn(o){bi(o),o.u&&(u.clearTimeout(o.u),o.u=null),Di(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&u.clearTimeout(o.s),o.s=null)}function Ti(o){if(!Ea(o.h)&&!o.s){o.s=!0;var h=o.Ga;vr||oa(),wr||(vr(),wr=!0),di.add(h,o),o.B=0}}function il(o,h){return Ia(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=h.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=wn(A(o.Ga,o,h),zs(o,o.B)),o.B++,!0)}n.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;let R=new Ht(this,this.j,o),k=this.o;if(this.S&&(k?(k=_(k),D(k,this.S)):k=this.S),this.m!==null||this.O||(R.H=k,k=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=Vt(this,R,h),p=at(this.I),Ie(p,"RID",o),Ie(p,"CVER",22),this.D&&Ie(p,"X-HTTP-Session-Id",this.D),Or(this,p),k&&(this.O?h="headers="+encodeURIComponent(String(xa(k)))+"&"+h:this.m&&Us(p,this.m,k)),Vs(this.h,R),this.Ua&&Ie(p,"TYPE","init"),this.P?(Ie(p,"$req",h),Ie(p,"SID","null"),R.T=!0,Os(R,p,null)):Os(R,p,h),this.G=2}}else this.G==3&&(o?$s(this,o):this.i.length==0||Ea(this.h)||$s(this))};function $s(o,h){var p;h?p=h.l:p=o.U++;let y=at(o.I);Ie(y,"SID",o.K),Ie(y,"RID",p),Ie(y,"AID",o.T),Or(o,y),o.m&&o.o&&Us(y,o.m,o.o),p=new Ht(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),h&&(o.i=h.D.concat(o.i)),h=Vt(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Vs(o.h,p),Os(p,y,h)}function Or(o,h){o.H&&pe(o.H,function(p,y){Ie(h,y,p)}),o.l&&Ta({},function(p,y){Ie(h,y,p)})}function Vt(o,h,p){p=Math.min(o.i.length,p);var y=o.l?A(o.l.Na,o.l,o):null;e:{var R=o.i;let k=-1;for(;;){let U=["count="+p];k==-1?0<p?(k=R[0].g,U.push("ofs="+k)):k=0:U.push("ofs="+k);let ye=!0;for(let Ue=0;Ue<p;Ue++){let ue=R[Ue].g,Be=R[Ue].map;if(ue-=k,0>ue)k=Math.max(0,R[Ue].g-100),ye=!1;else try{el(Be,U,"req"+ue+"_")}catch{y&&y(Be)}}if(ye){y=U.join("&");break e}}}return o=o.i.splice(0,p),h.D=o,y}function Ua(o){if(!o.g&&!o.u){o.Y=1;var h=o.Fa;vr||oa(),wr||(vr(),wr=!0),di.add(h,o),o.v=0}}function Ai(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=wn(A(o.Fa,o),zs(o,o.v)),o.v++,!0)}n.Fa=function(){if(this.u=null,Ba(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=wn(A(this.ab,this),o)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,de(10),bi(this),Ba(this))};function An(o){o.A!=null&&(u.clearTimeout(o.A),o.A=null)}function Ba(o){o.g=new Ht(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var h=at(o.qa);Ie(h,"RID","rpc"),Ie(h,"SID",o.K),Ie(h,"AID",o.T),Ie(h,"CI",o.F?"0":"1"),!o.F&&o.ja&&Ie(h,"TO",o.ja),Ie(h,"TYPE","xmlhttp"),Or(o,h),o.m&&o.o&&Us(h,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=Ii(at(h)),p.m=null,p.P=!0,ya(p,o)}n.Za=function(){this.C!=null&&(this.C=null,bi(this),Ai(this),de(19))};function Di(o){o.C!=null&&(u.clearTimeout(o.C),o.C=null)}function ja(o,h){var p=null;if(o.g==h){Di(o),An(o),o.g=null;var y=2}else if(Ls(o.h,h))p=h.D,_e(o.h,h),y=1;else return;if(o.G!=0){if(h.o)if(y==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var R=o.B;y=ie(),Se(y,new Ve(y,p)),Ti(o)}else Ua(o);else if(R=h.s,R==3||R==0&&0<h.X||!(y==1&&il(o,h)||y==2&&Ai(o)))switch(p&&0<p.length&&(h=o.h,h.i=h.i.concat(p)),R){case 1:dt(o,5);break;case 4:dt(o,10);break;case 3:dt(o,6);break;default:dt(o,2)}}}function zs(o,h){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*h}function dt(o,h){if(o.j.info("Error code "+h),h==2){var p=A(o.fb,o),y=o.Xa;let R=!y;y=new Mt(y||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Sr(y,"https"),Ii(y),R?Na(y.toString(),p):Xu(y.toString(),p)}else de(2);o.G=0,o.l&&o.l.sa(h),$a(o),Tn(o)}n.fb=function(o){o?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function $a(o){if(o.G=0,o.ka=[],o.l){let h=ba(o.h);(h.length!=0||o.i.length!=0)&&(M(o.ka,h),M(o.ka,o.i),o.h.i.length=0,B(o.i),o.i.length=0),o.l.ra()}}function za(o,h,p){var y=p instanceof Mt?at(p):new Mt(p);if(y.g!="")h&&(y.g=h+"."+y.g),En(y,y.s);else{var R=u.location;y=R.protocol,h=h?h+"."+R.hostname:R.hostname,R=+R.port;var k=new Mt(null);y&&Sr(k,y),h&&(k.g=h),R&&En(k,R),p&&(k.l=p),y=k}return p=o.D,h=o.ya,p&&h&&Ie(y,p,h),Ie(y,"VER",o.la),Or(o,y),y}function qa(o,h,p){if(h&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Ca&&!o.pa?new Ae(new At({eb:p})):new Ae(o.pa),h.Ha(o.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ga(){}n=Ga.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Si(){}Si.prototype.g=function(o,h){return new ct(o,h)};function ct(o,h){De.call(this),this.g=new Va(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(o?o["X-WebChannel-Client-Profile"]=h.va:o={"X-WebChannel-Client-Profile":h.va}),this.g.S=o,(o=h&&h.Sb)&&!Y(o)&&(this.g.m=o),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!Y(h)&&(this.g.D=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new Qn(this)}L(ct,De),ct.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ct.prototype.close=function(){js(this.g)},ct.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=br(o),o=p);h.i.push(new Fs(h.Ya++,o)),h.G==3&&Ti(h)},ct.prototype.N=function(){this.g.l=null,delete this.j,js(this.g),delete this.g,ct.aa.N.call(this)};function Wa(o){nt.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){e:{for(let p in h){o=p;break e}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}L(Wa,nt);function Ha(){$n.call(this),this.status=1}L(Ha,$n);function Qn(o){this.g=o}L(Qn,Ga),Qn.prototype.ua=function(){Se(this.g,"a")},Qn.prototype.ta=function(o){Se(this.g,new Wa(o))},Qn.prototype.sa=function(o){Se(this.g,new Ha)},Qn.prototype.ra=function(){Se(this.g,"b")},Si.prototype.createWebChannel=Si.prototype.g,ct.prototype.send=ct.prototype.o,ct.prototype.open=ct.prototype.m,ct.prototype.close=ct.prototype.close,$d=xn.createWebChannelTransport=function(){return new Si},jd=xn.getStatEventTarget=function(){return ie()},Bd=xn.Event=Gt,nu=xn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gn.NO_ERROR=0,Gn.TIMEOUT=8,Gn.HTTP_ERROR=6,Vo=xn.ErrorCode=Gn,ga.COMPLETE="complete",Ud=xn.EventType=ga,Tt.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",De.prototype.listen=De.prototype.K,rs=xn.WebChannel=Tt,Vd=xn.FetchXmlHttpFactory=At,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha,Ld=xn.XhrIo=Ae}).apply(typeof tu<"u"?tu:typeof self<"u"?self:typeof window<"u"?window:{});var Tv="@firebase/firestore";var Ye=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");var Ss="10.12.1";var ii=new sr("@firebase/firestore");function Uo(){return ii.logLevel}function z(n,...e){if(ii.logLevel<=le.DEBUG){let t=e.map(Cp);ii.debug(`Firestore (${Ss}): ${n}`,...t)}}function Mn(n,...e){if(ii.logLevel<=le.ERROR){let t=e.map(Cp);ii.error(`Firestore (${Ss}): ${n}`,...t)}}function hs(n,...e){if(ii.logLevel<=le.WARN){let t=e.map(Cp);ii.warn(`Firestore (${Ss}): ${n}`,...t)}}function Cp(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Q(n="Unexpected state"){let e=`FIRESTORE (${Ss}) INTERNAL ASSERTION FAILED: `+n;throw Mn(e),new Error(e)}function be(n,e){n||Q()}function X(n,e){return n}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends Et{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var an=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var au=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Hd=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ye.UNAUTHENTICATED))}shutdown(){}},Kd=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Qd=class{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i,i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve(),s=new an;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new an,e.enqueueRetryable(()=>i(this.currentUser))};let a=()=>{let d=s;e.enqueueRetryable(()=>b(this,null,function*(){yield d.promise,yield i(this.currentUser)}))},u=d=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?u(d):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new an)}},0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new au(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new Ye(e)}},Yd=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Jd=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Yd(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Xd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Zd=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let r=s=>{s.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let a=s.token!==this.R;return this.R=s.token,z("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(be(typeof t.token=="string"),this.R=t.token,new Xd(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function uS(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var cu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=uS(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function me(n,e){return n<e?-1:n>e?1:0}function ds(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Xe=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var te=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Xe(0,0))}static max(){return new n(new Xe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var uu=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Q(),r===void 0?r=e.length-t:r>e.length-t&&Q(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),a=t.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Pe=class n extends uu{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new q(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},lS=/^[_a-zA-Z][_a-zA-Z0-9]*$/,bt=class n extends uu{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return lS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new q(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},a=!1;for(;i<e.length;){let u=e[i];if(u==="\\"){if(i+1===e.length)throw new q(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new q(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(s(),i++)}if(s(),a)throw new q(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var K=class n{constructor(e){this.path=e}static fromPath(e){return new n(Pe.fromString(e))}static fromName(e){return new n(Pe.fromString(e).popFirst(5))}static empty(){return new n(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Pe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Pe(e.slice()))}};var ef=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};ef.UNKNOWN_ID=-1;function hS(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Xe(t+1,0):new Xe(t,r));return new si(i,K.empty(),e)}function dS(n){return new si(n.readTime,n.key,-1)}var si=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(te.min(),K.empty(),-1)}static max(){return new n(te.max(),K.empty(),-1)}};function fS(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=K.comparator(n.documentKey,e.documentKey),t!==0?t:me(n.largestBatchId,e.largestBatchId))}var pS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tf=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ta(n){return b(this,null,function*(){if(n.code!==F.FAILED_PRECONDITION||n.message!==pS)throw n;z("LocalStore","Unexpectedly lost primary lease")})}var V=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,a=!1;e.forEach(u=>{++i,u.next(()=>{++s,a&&s===i&&t()},d=>r(d))}),a=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,a=new Array(s),u=0;for(let d=0;d<s;d++){let f=d;t(e[f]).next(v=>{a[f]=v,++u,u===s&&r(a)},v=>i(v))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function gS(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function na(n){return n.name==="IndexedDbTransactionError"}var Xv=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Lu(n){return n==null}function Go(n){return n===0&&1/n==-1/0}function mS(n){return typeof n=="number"&&Number.isInteger(n)&&!Go(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var yS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],eN=[...yS,"documentOverlays"],vS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wS=vS,tN=[...wS,"indexConfiguration","indexState","indexEntries"];function Av(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function li(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Zv(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ke=class n{constructor(e,t){this.comparator=e,this.root=t||cn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new as(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new as(this.root,e,this.comparator,!1)}getReverseIterator(){return new as(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new as(this.root,e,this.comparator,!0)}},as=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},cn=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();let e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}};cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,t,r,i,s){return this}insert(e,t,r){return new cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var st=class n{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lu(this.data.getIterator())}getIteratorFrom(e){return new lu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},lu=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var kt=class n{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new n([])}unionWith(e){let t=new st(bt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ds(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var hu=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ut=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new hu("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ut.EMPTY_BYTE_STRING=new ut("");var _S=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fn(n){if(be(!!n),typeof n=="string"){let e=0,t=_S.exec(n);if(be(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(n.seconds),nanos:Re(n.nanos)}}function Re(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function pr(n){return typeof n=="string"?ut.fromBase64String(n):ut.fromUint8Array(n)}function Rp(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Pp(n){let e=n.mapValue.fields.__previous_value__;return Rp(e)?Pp(e):e}function Wo(n){let e=Fn(n.mapValue.fields.__local_write_time__.timestampValue);return new Xe(e.seconds,e.nanos)}var nf=class{constructor(e,t,r,i,s,a,u,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f}},du=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ru={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rp(n)?4:ew(n)?9007199254740991:10:Q()}function hn(n,e){if(n===e)return!0;let t=oi(n);if(t!==oi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Wo(n).isEqual(Wo(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let a=Fn(i.timestampValue),u=Fn(s.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return pr(i.bytesValue).isEqual(pr(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Re(i.geoPointValue.latitude)===Re(s.geoPointValue.latitude)&&Re(i.geoPointValue.longitude)===Re(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Re(i.integerValue)===Re(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let a=Re(i.doubleValue),u=Re(s.doubleValue);return a===u?Go(a)===Go(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return ds(n.arrayValue.values||[],e.arrayValue.values||[],hn);case 10:return function(i,s){let a=i.mapValue.fields||{},u=s.mapValue.fields||{};if(Av(a)!==Av(u))return!1;for(let d in a)if(a.hasOwnProperty(d)&&(u[d]===void 0||!hn(a[d],u[d])))return!1;return!0}(n,e);default:return Q()}}function Ho(n,e){return(n.values||[]).find(t=>hn(t,e))!==void 0}function fs(n,e){if(n===e)return 0;let t=oi(n),r=oi(e);if(t!==r)return me(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return me(n.booleanValue,e.booleanValue);case 2:return function(s,a){let u=Re(s.integerValue||s.doubleValue),d=Re(a.integerValue||a.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,e);case 3:return Dv(n.timestampValue,e.timestampValue);case 4:return Dv(Wo(n),Wo(e));case 5:return me(n.stringValue,e.stringValue);case 6:return function(s,a){let u=pr(s),d=pr(a);return u.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){let u=s.split("/"),d=a.split("/");for(let f=0;f<u.length&&f<d.length;f++){let v=me(u[f],d[f]);if(v!==0)return v}return me(u.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){let u=me(Re(s.latitude),Re(a.latitude));return u!==0?u:me(Re(s.longitude),Re(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,a){let u=s.values||[],d=a.values||[];for(let f=0;f<u.length&&f<d.length;++f){let v=fs(u[f],d[f]);if(v)return v}return me(u.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,a){if(s===ru.mapValue&&a===ru.mapValue)return 0;if(s===ru.mapValue)return 1;if(a===ru.mapValue)return-1;let u=s.fields||{},d=Object.keys(u),f=a.fields||{},v=Object.keys(f);d.sort(),v.sort();for(let T=0;T<d.length&&T<v.length;++T){let A=me(d[T],v[T]);if(A!==0)return A;let O=fs(u[d[T]],f[v[T]]);if(O!==0)return O}return me(d.length,v.length)}(n.mapValue,e.mapValue);default:throw Q()}}function Dv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return me(n,e);let t=Fn(n),r=Fn(e),i=me(t.seconds,r.seconds);return i!==0?i:me(t.nanos,r.nanos)}function ps(n){return rf(n)}function rf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Fn(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return pr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return K.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=rf(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let a of r)s?s=!1:i+=",",i+=`${a}:${rf(t.fields[a])}`;return i+"}"}(n.mapValue):Q()}function sf(n){return!!n&&"integerValue"in n}function kp(n){return!!n&&"arrayValue"in n}function Sv(n){return!!n&&"nullValue"in n}function Cv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function su(n){return!!n&&"mapValue"in n}function jo(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return li(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=jo(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jo(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ew(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var It=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!su(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jo(t)}setAll(e){let t=bt.emptyPath(),r={},i=[];e.forEach((a,u)=>{if(!t.isImmediateParentOf(u)){let d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}a?r[u.lastSegment()]=jo(a):i.push(u.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());su(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];su(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){li(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(jo(this.value))}};function tw(n){let e=[];return li(n.fields,(t,r)=>{let i=new bt([t]);if(su(r)){let s=tw(r.mapValue).fields;if(s.length===0)e.push(i);else for(let a of s)e.push(i.child(a))}else e.push(i)}),new kt(e)}var $t=class n{constructor(e,t,r,i,s,a,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new n(e,0,te.min(),te.min(),te.min(),It.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,te.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,te.min(),te.min(),It.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,te.min(),te.min(),It.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=It.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=It.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var gs=class{constructor(e,t){this.position=e,this.inclusive=t}};function Rv(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],a=n.position[i];if(s.field.isKeyField()?r=K.comparator(K.fromName(a.referenceValue),t.key):r=fs(a,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Pv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!hn(n.position[t],e.position[t]))return!1;return!0}var ms=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function ES(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var fu=class{},He=class n extends fu{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new af(e,t,r):t==="array-contains"?new lf(e,r):t==="in"?new hf(e,r):t==="not-in"?new df(e,r):t==="array-contains-any"?new ff(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new cf(e,r):new uf(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(fs(t,this.value)):t!==null&&oi(this.value)===oi(t)&&this.matchesComparison(fs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},dn=class n extends fu{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return nw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function nw(n){return n.op==="and"}function rw(n){return IS(n)&&nw(n)}function IS(n){for(let e of n.filters)if(e instanceof dn)return!1;return!0}function of(n){if(n instanceof He)return n.field.canonicalString()+n.op.toString()+ps(n.value);if(rw(n))return n.filters.map(e=>of(e)).join(",");{let e=n.filters.map(t=>of(t)).join(",");return`${n.op}(${e})`}}function iw(n,e){return n instanceof He?function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&hn(r.value,i.value)}(n,e):n instanceof dn?function(r,i){return i instanceof dn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,u)=>s&&iw(a,i.filters[u]),!0):!1}(n,e):void Q()}function sw(n){return n instanceof He?function(t){return`${t.field.canonicalString()} ${t.op} ${ps(t.value)}`}(n):n instanceof dn?function(t){return t.op.toString()+" {"+t.getFilters().map(sw).join(" ,")+"}"}(n):"Filter"}var af=class extends He{constructor(e,t,r){super(e,t,r),this.key=K.fromName(r.referenceValue)}matches(e){let t=K.comparator(e.key,this.key);return this.matchesComparison(t)}},cf=class extends He{constructor(e,t){super(e,"in",t),this.keys=ow("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},uf=class extends He{constructor(e,t){super(e,"not-in",t),this.keys=ow("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function ow(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>K.fromName(r.referenceValue))}var lf=class extends He{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return kp(t)&&Ho(t.arrayValue,this.value)}},hf=class extends He{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ho(this.value.arrayValue,t)}},df=class extends He{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Ho(this.value.arrayValue,t)}},ff=class extends He{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!kp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ho(this.value.arrayValue,r))}};var pf=class{constructor(e,t=null,r=[],i=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=u,this.ue=null}};function kv(n,e=null,t=[],r=[],i=null,s=null,a=null){return new pf(n,e,t,r,i,s,a)}function Np(n){let e=X(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>of(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Lu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ps(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ps(r)).join(",")),e.ue=t}return e.ue}function Op(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ES(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!iw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Pv(n.startAt,e.startAt)&&Pv(n.endAt,e.endAt)}function gf(n){return K.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ys=class{constructor(e,t=null,r=[],i=[],s=null,a="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function bS(n,e,t,r,i,s,a,u){return new ys(n,e,t,r,i,s,a,u)}function aw(n){return new ys(n)}function Nv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function TS(n){return n.collectionGroup!==null}function $o(n){let e=X(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new st(bt.comparator);return a.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ms(s,r))}),t.has(bt.keyField().canonicalString())||e.ce.push(new ms(bt.keyField(),r))}return e.ce}function un(n){let e=X(n);return e.le||(e.le=AS(e,$o(n))),e.le}function AS(n,e){if(n.limitType==="F")return kv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ms(i.field,s)});let t=n.endAt?new gs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new gs(n.startAt.position,n.startAt.inclusive):null;return kv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function mf(n,e,t){return new ys(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vu(n,e){return Op(un(n),un(e))&&n.limitType===e.limitType}function cw(n){return`${Np(un(n))}|lt:${n.limitType}`}function is(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>sw(i)).join(", ")}]`),Lu(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ps(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ps(i)).join(",")),`Target(${r})`}(un(n))}; limitType=${n.limitType})`}function Uu(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):K.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of $o(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(a,u,d){let f=Rv(a,u,d);return a.inclusive?f<=0:f<0}(r.startAt,$o(r),i)||r.endAt&&!function(a,u,d){let f=Rv(a,u,d);return a.inclusive?f>=0:f>0}(r.endAt,$o(r),i))}(n,e)}function DS(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uw(n){return(e,t)=>{let r=!1;for(let i of $o(n)){let s=SS(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function SS(n,e,t){let r=n.field.isKeyField()?K.comparator(e.key,t.key):function(s,a,u){let d=a.data.field(s),f=u.data.field(s);return d!==null&&f!==null?fs(d,f):Q()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}var gr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){li(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Zv(this.inner)}size(){return this.innerSize}};var CS=new ke(K.comparator);function Ln(){return CS}var lw=new ke(K.comparator);function Bo(...n){let e=lw;for(let t of n)e=e.insert(t.key,t);return e}function hw(n){let e=lw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ni(){return zo()}function dw(){return zo()}function zo(){return new gr(n=>n.toString(),(n,e)=>n.isEqual(e))}var RS=new ke(K.comparator),PS=new st(K.comparator);function he(...n){let e=PS;for(let t of n)e=e.add(t);return e}var kS=new st(me);function NS(){return kS}function fw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Go(e)?"-0":e}}function pw(n){return{integerValue:""+n}}function OS(n,e){return mS(e)?pw(e):fw(n,e)}var vs=class{constructor(){this._=void 0}};function xS(n,e,t){return n instanceof ws?function(i,s){let a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Rp(s)&&(s=Pp(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(t,e):n instanceof ai?mw(n,e):n instanceof ci?yw(n,e):function(i,s){let a=gw(i,s),u=Ov(a)+Ov(i.Pe);return sf(a)&&sf(i.Pe)?pw(u):fw(i.serializer,u)}(n,e)}function MS(n,e,t){return n instanceof ai?mw(n,e):n instanceof ci?yw(n,e):t}function gw(n,e){return n instanceof _s?function(r){return sf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ws=class extends vs{},ai=class extends vs{constructor(e){super(),this.elements=e}};function mw(n,e){let t=vw(e);for(let r of n.elements)t.some(i=>hn(i,r))||t.push(r);return{arrayValue:{values:t}}}var ci=class extends vs{constructor(e){super(),this.elements=e}};function yw(n,e){let t=vw(e);for(let r of n.elements)t=t.filter(i=>!hn(i,r));return{arrayValue:{values:t}}}var _s=class extends vs{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function Ov(n){return Re(n.integerValue||n.doubleValue)}function vw(n){return kp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function FS(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ai&&i instanceof ai||r instanceof ci&&i instanceof ci?ds(r.elements,i.elements,hn):r instanceof _s&&i instanceof _s?hn(r.Pe,i.Pe):r instanceof ws&&i instanceof ws}(n.transform,e.transform)}var yf=class{constructor(e,t){this.version=e,this.transformResults=t}},dr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ou(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Es=class{};function ww(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new pu(n.key,dr.none()):new ui(n.key,n.data,dr.none());{let t=n.data,r=It.empty(),i=new st(bt.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new fn(n.key,r,new kt(i.toArray()),dr.none())}}function LS(n,e,t){n instanceof ui?function(i,s,a){let u=i.value.clone(),d=Mv(i.fieldTransforms,s,a.transformResults);u.setAll(d),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof fn?function(i,s,a){if(!ou(i.precondition,s))return void s.convertToUnknownDocument(a.version);let u=Mv(i.fieldTransforms,s,a.transformResults),d=s.data;d.setAll(_w(i)),d.setAll(u),s.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(n,e,t):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function qo(n,e,t,r){return n instanceof ui?function(s,a,u,d){if(!ou(s.precondition,a))return u;let f=s.value.clone(),v=Fv(s.fieldTransforms,d,a);return f.setAll(v),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof fn?function(s,a,u,d){if(!ou(s.precondition,a))return u;let f=Fv(s.fieldTransforms,d,a),v=a.data;return v.setAll(_w(s)),v.setAll(f),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(T=>T.field))}(n,e,t,r):function(s,a,u){return ou(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(n,e,t)}function VS(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=gw(r.transform,i||null);s!=null&&(t===null&&(t=It.empty()),t.set(r.field,s))}return t||null}function xv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ds(r,i,(s,a)=>FS(s,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ui=class extends Es{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},fn=class extends Es{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function _w(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function Mv(n,e,t){let r=new Map;be(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],a=s.transform,u=e.data.field(s.field);r.set(s.field,MS(a,u,t[i]))}return r}function Fv(n,e,t){let r=new Map;for(let i of n){let s=i.transform,a=t.data.field(i.field);r.set(i.field,xS(s,a,e))}return r}var pu=class extends Es{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},vf=class extends Es{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var wf=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&LS(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=qo(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=qo(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=dw();return this.mutations.forEach(i=>{let s=e.get(i.key),a=s.overlayedDocument,u=this.applyToLocalView(a,s.mutatedFields);u=t.has(i.key)?null:u;let d=ww(a,u);d!==null&&r.set(i.key,d),a.isValidDocument()||a.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),he())}isEqual(e){return this.batchId===e.batchId&&ds(this.mutations,e.mutations,(t,r)=>xv(t,r))&&ds(this.baseMutations,e.baseMutations,(t,r)=>xv(t,r))}},_f=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){be(e.mutations.length===r.length);let i=function(){return RS}(),s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new n(e,t,r,i)}};var Ef=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var If=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Fe,fe;function US(n){switch(n){default:return Q();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function Ew(n){if(n===void 0)return Mn("GRPC error has no .code"),F.UNKNOWN;switch(n){case Fe.OK:return F.OK;case Fe.CANCELLED:return F.CANCELLED;case Fe.UNKNOWN:return F.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return F.INTERNAL;case Fe.UNAVAILABLE:return F.UNAVAILABLE;case Fe.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Fe.NOT_FOUND:return F.NOT_FOUND;case Fe.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Fe.ABORTED:return F.ABORTED;case Fe.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Fe.DATA_LOSS:return F.DATA_LOSS;default:return Q()}}(fe=Fe||(Fe={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var Lv=null;function BS(){return new TextEncoder}var jS=new hr([4294967295,4294967295],0);function Vv(n){let e=BS().encode(n),t=new Fd;return t.update(e),new Uint8Array(t.digest())}function Uv(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new hr([t,r],0),new hr([i,s],0)]}var bf=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ri(`Invalid padding: ${t}`);if(r<0)throw new ri(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ri(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ri(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=hr.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(hr.fromNumber(r)));return i.compare(jS)===1&&(i=new hr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=Vv(e),[r,i]=Uv(t);for(let s=0;s<this.hashCount;s++){let a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new n(s,i,t);return r.forEach(u=>a.insert(u)),a}insert(e){if(this.Ie===0)return;let t=Vv(e),[r,i]=Uv(t);for(let s=0;s<this.hashCount;s++){let a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ri=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var gu=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ko.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(te.min(),i,new ke(me),Ln(),he())}},Ko=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,he(),he(),he())}};var us=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},mu=class{constructor(e,t){this.targetId=e,this.me=t}},yu=class{constructor(e,t,r=ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},vu=class{constructor(){this.fe=0,this.ge=jv(),this.pe=ut.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=he(),t=he(),r=he();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new Ko(this.pe,this.ye,e,t,r)}ve(){this.we=!1,this.ge=jv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Tf=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ln(),this.qe=Bv(),this.Qe=new ke(me)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(gf(s))if(r===0){let a=new K(s.path);this.Ue(t,a,$t.newNoDocument(a,te.min()))}else be(r===1);else{let a=this.Ye(t);if(a!==r){let u=this.Ze(e),d=u?this.Xe(u,e,a):1;if(d!==0){this.je(t);let f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,f)}Lv?.et(function(v,T,A,O,L){var B,M,$,Y,Z,ee;let Ne={localCacheCount:v,existenceFilterCount:T.count,databaseId:A.database,projectId:A.projectId},pe=T.unchangedNames;return pe&&(Ne.bloomFilter={applied:L===0,hashCount:(B=pe?.hashCount)!==null&&B!==void 0?B:0,bitmapLength:(Y=($=(M=pe?.bits)===null||M===void 0?void 0:M.bitmap)===null||$===void 0?void 0:$.length)!==null&&Y!==void 0?Y:0,padding:(ee=(Z=pe?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&ee!==void 0?ee:0,mightContain:S=>{var _;return(_=O?.mightContain(S))!==null&&_!==void 0&&_}}),Ne}(a,e.me,this.Le.tt(),u,d))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,a,u;try{a=pr(r).toUint8Array()}catch(d){if(d instanceof hu)return hs("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new bf(a,i,s)}catch(d){return hs(d instanceof ri?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ie===0?null:u}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let a=this.Le.tt(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,a)=>{let u=this.Je(a);if(u){if(s.current&&gf(u.target)){let d=new K(u.target.path);this.ke.get(d)!==null||this.it(a,d)||this.Ue(a,d,$t.newNoDocument(d,e))}s.be&&(t.set(a,s.Ce()),s.ve())}});let r=he();this.qe.forEach((s,a)=>{let u=!0;a.forEachWhile(d=>{let f=this.Je(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));let i=new gu(e,t,this.Qe,this.ke,r);return this.ke=Ln(),this.qe=Bv(),this.Qe=new ke(me),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new vu,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new st(me),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||z("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new vu),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function Bv(){return new ke(K.comparator)}function jv(){return new ke(K.comparator)}var $S={asc:"ASCENDING",desc:"DESCENDING"},zS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qS={and:"AND",or:"OR"},Af=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Df(n,e){return n.useProto3Json||Lu(e)?e:{value:e}}function wu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Iw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function GS(n,e){return wu(n,e.toTimestamp())}function ln(n){return be(!!n),te.fromTimestamp(function(t){let r=Fn(t);return new Xe(r.seconds,r.nanos)}(n))}function xp(n,e){return Sf(n,e).canonicalString()}function Sf(n,e){let t=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function bw(n){let e=Pe.fromString(n);return be(Cw(e)),e}function Cf(n,e){return xp(n.databaseId,e.path)}function zd(n,e){let t=bw(e);if(t.get(1)!==n.databaseId.projectId)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new K(Aw(t))}function Tw(n,e){return xp(n.databaseId,e)}function WS(n){let e=bw(n);return e.length===4?Pe.emptyPath():Aw(e)}function Rf(n){return new Pe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Aw(n){return be(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function $v(n,e,t){return{name:Cf(n,e),fields:t.value.mapValue.fields}}function HS(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,v){return f.useProto3Json?(be(v===void 0||typeof v=="string"),ut.fromBase64String(v||"")):(be(v===void 0||v instanceof Buffer||v instanceof Uint8Array),ut.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(f){let v=f.code===void 0?F.UNKNOWN:Ew(f.code);return new q(v,f.message||"")}(a);t=new yu(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=zd(n,r.document.name),s=ln(r.document.updateTime),a=r.document.createTime?ln(r.document.createTime):te.min(),u=new It({mapValue:{fields:r.document.fields}}),d=$t.newFoundDocument(i,s,a,u),f=r.targetIds||[],v=r.removedTargetIds||[];t=new us(f,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=zd(n,r.document),s=r.readTime?ln(r.readTime):te.min(),a=$t.newNoDocument(i,s),u=r.removedTargetIds||[];t=new us([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=zd(n,r.document),s=r.removedTargetIds||[];t=new us([],s,i,null)}else{if(!("filter"in e))return Q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,a=new If(i,s),u=r.targetId;t=new mu(u,a)}}return t}function KS(n,e){let t;if(e instanceof ui)t={update:$v(n,e.key,e.value)};else if(e instanceof pu)t={delete:Cf(n,e.key)};else if(e instanceof fn)t={update:$v(n,e.key,e.data),updateMask:rC(e.fieldMask)};else{if(!(e instanceof vf))return Q();t={verify:Cf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,a){let u=a.transform;if(u instanceof ws)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ai)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ci)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof _s)return{fieldPath:a.field.canonicalString(),increment:u.Pe};throw Q()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:GS(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q()}(n,e.precondition)),t}function QS(n,e){return n&&n.length>0?(be(e!==void 0),n.map(t=>function(i,s){let a=i.updateTime?ln(i.updateTime):ln(s);return a.isEqual(te.min())&&(a=ln(s)),new yf(a,i.transformResults||[])}(t,e))):[]}function YS(n,e){return{documents:[Tw(n,e.path)]}}function JS(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Tw(n,i);let s=function(f){if(f.length!==0)return Sw(dn.create(f,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let a=function(f){if(f.length!==0)return f.map(v=>function(A){return{field:ss(A.field),direction:eC(A.dir)}}(v))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);let u=Df(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:t,parent:i}}function XS(n){let e=WS(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){be(r===1);let v=t.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let s=[];t.where&&(s=function(T){let A=Dw(T);return A instanceof dn&&rw(A)?A.getFilters():[A]}(t.where));let a=[];t.orderBy&&(a=function(T){return T.map(A=>function(L){return new ms(os(L.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(A))}(t.orderBy));let u=null;t.limit&&(u=function(T){let A;return A=typeof T=="object"?T.value:T,Lu(A)?null:A}(t.limit));let d=null;t.startAt&&(d=function(T){let A=!!T.before,O=T.values||[];return new gs(O,A)}(t.startAt));let f=null;return t.endAt&&(f=function(T){let A=!T.before,O=T.values||[];return new gs(O,A)}(t.endAt)),bS(e,i,a,s,u,"F",d,f)}function ZS(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Dw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=os(t.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=os(t.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=os(t.unaryFilter.field);return He.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=os(t.unaryFilter.field);return He.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(n):n.fieldFilter!==void 0?function(t){return He.create(os(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return dn.create(t.compositeFilter.filters.map(r=>Dw(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(t.compositeFilter.op))}(n):Q()}function eC(n){return $S[n]}function tC(n){return zS[n]}function nC(n){return qS[n]}function ss(n){return{fieldPath:n.canonicalString()}}function os(n){return bt.fromServerFormat(n.fieldPath)}function Sw(n){return n instanceof He?function(t){if(t.op==="=="){if(Cv(t.value))return{unaryFilter:{field:ss(t.field),op:"IS_NAN"}};if(Sv(t.value))return{unaryFilter:{field:ss(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Cv(t.value))return{unaryFilter:{field:ss(t.field),op:"IS_NOT_NAN"}};if(Sv(t.value))return{unaryFilter:{field:ss(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ss(t.field),op:tC(t.op),value:t.value}}}(n):n instanceof dn?function(t){let r=t.getFilters().map(i=>Sw(i));return r.length===1?r[0]:{compositeFilter:{op:nC(t.op),filters:r}}}(n):Q()}function rC(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Cw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Qo=class n{constructor(e,t,r,i,s=te.min(),a=te.min(),u=ut.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Pf=class{constructor(e){this.ct=e}};function iC(n){let e=XS({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?mf(e,e.limit,"L"):e}var _u=class{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Re(e.integerValue));else if("doubleValue"in e){let r=Re(e.doubleValue);isNaN(r)?this.Et(t,13):(this.Et(t,15),Go(r)?t.dt(0):t.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(t,20),typeof r=="string"&&(r=Fn(r)),t.At(`${r.seconds||""}`),t.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(pr(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(t,45),t.dt(r.latitude||0),t.dt(r.longitude||0)}else"mapValue"in e?ew(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Q()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){let r=e.fields||{};this.Et(t,55);for(let i of Object.keys(r))this.Rt(i,t),this.It(r[i],t)}wt(e,t){let r=e.values||[];this.Et(t,50);for(let i of r)this.It(i,t)}gt(e,t){this.Et(t,37),K.fromName(e).path.forEach(r=>{this.Et(t,60),this.St(r,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}};_u.bt=new _u;var kf=class{constructor(){this._n=new Nf}addToCollectionParentIndex(e,t){return this._n.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(si.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(si.min())}updateCollectionGroup(e,t,r){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}},Nf=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new st(Pe.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new st(Pe.comparator)).toArray()}};var rN=new Uint8Array(0);var on=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(41943040,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);var Yo=class n{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new n(0)}static Ln(){return new n(-1)}};var Of=class{constructor(){this.changes=new gr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?V.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var xf=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Mf=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&qo(r.mutation,i,kt.empty(),Xe.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,t,r=he()){let i=ni();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let a=Bo();return s.forEach((u,d)=>{a=a.insert(u,d.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){let r=ni();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,he()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,u)=>{t.set(a,u)})})}computeViews(e,t,r,i){let s=Ln(),a=zo(),u=function(){return zo()}();return t.forEach((d,f)=>{let v=r.get(f.key);i.has(f.key)&&(v===void 0||v.mutation instanceof fn)?s=s.insert(f.key,f):v!==void 0?(a.set(f.key,v.mutation.getFieldMask()),qo(v.mutation,f,v.mutation.getFieldMask(),Xe.now())):a.set(f.key,kt.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((f,v)=>a.set(f,v)),t.forEach((f,v)=>{var T;return u.set(f,new xf(v,(T=a.get(f))!==null&&T!==void 0?T:null))}),u))}recalculateAndSaveOverlays(e,t){let r=zo(),i=new ke((a,u)=>a-u),s=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(let u of a)u.keys().forEach(d=>{let f=t.get(d);if(f===null)return;let v=r.get(d)||kt.empty();v=u.applyToLocalView(f,v),r.set(d,v);let T=(i.get(u.batchId)||he()).add(d);i=i.insert(u.batchId,T)})}).next(()=>{let a=[],u=i.getReverseIterator();for(;u.hasNext();){let d=u.getNext(),f=d.key,v=d.value,T=dw();v.forEach(A=>{if(!s.has(A)){let O=ww(t.get(A),r.get(A));O!==null&&T.set(A,O),s=s.add(A)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,T))}return V.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(a){return K.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):TS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):V.resolve(ni()),u=-1,d=s;return a.next(f=>V.forEach(f,(v,T)=>(u<T.largestBatchId&&(u=T.largestBatchId),s.get(v)?V.resolve():this.remoteDocumentCache.getEntry(e,v).next(A=>{d=d.insert(v,A)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,d,f,he())).next(v=>({batchId:u,changes:hw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new K(t)).next(r=>{let i=Bo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,a=Bo();return this.indexManager.getCollectionParents(e,s).next(u=>V.forEach(u,d=>{let f=function(T,A){return new ys(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(v=>{v.forEach((T,A)=>{a=a.insert(T,A)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(a=>{s.forEach((d,f)=>{let v=f.getKey();a.get(v)===null&&(a=a.insert(v,$t.newInvalidDocument(v)))});let u=Bo();return a.forEach((d,f)=>{let v=s.get(d);v!==void 0&&qo(v.mutation,f,kt.empty(),Xe.now()),Uu(t,f)&&(u=u.insert(d,f))}),u})}};var Ff=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return V.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ln(i.createTime)}}(t)),V.resolve()}getNamedQuery(e,t){return V.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(i){return{name:i.name,query:iC(i.bundledQuery),readTime:ln(i.readTime)}}(t)),V.resolve()}};var Lf=class{constructor(){this.overlays=new ke(K.comparator),this.hr=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ni();return V.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),V.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),V.resolve()}getOverlaysForCollection(e,t,r){let i=ni(),s=t.length+1,a=new K(t.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){let d=u.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return V.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new ke((f,v)=>f-v),a=this.overlays.getIterator();for(;a.hasNext();){let f=a.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let v=s.get(f.largestBatchId);v===null&&(v=ni(),s=s.insert(f.largestBatchId,v)),v.set(f.getKey(),f)}}let u=ni(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,v)=>u.set(f,v)),!(u.size()>=i)););return V.resolve(u)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let a=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Ef(t,r));let s=this.hr.get(t);s===void 0&&(s=he(),this.hr.set(t,s)),this.hr.set(t,s.add(r.key))}};var Jo=class{constructor(){this.Pr=new st(Le.Ir),this.Tr=new st(Le.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){let r=new Le(e,t);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ar(new Le(e,t))}Rr(e,t){e.forEach(r=>this.removeReference(r,t))}Vr(e){let t=new K(new Pe([])),r=new Le(t,e),i=new Le(t,e+1),s=[];return this.Tr.forEachInRange([r,i],a=>{this.Ar(a),s.push(a.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let t=new K(new Pe([])),r=new Le(t,e),i=new Le(t,e+1),s=he();return this.Tr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){let t=new Le(e,0),r=this.Pr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Le=class{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return K.comparator(e.key,t.key)||me(e.pr,t.pr)}static Er(e,t){return me(e.pr,t.pr)||K.comparator(e.key,t.key)}};var Vf=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new st(Le.Ir)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new wf(s,t,r,i);this.mutationQueue.push(a);for(let u of i)this.wr=this.wr.add(new Le(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return V.resolve(a)}lookupMutationBatch(e,t){return V.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.br(r),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Le(t,0),i=new Le(t,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],a=>{let u=this.Sr(a.pr);s.push(u)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new st(me);return t.forEach(i=>{let s=new Le(i,0),a=new Le(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,a],u=>{r=r.add(u.pr)})}),V.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;K.isDocumentKey(s)||(s=s.child(""));let a=new Le(new K(s),0),u=new st(me);return this.wr.forEachWhile(d=>{let f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(d.pr)),!0)},a),V.resolve(this.Dr(u))}Dr(e){let t=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){be(this.Cr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return V.forEach(t.mutations,i=>{let s=new Le(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,t){let r=new Le(t,0),i=this.wr.firstAfterOrEqual(r);return V.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Cr(e,t){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Uf=class{constructor(e){this.vr=e,this.docs=function(){return new ke(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,a=this.vr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return V.resolve(r?r.document.mutableCopy():$t.newInvalidDocument(t))}getEntries(e,t){let r=Ln();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$t.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ln(),a=t.path,u=new K(a.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){let{key:f,value:{document:v}}=d.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||fS(dS(v),r)<=0||(i.has(v.key)||Uu(t,v))&&(s=s.insert(v.key,v.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Q()}Fr(e,t){return V.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Bf(this)}getSize(e){return V.resolve(this.size)}},Bf=class extends Of{constructor(e){super(),this.ar=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),V.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}};var jf=class{constructor(e){this.persistence=e,this.Mr=new gr(t=>Np(t),Op),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Jo,this.targetCount=0,this.Lr=Yo.Nn()}forEachTarget(e,t){return this.Mr.forEach((r,i)=>t(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Or&&(this.Or=t),V.resolve()}qn(e){this.Mr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Lr=new Yo(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.qn(t),V.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Mr.forEach((a,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Mr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){let r=this.Mr.get(t)||null;return V.resolve(r)}addMatchingKeys(e,t,r){return this.Nr.dr(t,r),V.resolve()}removeMatchingKeys(e,t,r){this.Nr.Rr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),V.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Nr.gr(t);return V.resolve(r)}containsKey(e,t){return V.resolve(this.Nr.containsKey(t))}};var $f=class{constructor(e,t){this.Br={},this.overlays={},this.kr=new Xv(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new jf(this),this.indexManager=new kf,this.remoteDocumentCache=function(i){return new Uf(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Pf(t),this.$r=new Ff(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Lf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new Vf(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,r){z("MemoryPersistence","Starting transaction:",e);let i=new zf(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,t){return V.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}},zf=class extends tf{constructor(e){super(),this.currentSequenceNumber=e}},qf=class n{constructor(e){this.persistence=e,this.zr=new Jo,this.jr=null}static Hr(e){return new n(e)}get Jr(){if(this.jr)return this.jr;throw Q()}addReference(e,t,r){return this.zr.addReference(r,t),this.Jr.delete(r.toString()),V.resolve()}removeReference(e,t,r){return this.zr.removeReference(r,t),this.Jr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),V.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Jr,r=>{let i=K.fromPath(r);return this.Yr(e,i).next(s=>{s||t.removeEntry(i,te.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(r=>{r?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return V.or([()=>V.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}};var Gf=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.qi=r,this.Qi=i}static Ki(e,t){let r=he(),i=he();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var Wf=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Hf=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return ay()?8:gS(qe())>0?6:4}()}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.ji(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Hi(e,t,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;let a=new Wf;return this.Ji(e,t,a).next(u=>{if(s.result=u,this.Ui)return this.Yi(e,t,a,u.size)})}).next(()=>s.result)}Yi(e,t,r,i){return r.documentReadCount<this.Wi?(Uo()<=le.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",is(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),V.resolve()):(Uo()<=le.DEBUG&&z("QueryEngine","Query:",is(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Uo()<=le.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",is(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,un(t))):V.resolve())}ji(e,t){if(Nv(t))return V.resolve(null);let r=un(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=mf(t,null,"F"),r=un(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let a=he(...s);return this.zi.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{let f=this.Zi(t,u);return this.Xi(t,f,a,d.readTime)?this.ji(e,mf(t,null,"F")):this.es(e,f,t,d)}))})))}Hi(e,t,r,i){return Nv(t)||i.isEqual(te.min())?V.resolve(null):this.zi.getDocuments(e,r).next(s=>{let a=this.Zi(t,s);return this.Xi(t,a,r,i)?V.resolve(null):(Uo()<=le.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),is(t)),this.es(e,a,t,hS(i,-1)).next(u=>u))})}Zi(e,t){let r=new st(uw(e));return t.forEach((i,s)=>{Uu(e,s)&&(r=r.add(s))}),r}Xi(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,t,r){return Uo()<=le.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",is(t)),this.zi.getDocumentsMatchingQuery(e,t,si.min(),r)}es(e,t,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}};var Kf=class{constructor(e,t,r,i){this.persistence=e,this.ts=t,this.serializer=i,this.ns=new ke(me),this.rs=new gr(s=>Np(s),Op),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mf(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}};function sC(n,e,t,r){return new Kf(n,e,t,r)}function Rw(n,e){return b(this,null,function*(){let t=X(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t._s(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let a=[],u=[],d=he();for(let f of i){a.push(f.batchId);for(let v of f.mutations)d=d.add(v.key)}for(let f of s){u.push(f.batchId);for(let v of f.mutations)d=d.add(v.key)}return t.localDocuments.getDocuments(r,d).next(f=>({us:f,removedBatchIds:a,addedBatchIds:u}))})})})}function oC(n,e){let t=X(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.os.newChangeBuffer({trackRemovals:!0});return function(u,d,f,v){let T=f.batch,A=T.keys(),O=V.resolve();return A.forEach(L=>{O=O.next(()=>v.getEntry(d,L)).next(B=>{let M=f.docVersions.get(L);be(M!==null),B.version.compareTo(M)<0&&(T.applyToRemoteDocument(B,f),B.isValidDocument()&&(B.setReadTime(f.commitVersion),v.addEntry(B)))})}),O.next(()=>u.mutationQueue.removeMutationBatch(d,T))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=he();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Pw(n){let e=X(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function aC(n,e){let t=X(n),r=e.snapshotVersion,i=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let a=t.os.newChangeBuffer({trackRemovals:!0});i=t.ns;let u=[];e.targetChanges.forEach((v,T)=>{let A=i.get(T);if(!A)return;u.push(t.Qr.removeMatchingKeys(s,v.removedDocuments,T).next(()=>t.Qr.addMatchingKeys(s,v.addedDocuments,T)));let O=A.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(ut.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,r)),i=i.insert(T,O),function(B,M,$){return B.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(A,O,v)&&u.push(t.Qr.updateTargetData(s,O))});let d=Ln(),f=he();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,v))}),u.push(cC(s,a,e.documentUpdates).next(v=>{d=v.cs,f=v.ls})),!r.isEqual(te.min())){let v=t.Qr.getLastRemoteSnapshotVersion(s).next(T=>t.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(v)}return V.waitFor(u).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,d,f)).next(()=>d)}).then(s=>(t.ns=i,s))}function cC(n,e,t){let r=he(),i=he();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let a=Ln();return t.forEach((u,d)=>{let f=s.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(te.min())?(e.removeEntry(u,d.readTime),a=a.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),a=a.insert(u,d)):z("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)}),{cs:a,ls:i}})}function uC(n,e){let t=X(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lC(n,e){let t=X(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Qr.getTargetData(r,e).next(s=>s?(i=s,V.resolve(i)):t.Qr.allocateTargetId(r).next(a=>(i=new Qo(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ns=t.ns.insert(r.targetId,r),t.rs.set(e,r.targetId)),r})}function Qf(n,e,t){return b(this,null,function*(){let r=X(n),i=r.ns.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!na(a))throw a;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function zv(n,e,t){let r=X(n),i=te.min(),s=he();return r.persistence.runTransaction("Execute query","readwrite",a=>function(d,f,v){let T=X(d),A=T.rs.get(v);return A!==void 0?V.resolve(T.ns.get(A)):T.Qr.getTargetData(f,v)}(r,a,un(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,u.targetId).next(d=>{s=d})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,t?i:te.min(),t?s:he())).next(u=>(hC(r,DS(e),u),{documents:u,hs:s})))}function hC(n,e,t){let r=n.ss.get(e)||te.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.ss.set(e,r)}var Eu=class{constructor(){this.activeTargetIds=NS()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Yf=class{constructor(){this.no=new Eu,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,r){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Eu,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Jf=class{io(e){}shutdown(){}};var Iu=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var iu=null;function qd(){return iu===null?iu=function(){return 268435456+Math.round(2147483648*Math.random())}():iu++,"0x"+iu.toString(16)}var dC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Xf=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var it="WebChannelConnection",Zf=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+t.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(t,r,i,s,a){let u=qd(),d=this.vo(t,r.toUriEncodedString());z("RestConnection",`Sending RPC '${t}' ${u}:`,d,i);let f={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(f,s,a),this.Mo(t,d,f,i).then(v=>(z("RestConnection",`Received RPC '${t}' ${u}: `,v),v),v=>{throw hs("RestConnection",`RPC '${t}' ${u} failed with error: `,v,"url: ",d,"request:",i),v})}xo(t,r,i,s,a,u){return this.Co(t,r,i,s,a)}Fo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ss}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>t[a]=s),i&&i.headers.forEach((s,a)=>t[a]=s)}vo(t,r){let i=dC[t];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,r,i){let s=qd();return new Promise((a,u)=>{let d=new Ld;d.setWithCredentials(!0),d.listenOnce(Ud.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Vo.NO_ERROR:let v=d.getResponseJson();z(it,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(v)),a(v);break;case Vo.TIMEOUT:z(it,`RPC '${e}' ${s} timed out`),u(new q(F.DEADLINE_EXCEEDED,"Request time out"));break;case Vo.HTTP_ERROR:let T=d.getStatus();if(z(it,`RPC '${e}' ${s} failed with status:`,T,"response text:",d.getResponseText()),T>0){let A=d.getResponseJson();Array.isArray(A)&&(A=A[0]);let O=A?.error;if(O&&O.status&&O.message){let L=function(M){let $=M.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf($)>=0?$:F.UNKNOWN}(O.status);u(new q(L,O.message))}else u(new q(F.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new q(F.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{z(it,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);z(it,`RPC '${e}' ${s} sending request:`,i),d.send(t,"POST",f,r,15)})}Oo(e,t,r){let i=qd(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=$d(),u=jd(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.xmlHttpFactory=new Vd({})),this.Fo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;let v=s.join("");z(it,`Creating RPC '${e}' stream ${i}: ${v}`,d);let T=a.createWebChannel(v,d),A=!1,O=!1,L=new Xf({lo:M=>{O?z(it,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(A||(z(it,`Opening RPC '${e}' stream ${i} transport.`),T.open(),A=!0),z(it,`RPC '${e}' stream ${i} sending:`,M),T.send(M))},ho:()=>T.close()}),B=(M,$,Y)=>{M.listen($,Z=>{try{Y(Z)}catch(ee){setTimeout(()=>{throw ee},0)}})};return B(T,rs.EventType.OPEN,()=>{O||(z(it,`RPC '${e}' stream ${i} transport opened.`),L.mo())}),B(T,rs.EventType.CLOSE,()=>{O||(O=!0,z(it,`RPC '${e}' stream ${i} transport closed`),L.po())}),B(T,rs.EventType.ERROR,M=>{O||(O=!0,hs(it,`RPC '${e}' stream ${i} transport errored:`,M),L.po(new q(F.UNAVAILABLE,"The operation could not be completed")))}),B(T,rs.EventType.MESSAGE,M=>{var $;if(!O){let Y=M.data[0];be(!!Y);let Z=Y,ee=Z.error||(($=Z[0])===null||$===void 0?void 0:$.error);if(ee){z(it,`RPC '${e}' stream ${i} received error:`,ee);let Ne=ee.status,pe=function(E){let D=Fe[E];if(D!==void 0)return Ew(D)}(Ne),S=ee.message;pe===void 0&&(pe=F.INTERNAL,S="Unknown error status: "+Ne+" with message "+ee.message),O=!0,L.po(new q(pe,S)),T.close()}else z(it,`RPC '${e}' stream ${i} received:`,Y),L.yo(Y)}}),B(u,Bd.STAT_EVENT,M=>{M.stat===nu.PROXY?z(it,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===nu.NOPROXY&&z(it,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{L.fo()},0),L}};function Gd(){return typeof document<"u"?document:null}function Bu(n){return new Af(n,!0)}var bu=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=t,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let t=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,t-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var Tu=class{constructor(e,t,r,i,s,a,u,d){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new bu(e,t)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return b(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return b(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,t){return b(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():t&&t.code===F.RESOURCE_EXHAUSTED?(Mn(t.toString()),Mn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(t)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===t&&this.u_(r,i)},r=>{e(()=>{let i=new q(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,t){let r=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(()=>b(this,null,function*(){this.state=0,this.start()}))}c_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget(()=>this.jo===e?t():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},ep=class extends Tu{constructor(e,t,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();let t=HS(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();let a=s.targetChange;return a.targetIds&&a.targetIds.length?te.min():a.readTime?ln(a.readTime):te.min()}(e);return this.listener.h_(t,r)}P_(e){let t={};t.database=Rf(this.serializer),t.addTarget=function(s,a){let u,d=a.target;if(u=gf(d)?{documents:YS(s,d)}:{query:JS(s,d)._t},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=Iw(s,a.resumeToken);let f=Df(s,a.expectedCount);f!==null&&(u.expectedCount=f)}else if(a.snapshotVersion.compareTo(te.min())>0){u.readTime=wu(s,a.snapshotVersion.toTimestamp());let f=Df(s,a.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);let r=ZS(this.serializer,e);r&&(t.labels=r),this.i_(t)}I_(e){let t={};t.database=Rf(this.serializer),t.removeTarget=e,this.i_(t)}},tp=class extends Tu{constructor(e,t,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let t=QS(e.writeResults,e.commitTime),r=ln(e.commitTime);return this.listener.A_(r,t)}return be(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=Rf(this.serializer),this.i_(e)}d_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>KS(this.serializer,r))};this.i_(t)}};var np=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,Sf(t,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(F.UNKNOWN,s.toString())})}xo(e,t,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.xo(e,Sf(t,r),i,a,u,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new q(F.UNKNOWN,a.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},rp=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Mn(t),this.y_=!1):z("OnlineStateTracker",t)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var ip=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(a=>{r.enqueueAndForget(()=>b(this,null,function*(){hi(this)&&(z("RemoteStore","Restarting streams for network reachability change."),yield function(d){return b(this,null,function*(){let f=X(d);f.M_.add(4),yield ra(f),f.N_.set("Unknown"),f.M_.delete(4),yield ju(f)})}(this))}))}),this.N_=new rp(r,i)}};function ju(n){return b(this,null,function*(){if(hi(n))for(let e of n.x_)yield e(!0)})}function ra(n){return b(this,null,function*(){for(let e of n.x_)yield e(!1)})}function kw(n,e){let t=X(n);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),Vp(t)?Lp(t):Cs(t).Xo()&&Fp(t,e))}function Mp(n,e){let t=X(n),r=Cs(t);t.F_.delete(e),r.Xo()&&Nw(t,e),t.F_.size===0&&(r.Xo()?r.n_():hi(t)&&t.N_.set("Unknown"))}function Fp(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Cs(n).P_(e)}function Nw(n,e){n.L_.xe(e),Cs(n).I_(e)}function Lp(n){n.L_=new Tf({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Cs(n).start(),n.N_.w_()}function Vp(n){return hi(n)&&!Cs(n).Zo()&&n.F_.size>0}function hi(n){return X(n).M_.size===0}function Ow(n){n.L_=void 0}function fC(n){return b(this,null,function*(){n.N_.set("Online")})}function pC(n){return b(this,null,function*(){n.F_.forEach((e,t)=>{Fp(n,e)})})}function gC(n,e){return b(this,null,function*(){Ow(n),Vp(n)?(n.N_.D_(e),Lp(n)):n.N_.set("Unknown")})}function mC(n,e,t){return b(this,null,function*(){if(n.N_.set("Online"),e instanceof yu&&e.state===2&&e.cause)try{yield function(i,s){return b(this,null,function*(){let a=s.cause;for(let u of s.targetIds)i.F_.has(u)&&(yield i.remoteSyncer.rejectListen(u,a),i.F_.delete(u),i.L_.removeTarget(u))})}(n,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Au(n,r)}else if(e instanceof us?n.L_.Ke(e):e instanceof mu?n.L_.He(e):n.L_.We(e),!t.isEqual(te.min()))try{let r=yield Pw(n.localStore);t.compareTo(r)>=0&&(yield function(s,a){let u=s.L_.rt(a);return u.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){let v=s.F_.get(f);v&&s.F_.set(f,v.withResumeToken(d.resumeToken,a))}}),u.targetMismatches.forEach((d,f)=>{let v=s.F_.get(d);if(!v)return;s.F_.set(d,v.withResumeToken(ut.EMPTY_BYTE_STRING,v.snapshotVersion)),Nw(s,d);let T=new Qo(v.target,d,f,v.sequenceNumber);Fp(s,T)}),s.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){z("RemoteStore","Failed to raise snapshot:",r),yield Au(n,r)}})}function Au(n,e,t){return b(this,null,function*(){if(!na(e))throw e;n.M_.add(1),yield ra(n),n.N_.set("Offline"),t||(t=()=>Pw(n.localStore)),n.asyncQueue.enqueueRetryable(()=>b(this,null,function*(){z("RemoteStore","Retrying IndexedDB access"),yield t(),n.M_.delete(1),yield ju(n)}))})}function xw(n,e){return e().catch(t=>Au(n,t,e))}function $u(n){return b(this,null,function*(){let e=X(n),t=mr(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;yC(e);)try{let i=yield uC(e.localStore,r);if(i===null){e.v_.length===0&&t.n_();break}r=i.batchId,vC(e,i)}catch(i){yield Au(e,i)}Mw(e)&&Fw(e)})}function yC(n){return hi(n)&&n.v_.length<10}function vC(n,e){n.v_.push(e);let t=mr(n);t.Xo()&&t.E_&&t.d_(e.mutations)}function Mw(n){return hi(n)&&!mr(n).Zo()&&n.v_.length>0}function Fw(n){mr(n).start()}function wC(n){return b(this,null,function*(){mr(n).V_()})}function _C(n){return b(this,null,function*(){let e=mr(n);for(let t of n.v_)e.d_(t.mutations)})}function EC(n,e,t){return b(this,null,function*(){let r=n.v_.shift(),i=_f.from(r,e,t);yield xw(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield $u(n)})}function IC(n,e){return b(this,null,function*(){e&&mr(n).E_&&(yield function(r,i){return b(this,null,function*(){if(function(a){return US(a)&&a!==F.ABORTED}(i.code)){let s=r.v_.shift();mr(r).t_(),yield xw(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield $u(r)}})}(n,e)),Mw(n)&&Fw(n)})}function qv(n,e){return b(this,null,function*(){let t=X(n);t.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");let r=hi(t);t.M_.add(3),yield ra(t),r&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),yield ju(t)})}function bC(n,e){return b(this,null,function*(){let t=X(n);e?(t.M_.delete(2),yield ju(t)):e||(t.M_.add(2),yield ra(t),t.N_.set("Unknown"))})}function Cs(n){return n.B_||(n.B_=function(t,r,i){let s=X(t);return s.f_(),new ep(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Po:fC.bind(null,n),To:pC.bind(null,n),Ao:gC.bind(null,n),h_:mC.bind(null,n)}),n.x_.push(e=>b(this,null,function*(){e?(n.B_.t_(),Vp(n)?Lp(n):n.N_.set("Unknown")):(yield n.B_.stop(),Ow(n))}))),n.B_}function mr(n){return n.k_||(n.k_=function(t,r,i){let s=X(t);return s.f_(),new tp(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:wC.bind(null,n),Ao:IC.bind(null,n),R_:_C.bind(null,n),A_:EC.bind(null,n)}),n.x_.push(e=>b(this,null,function*(){e?(n.k_.t_(),yield $u(n)):(yield n.k_.stop(),n.v_.length>0&&(z("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))}))),n.k_}var sp=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new an,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let a=Date.now()+r,u=new n(e,t,a,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Up(n,e){if(Mn("AsyncQueue",`${e}: ${n}`),na(n))return new q(F.UNAVAILABLE,`${e}: ${n}`);throw n}var Du=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||K.comparator(t.key,r.key):(t,r)=>K.comparator(t.key,r.key),this.keyedMap=Bo(),this.sortedSet=new ke(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Su=class{constructor(){this.q_=new ke(K.comparator)}track(e){let t=e.doc.key,r=this.q_.get(t);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(t,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(t):e.type===1&&r.type===2?this.q_=this.q_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):Q():this.q_=this.q_.insert(t,e)}Q_(){let e=[];return this.q_.inorderTraversal((t,r)=>{e.push(r)}),e}},Is=class n{constructor(e,t,r,i,s,a,u,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,s){let a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new n(e,t,Du.emptySet(t),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var op=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},ap=class{constructor(){this.queries=new gr(e=>cw(e),Vu),this.onlineState="Unknown",this.z_=new Set}};function TC(n,e){return b(this,null,function*(){let t=X(n),r=3,i=e.query,s=t.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new op,r=e.G_()?0:1);try{switch(r){case 0:s.K_=yield t.onListen(i,!0);break;case 1:s.K_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(a){let u=Up(a,`Initialization of query '${is(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.U_.push(e),e.j_(t.onlineState),s.K_&&e.H_(s.K_)&&Bp(t)})}function AC(n,e){return b(this,null,function*(){let t=X(n),r=e.query,i=3,s=t.queries.get(r);if(s){let a=s.U_.indexOf(e);a>=0&&(s.U_.splice(a,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function DC(n,e){let t=X(n),r=!1;for(let i of e){let s=i.query,a=t.queries.get(s);if(a){for(let u of a.U_)u.H_(i)&&(r=!0);a.K_=i}}r&&Bp(t)}function SC(n,e,t){let r=X(n),i=r.queries.get(e);if(i)for(let s of i.U_)s.onError(t);r.queries.delete(e)}function Bp(n){n.z_.forEach(e=>{e.next()})}var cp,Gv;(Gv=cp||(cp={})).J_="default",Gv.Cache="cache";var up=class{constructor(e,t,r){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Is(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache||!this.G_())return!0;let r=t!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}na(e){e=Is.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==cp.Cache}};var Cu=class{constructor(e){this.key=e}},Ru=class{constructor(e){this.key=e}},lp=class{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=he(),this.mutatedKeys=he(),this.Ia=uw(e),this.Ta=new Du(this.Ia)}get Ea(){return this.la}da(e,t){let r=t?t.Aa:new Su,i=t?t.Ta:this.Ta,s=t?t.mutatedKeys:this.mutatedKeys,a=i,u=!1,d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((v,T)=>{let A=i.get(v),O=Uu(this.query,T)?T:null,L=!!A&&this.mutatedKeys.has(A.key),B=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations),M=!1;A&&O?A.data.isEqual(O.data)?L!==B&&(r.track({type:3,doc:O}),M=!0):this.Ra(A,O)||(r.track({type:2,doc:O}),M=!0,(d&&this.Ia(O,d)>0||f&&this.Ia(O,f)<0)&&(u=!0)):!A&&O?(r.track({type:0,doc:O}),M=!0):A&&!O&&(r.track({type:1,doc:A}),M=!0,(d||f)&&(u=!0)),M&&(O?(a=a.add(O),s=B?s.add(v):s.delete(v)):(a=a.delete(v),s=s.delete(v)))}),this.query.limit!==null)for(;a.size>this.query.limit;){let v=this.query.limitType==="F"?a.last():a.first();a=a.delete(v.key),s=s.delete(v.key),r.track({type:1,doc:v})}return{Ta:a,Aa:r,Xi:u,mutatedKeys:s}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let a=e.Aa.Q_();a.sort((v,T)=>function(O,L){let B=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return B(O)-B(L)}(v.type,T.type)||this.Ia(v.doc,T.doc)),this.Va(r),i=i!=null&&i;let u=t&&!i?this.ma():[],d=this.Pa.size===0&&this.current&&!i?1:0,f=d!==this.ha;return this.ha=d,a.length!==0||f?{snapshot:new Is(this.query,e.Ta,s,a,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:u}:{fa:u}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Su,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=he(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});let t=[];return e.forEach(r=>{this.Pa.has(r)||t.push(new Ru(r))}),this.Pa.forEach(r=>{e.has(r)||t.push(new Cu(r))}),t}pa(e){this.la=e.hs,this.Pa=he();let t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return Is.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},hp=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},dp=class{constructor(e){this.key=e,this.wa=!1}},fp=class{constructor(e,t,r,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Sa={},this.ba=new gr(u=>cw(u),Vu),this.Da=new Map,this.Ca=new Set,this.va=new ke(K.comparator),this.Fa=new Map,this.Ma=new Jo,this.xa={},this.Oa=new Map,this.Na=Yo.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function CC(n,e,t=!0){return b(this,null,function*(){let r=$w(n),i,s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=yield Lw(r,e,t,!0),i})}function RC(n,e){return b(this,null,function*(){let t=$w(n);yield Lw(t,e,!0,!1)})}function Lw(n,e,t,r){return b(this,null,function*(){let i=yield lC(n.localStore,un(e)),s=i.targetId,a=t?n.sharedClientState.addLocalQueryTarget(s):"not-current",u;return r&&(u=yield PC(n,e,s,a==="current",i.resumeToken)),n.isPrimaryClient&&t&&kw(n.remoteStore,i),u})}function PC(n,e,t,r,i){return b(this,null,function*(){n.Ba=(T,A,O)=>function(B,M,$,Y){return b(this,null,function*(){let Z=M.view.da($);Z.Xi&&(Z=yield zv(B.localStore,M.query,!1).then(({documents:S})=>M.view.da(S,Z)));let ee=Y&&Y.targetChanges.get(M.targetId),Ne=Y&&Y.targetMismatches.get(M.targetId)!=null,pe=M.view.applyChanges(Z,B.isPrimaryClient,ee,Ne);return Hv(B,M.targetId,pe.fa),pe.snapshot})}(n,T,A,O);let s=yield zv(n.localStore,e,!0),a=new lp(e,s.hs),u=a.da(s.documents),d=Ko.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=a.applyChanges(u,n.isPrimaryClient,d);Hv(n,t,f.fa);let v=new hp(e,t,a);return n.ba.set(e,v),n.Da.has(t)?n.Da.get(t).push(e):n.Da.set(t,[e]),f.snapshot})}function kC(n,e,t){return b(this,null,function*(){let r=X(n),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(a=>!Vu(a,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Qf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Mp(r.remoteStore,i.targetId),pp(r,i.targetId)}).catch(ta))):(pp(r,i.targetId),yield Qf(r.localStore,i.targetId,!0))})}function NC(n,e){return b(this,null,function*(){let t=X(n),r=t.ba.get(e),i=t.Da.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Mp(t.remoteStore,r.targetId))})}function OC(n,e,t){return b(this,null,function*(){let r=BC(n);try{let i=yield function(a,u){let d=X(a),f=Xe.now(),v=u.reduce((O,L)=>O.add(L.key),he()),T,A;return d.persistence.runTransaction("Locally write mutations","readwrite",O=>{let L=Ln(),B=he();return d.os.getEntries(O,v).next(M=>{L=M,L.forEach(($,Y)=>{Y.isValidDocument()||(B=B.add($))})}).next(()=>d.localDocuments.getOverlayedDocuments(O,L)).next(M=>{T=M;let $=[];for(let Y of u){let Z=VS(Y,T.get(Y.key).overlayedDocument);Z!=null&&$.push(new fn(Y.key,Z,tw(Z.value.mapValue),dr.exists(!0)))}return d.mutationQueue.addMutationBatch(O,f,$,u)}).next(M=>{A=M;let $=M.applyToLocalDocumentSet(T,B);return d.documentOverlayCache.saveOverlays(O,M.batchId,$)})}).then(()=>({batchId:A.batchId,changes:hw(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,d){let f=a.xa[a.currentUser.toKey()];f||(f=new ke(me)),f=f.insert(u,d),a.xa[a.currentUser.toKey()]=f}(r,i.batchId,t),yield ia(r,i.changes),yield $u(r.remoteStore)}catch(i){let s=Up(i,"Failed to persist write");t.reject(s)}})}function Vw(n,e){return b(this,null,function*(){let t=X(n);try{let r=yield aC(t.localStore,e);e.targetChanges.forEach((i,s)=>{let a=t.Fa.get(s);a&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.wa=!0:i.modifiedDocuments.size>0?be(a.wa):i.removedDocuments.size>0&&(be(a.wa),a.wa=!1))}),yield ia(t,r,e)}catch(r){yield ta(r)}})}function Wv(n,e,t){let r=X(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ba.forEach((s,a)=>{let u=a.view.j_(e);u.snapshot&&i.push(u.snapshot)}),function(a,u){let d=X(a);d.onlineState=u;let f=!1;d.queries.forEach((v,T)=>{for(let A of T.U_)A.j_(u)&&(f=!0)}),f&&Bp(d)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function xC(n,e,t){return b(this,null,function*(){let r=X(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Fa.get(e),s=i&&i.key;if(s){let a=new ke(K.comparator);a=a.insert(s,$t.newNoDocument(s,te.min()));let u=he().add(s),d=new gu(te.min(),new Map,new ke(me),a,u);yield Vw(r,d),r.va=r.va.remove(s),r.Fa.delete(e),jp(r)}else yield Qf(r.localStore,e,!1).then(()=>pp(r,e,t)).catch(ta)})}function MC(n,e){return b(this,null,function*(){let t=X(n),r=e.batch.batchId;try{let i=yield oC(t.localStore,e);Bw(t,r,null),Uw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ia(t,i)}catch(i){yield ta(i)}})}function FC(n,e,t){return b(this,null,function*(){let r=X(n);try{let i=yield function(a,u){let d=X(a);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let v;return d.mutationQueue.lookupMutationBatch(f,u).next(T=>(be(T!==null),v=T.keys(),d.mutationQueue.removeMutationBatch(f,T))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,v,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,v)).next(()=>d.localDocuments.getDocuments(f,v))})}(r.localStore,e);Bw(r,e,t),Uw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ia(r,i)}catch(i){yield ta(i)}})}function Uw(n,e){(n.Oa.get(e)||[]).forEach(t=>{t.resolve()}),n.Oa.delete(e)}function Bw(n,e,t){let r=X(n),i=r.xa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function pp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Da.get(e))n.ba.delete(r),t&&n.Sa.ka(r,t);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Vr(e).forEach(r=>{n.Ma.containsKey(r)||jw(n,r)})}function jw(n,e){n.Ca.delete(e.path.canonicalString());let t=n.va.get(e);t!==null&&(Mp(n.remoteStore,t),n.va=n.va.remove(e),n.Fa.delete(t),jp(n))}function Hv(n,e,t){for(let r of t)r instanceof Cu?(n.Ma.addReference(r.key,e),LC(n,r)):r instanceof Ru?(z("SyncEngine","Document no longer in limbo: "+r.key),n.Ma.removeReference(r.key,e),n.Ma.containsKey(r.key)||jw(n,r.key)):Q()}function LC(n,e){let t=e.key,r=t.path.canonicalString();n.va.get(t)||n.Ca.has(r)||(z("SyncEngine","New document in limbo: "+t),n.Ca.add(r),jp(n))}function jp(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){let e=n.Ca.values().next().value;n.Ca.delete(e);let t=new K(Pe.fromString(e)),r=n.Na.next();n.Fa.set(r,new dp(t)),n.va=n.va.insert(t,r),kw(n.remoteStore,new Qo(un(aw(t.path)),r,"TargetPurposeLimboResolution",Xv.oe))}}function ia(n,e,t){return b(this,null,function*(){let r=X(n),i=[],s=[],a=[];r.ba.isEmpty()||(r.ba.forEach((u,d)=>{a.push(r.Ba(d,e,t).then(f=>{if((f||t)&&r.isPrimaryClient){let v=f&&!f.fromCache;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(f){i.push(f);let v=Gf.Ki(d.targetId,f);s.push(v)}}))}),yield Promise.all(a),r.Sa.h_(i),yield function(d,f){return b(this,null,function*(){let v=X(d);try{yield v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>V.forEach(f,A=>V.forEach(A.qi,O=>v.persistence.referenceDelegate.addReference(T,A.targetId,O)).next(()=>V.forEach(A.Qi,O=>v.persistence.referenceDelegate.removeReference(T,A.targetId,O)))))}catch(T){if(!na(T))throw T;z("LocalStore","Failed to update sequence numbers: "+T)}for(let T of f){let A=T.targetId;if(!T.fromCache){let O=v.ns.get(A),L=O.snapshotVersion,B=O.withLastLimboFreeSnapshotVersion(L);v.ns=v.ns.insert(A,B)}}})}(r.localStore,s))})}function VC(n,e){return b(this,null,function*(){let t=X(n);if(!t.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());let r=yield Rw(t.localStore,e);t.currentUser=e,function(s,a){s.Oa.forEach(u=>{u.forEach(d=>{d.reject(new q(F.CANCELLED,a))})}),s.Oa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ia(t,r.us)}})}function UC(n,e){let t=X(n),r=t.Fa.get(e);if(r&&r.wa)return he().add(r.key);{let i=he(),s=t.Da.get(e);if(!s)return i;for(let a of s){let u=t.ba.get(a);i=i.unionWith(u.view.Ea)}return i}}function $w(n){let e=X(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xC.bind(null,e),e.Sa.h_=DC.bind(null,e.eventManager),e.Sa.ka=SC.bind(null,e.eventManager),e}function BC(n){let e=X(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FC.bind(null,e),e}var Pu=class{constructor(){this.synchronizeTabs=!1}initialize(e){return b(this,null,function*(){this.serializer=Bu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return sC(this.persistence,new Hf,e.initialUser,this.serializer)}createPersistence(e){return new $f(qf.Hr,this.serializer)}createSharedClientState(e){return new Yf}terminate(){return b(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var gp=class{initialize(e,t){return b(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Wv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VC.bind(null,this.syncEngine),yield bC(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new ap}()}createDatastore(e){let t=Bu(e.databaseInfo.databaseId),r=function(s){return new Zf(s)}(e.databaseInfo);return function(s,a,u,d){return new np(s,a,u,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,a,u){return new ip(r,i,s,a,u)}(this.localStore,this.datastore,e.asyncQueue,t=>Wv(this.syncEngine,t,0),function(){return Iu.D()?new Iu:new Jf}())}createSyncEngine(e,t){return function(i,s,a,u,d,f,v){let T=new fp(i,s,a,u,d,f);return v&&(T.La=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return b(this,null,function*(){var e;yield function(r){return b(this,null,function*(){let i=X(r);z("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield ra(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var mp=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Mn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var yp=class{constructor(e,t,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ye.UNAUTHENTICATED,this.clientId=cu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>b(this,null,function*(){z("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new an;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Up(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Wd(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>b(this,null,function*(){r.isEqual(i)||(yield Rw(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function Kv(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield $C(n);z("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>qv(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>qv(e.remoteStore,i)),n._onlineComponents=e})}function jC(n){return n.name==="FirebaseError"?n.code===F.FAILED_PRECONDITION||n.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function $C(n){return b(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Wd(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!jC(t))throw t;hs("Error using user provided cache. Falling back to memory cache: "+t),yield Wd(n,new Pu)}}else z("FirestoreClient","Using default OfflineComponentProvider"),yield Wd(n,new Pu);return n._offlineComponents})}function zw(n){return b(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),yield Kv(n,n._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),yield Kv(n,new gp))),n._onlineComponents})}function zC(n){return zw(n).then(e=>e.syncEngine)}function qC(n){return b(this,null,function*(){let e=yield zw(n),t=e.eventManager;return t.onListen=CC.bind(null,e.syncEngine),t.onUnlisten=kC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=RC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=NC.bind(null,e.syncEngine),t})}function GC(n,e,t={}){let r=new an;return n.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(s,a,u,d,f){let v=new mp({next:A=>{a.enqueueAndForget(()=>AC(s,T)),A.fromCache&&d.source==="server"?f.reject(new q(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(A)},error:A=>f.reject(A)}),T=new up(u,v,{includeMetadataChanges:!0,ra:!0});return TC(s,T)}(yield qC(n),n.asyncQueue,e,t,r)})),r.promise}function qw(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var Qv=new Map;function Gw(n,e,t){if(!t)throw new q(F.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function WC(n,e,t,r){if(e===!0&&r===!0)throw new q(F.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Yv(n){if(!K.isDocumentKey(n))throw new q(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Jv(n){if(K.isDocumentKey(n))throw new q(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $p(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Q()}function bs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new q(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=$p(n);throw new q(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var ku=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ts=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ku({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ku(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Hd;switch(r.type){case"firstParty":return new Jd(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=Qv.get(t);r&&(z("ComponentProvider","Removing Datastore"),Qv.delete(t),r.terminate())}(this),Promise.resolve()}};function Ww(n,e,t,r={}){var i;let s=(n=bs(n,Ts))._getSettings(),a=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=Ye.MOCK_USER;else{u=ny(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new q(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Ye(f)}n._authCredentials=new Kd(new au(u,d))}}var Nu=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Nt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},fr=class n extends Nu{constructor(e,t,r){super(e,t,aw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new K(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Hw(n,e,...t){if(n=Ge(n),Gw("collection","path",e),n instanceof Ts){let r=Pe.fromString(e,...t);return Jv(r),new fr(n,null,r)}{if(!(n instanceof Nt||n instanceof fr))throw new q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Pe.fromString(e,...t));return Jv(r),new fr(n.firestore,null,r)}}function Kw(n,e,...t){if(n=Ge(n),arguments.length===1&&(e=cu.newId()),Gw("doc","path",e),n instanceof Ts){let r=Pe.fromString(e,...t);return Yv(r),new Nt(n,null,new K(r))}{if(!(n instanceof Nt||n instanceof fr))throw new q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Pe.fromString(e,...t));return Yv(r),new Nt(n.firestore,n instanceof fr?n.converter:null,new K(r))}}var vp=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new bu(this,"async_queue_retry"),this.hu=()=>{let t=Gd();t&&z("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};let e=Gd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let t=Gd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let t=new an;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return b(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!na(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let t=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(r);throw Mn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=t,t}enqueueAfterDelay(e,t,r){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);let i=sp.createAndSchedule(this,e,t,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&Q()}verifyOperationInProgress(){}du(){return b(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this._u)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let t=this._u.indexOf(e);this._u.splice(t,1)}};var As=class extends Ts{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=function(){return new vp}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Jw(this),this._firestoreClient.terminate()}};function Qw(n,e){let t=typeof n=="object"?n:Yi(),r=typeof n=="string"?n:e||"(default)",i=Co(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=ty("firestore");s&&Ww(i,...s)}return i}function Yw(n){return n._firestoreClient||Jw(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Jw(n){var e,t,r;let i=n._freezeSettings(),s=function(u,d,f,v){return new nf(u,d,f,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,qw(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._firestoreClient=new yp(n._authCredentials,n._appCheckCredentials,n._queue,s),!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Xo=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ut.fromBase64String(e))}catch(t){throw new q(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ds=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new q(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Zo=class{constructor(e){this._methodName=e}};var ea=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new q(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new q(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}};var HC=/^__.*__$/,wp=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new fn(e,this.data,this.fieldMask,t,this.fieldTransforms):new ui(e,this.data,t,this.fieldTransforms)}},Ou=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function Xw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}var _p=class n{constructor(e,t,r,i,s,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Mu(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(Xw(this.fu)&&HC.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},Ep=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Bu(e)}Fu(e,t,r,i=!1){return new _p({fu:e,methodName:t,vu:r,path:bt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Zw(n){let e=n._freezeSettings(),t=Bu(n._databaseId);return new Ep(n._databaseId,!!e.ignoreUndefinedProperties,t)}function KC(n,e,t,r,i,s={}){let a=n.Fu(s.merge||s.mergeFields?2:0,e,t,i);zp("Data must be an object, but it was:",a,r);let u=e_(r,a),d,f;if(s.merge)d=new kt(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){let v=[];for(let T of s.mergeFields){let A=Ip(e,T,t);if(!a.contains(A))throw new q(F.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);n_(v,A)||v.push(A)}d=new kt(v),f=a.fieldTransforms.filter(T=>d.covers(T.field))}else d=null,f=a.fieldTransforms;return new wp(new It(u),d,f)}var xu=class n extends Zo{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function QC(n,e,t,r){let i=n.Fu(1,e,t);zp("Data must be an object, but it was:",i,r);let s=[],a=It.empty();li(r,(d,f)=>{let v=qp(e,d,t);f=Ge(f);let T=i.Su(v);if(f instanceof xu)s.push(v);else{let A=zu(f,T);A!=null&&(s.push(v),a.set(v,A))}});let u=new kt(s);return new Ou(a,u,i.fieldTransforms)}function YC(n,e,t,r,i,s){let a=n.Fu(1,e,t),u=[Ip(e,r,t)],d=[i];if(s.length%2!=0)throw new q(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<s.length;A+=2)u.push(Ip(e,s[A])),d.push(s[A+1]);let f=[],v=It.empty();for(let A=u.length-1;A>=0;--A)if(!n_(f,u[A])){let O=u[A],L=d[A];L=Ge(L);let B=a.Su(O);if(L instanceof xu)f.push(O);else{let M=zu(L,B);M!=null&&(f.push(O),v.set(O,M))}}let T=new kt(f);return new Ou(v,T,a.fieldTransforms)}function zu(n,e){if(t_(n=Ge(n)))return zp("Unsupported field value:",e,n),e_(n,e);if(n instanceof Zo)return function(r,i){if(!Xw(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let s=[],a=0;for(let u of r){let d=zu(u,i.bu(a));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),a++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Ge(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OS(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Xe.fromDate(r);return{timestampValue:wu(i.serializer,s)}}if(r instanceof Xe){let s=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wu(i.serializer,s)}}if(r instanceof ea)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xo)return{bytesValue:Iw(i.serializer,r._byteString)};if(r instanceof Nt){let s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Du(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:xp(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${$p(r)}`)}(n,e)}function e_(n,e){let t={};return Zv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):li(n,(r,i)=>{let s=zu(i,e.pu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function t_(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xe||n instanceof ea||n instanceof Xo||n instanceof Nt||n instanceof Zo)}function zp(n,e,t){if(!t_(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=$p(t);throw r==="an object"?e.Du(n+" a custom object"):e.Du(n+" "+r)}}function Ip(n,e,t){if((e=Ge(e))instanceof Ds)return e._internalPath;if(typeof e=="string")return qp(n,e);throw Mu("Field path arguments must be of type string or ",n,!1,void 0,t)}var JC=new RegExp("[~\\*/\\[\\]]");function qp(n,e,t){if(e.search(JC)>=0)throw Mu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ds(...e.split("."))._internalPath}catch{throw Mu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Mu(n,e,t,r,i){let s=r&&!r.isEmpty(),a=i!==void 0,u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||a)&&(d+=" (found",s&&(d+=` in field ${r}`),a&&(d+=` in document ${i}`),d+=")"),new q(F.INVALID_ARGUMENT,u+n+d)}function n_(n,e){return n.some(t=>t.isEqual(e))}var Fu=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new bp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(r_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},bp=class extends Fu{data(){return super.data()}};function r_(n,e){return typeof e=="string"?qp(n,e):e instanceof Ds?e._internalPath:e._delegate._internalPath}function XC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new q(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Tp=class{convertValue(e,t="none"){switch(oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Q()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return li(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new ea(Re(e.latitude),Re(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Pp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Wo(e));default:return null}}convertTimestamp(e){let t=Fn(e);return new Xe(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Pe.fromString(e);be(Cw(r));let i=new du(r.get(1),r.get(3)),s=new K(r.popFirst(5));return i.isEqual(t)||Mn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function ZC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var cs=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ap=class extends Fu{constructor(e,t,r,i,s,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ls(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(r_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ls=class extends Ap{data(e={}){return super.data(e)}},Dp=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new cs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ls(this._firestore,this._userDataWriter,r.key,r,new cs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new q(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>{let d=new ls(i._firestore,i._userDataWriter,u.doc.key,u.doc,new cs(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{let d=new ls(i._firestore,i._userDataWriter,u.doc.key,u.doc,new cs(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),f=-1,v=-1;return u.type!==0&&(f=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),v=a.indexOf(u.doc.key)),{type:eR(u.type),doc:d,oldIndex:f,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function eR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}var Sp=class extends Tp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xo(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}};function i_(n){n=bs(n,Nu);let e=bs(n.firestore,As),t=Yw(e),r=new Sp(e);return XC(n._query),GC(t,n._query).then(i=>new Dp(e,r,n,i))}function s_(n,e,t,...r){n=bs(n,Nt);let i=bs(n.firestore,As),s=Zw(i),a;return a=typeof(e=Ge(e))=="string"||e instanceof Ds?YC(s,"updateDoc",n._key,e,t,r):QC(s,"updateDoc",n._key,e),a_(i,[a.toMutation(n._key,dr.exists(!0))])}function o_(n,e){let t=bs(n.firestore,As),r=Kw(n),i=ZC(n.converter,e);return a_(t,[KC(Zw(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,dr.exists(!1))]).then(()=>r)}function a_(n,e){return function(r,i){let s=new an;return r.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return OC(yield zC(r),i,s)})),s.promise}(Yw(n),e)}(function(e,t=!0){(function(i){Ss=i})(cr),ar(new Pt("firestore",(r,{instanceIdentifier:i,options:s})=>{let a=r.getProvider("app").getImmediate(),u=new As(new Qd(r.getProvider("auth-internal")),new Zd(r.getProvider("app-check-internal")),function(f,v){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new q(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(f.options.projectId,v)}(a,i),a);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),We(Tv,"4.6.3",e),We(Tv,"4.6.3","esm2017")})();var sa=class{constructor(e){return e}},c_="firestore",Gp=class{constructor(){return Ro(c_)}};var Wp=new Ee("angularfire2.firestore-instances");function tR(n,e){let t=xc(c_,n,e);return t&&new sa(t)}function nR(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new sa(r)}}var rR={provide:Gp,deps:[[new ft,Wp]]},iR={provide:sa,useFactory:tR,deps:[[new ft,Wp],Rn]},sR=(()=>{class n{constructor(){We("angularfire",Qr.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=Ut({providers:[iR,rR]})}return n})();function TO(n,...e){return{ngModule:sR,providers:[{provide:Wp,useFactory:nR(n),multi:!0,deps:[ze,Sn,Zi,Yr,[new ft,Lo],[new ft,Xi],...e]}]}}var AO=gt(o_,!0);var DO=gt(Hw,!0);var SO=gt(i_,!0);var CO=gt(Qw,!0);var RO=gt(s_,!0);var MO=(()=>{let e=class e{constructor(){this.auth=W(ti)}logueado(){return this.auth.currentUser}crearUsuario(r,i,s){return b(this,null,function*(){return yield wv(this.auth,r,i).then(a=>{_v(a.user),Ev(a.user,{photoURL:s})})})}verificarEmailValidado(r){return r.user.emailVerified}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();export{Fi as a,xR as b,MR as c,wE as d,KR as e,bP as f,FI as g,Jm as h,rk as i,ty as j,ny as k,Et as l,Ge as m,Pt as n,ar as o,Co as p,cr as q,Yi as r,We as s,Qr as t,xc as u,Ro as v,Xi as w,Zi as x,gt as y,Rn as z,Yr as A,qk as B,Gk as C,ti as D,Lo as E,V1 as F,U1 as G,B1 as H,sa as I,TO as J,AO as K,DO as L,SO as M,CO as N,RO as O,MO as P,oR as Q};
