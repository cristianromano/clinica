import{a as O}from"./chunk-L7GHGVGE.js";import{a as T}from"./chunk-E4UZH4GH.js";import{a as k}from"./chunk-WJSC7PN5.js";import{a as j}from"./chunk-RBADOQRF.js";import"./chunk-IXUCQNA3.js";import{d as E,e as P,j as I,s as M}from"./chunk-YW5BT2SR.js";import{$ as g,Da as x,Db as w,Ha as o,Ia as p,Wa as d,Ya as l,cb as s,da as b,db as c,eb as f,ib as y,lb as C,mb as m,na as v,oa as _,vb as u,wb as S}from"./chunk-LTJRTMYM.js";import"./chunk-5G567QLT.js";function V(i,n){if(i&1){let r=y();s(0,"button",9),C("click",function(){v(r);let t=m().$implicit,a=m(2);return _(a.irHistorial(t))}),u(1,"Ingresar"),c()}}function N(i,n){if(i&1&&(s(0,"div",4),f(1,"img",5),s(2,"div",6)(3,"div",7)(4,"h5"),u(5),c(),d(6,V,2,0,"button",8),c()()()),i&2){let r=n.$implicit,e=n.index;o(),l("src",r.imagenes,x),o(4),S(e<=2?"Ver historial de "+r.nombre:"Atendiste a "+r.nombre),o(),l("ngIf",e<=2)}}function $(i,n){if(i&1&&(s(0,"div",2),d(1,N,7,3,"div",3),c()),i&2){let r=m();o(),l("ngForOf",r.arrPaciente)}}var L=(()=>{let n=class n{constructor(e,t,a){this.especialistaS=e,this.authS=t,this.pacienteS=a,this.arrTurnos=[],this.router=g(M),this.user={},this.arrPaciente=[],this.perfil=""}ngOnInit(){this.authS.user$.subscribe(e=>{this.user=e,this.perfil=this.user.tipo}),this.especialistaS.obtenerTurnosEspecialista(this.user.email).subscribe(e=>{this.arrTurnos=[],e.forEach(t=>{this.arrTurnos.push(t)}),this.arrTurnos.forEach(t=>{this.arrPaciente=[],this.pacienteS.obtenerPacientePorEmail(t.paciente).subscribe(a=>{a.forEach(h=>{this.arrPaciente.find(F=>F.email===h.email)||this.arrPaciente.push(h)})}),console.log(this.arrPaciente)})})}irHistorial(e){this.router.navigate(["/mihistorial",e.email])}};n.\u0275fac=function(t){return new(t||n)(p(O),p(j),p(T))},n.\u0275cmp=b({type:n,selectors:[["app-mispacientes"]],standalone:!0,features:[w],decls:3,vars:1,consts:[[1,"full-background"],["class","d-flex flex-wrap justify-content-center align-items-center",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-center","align-items-center"],["class","card p-4 shadow mt-3 me-3 justify-content-center align-items-center",4,"ngFor","ngForOf"],[1,"card","p-4","shadow","mt-3","me-3","justify-content-center","align-items-center"],["alt","...",1,"card-img-top",2,"height","100px","width","150px",3,"src"],[1,"card-body","mt-3"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],["class","btn btn-danger mt-3",3,"click",4,"ngIf"],[1,"btn","btn-danger","mt-3",3,"click"]],template:function(t,a){t&1&&(s(0,"div",0),f(1,"app-navbar"),d(2,$,2,1,"div",1),c()),t&2&&(o(2),l("ngIf",a.perfil==="profesional"))},dependencies:[I,E,P,k],styles:[".full-background[_ngcontent-%COMP%]{width:100vw;height:100vh}[_nghost-%COMP%]{display:block;background-image:url(/assets/pattern.jpg)}.card[_ngcontent-%COMP%]{background-color:#f8f9fa;border:1px solid #f8f9fa;border-radius:10px;box-shadow:0 4px 6px #0000001a;width:350px}.card-body[_ngcontent-%COMP%]{border:1px solid #000000;border-radius:10px;background-color:#faebd7;width:300px}"]});let i=n;return i})();export{L as MispacientesComponent};
