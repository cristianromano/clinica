import{C as g,E as c,F as y,H as l,I as i,L as d,M as a,N as f}from"./chunk-PLM2N6DR.js";import{Y as m,ca as b,f as h}from"./chunk-CPSHSAPU.js";var k=(()=>{let o=class o{constructor(){this.firestore=b(g)}obtenerTurnosEspecialista(t){let e=d(l(this.firestore,"turnos"),f("medicoemail","==",t));return c(e,{idField:"id"})}gestionarTurno(t,e){return a(i(this.firestore,"turnos",t),{estado:e})}gestionarTurnoCancelado(t,e,r){return a(i(this.firestore,"turnos",t),{estado:e,comentario:r})}gestionarTurnoRechazado(t,e,r){return a(i(this.firestore,"turnos",t),{estado:e,comentario:r})}gestionarTurnoAceptado(t,e,r){return a(i(this.firestore,"turnos",t),{estado:e,comentario:r[0],diagnostico:r[1]})}actualizarHorario(t,e){return h(this,null,function*(){[].push({[e[0].especialidad]:e[0].timestamp});let j=[],p=0;yield this.obtenerMedicoPorId(t).then(n=>{if(n){n.forEach(s=>{s.fechas.forEach(E=>{p++,console.log(Object.keys(E[p])[0])})});for(let s=0;s<n.fechas.length;s++)Object.keys(n.fechas[s])[0]===e[0].especialidad&&console.log("entro al if")}}),console.log(j)})}obtenerEspecialista(t){let e=d(l(this.firestore,"profesional"),f("email","==",t));return c(e,{idField:"id"})}obtenerEspecialistaPorEspecialidad(t){let e=d(l(this.firestore,"profesional"),f("especialidad","==",t));return c(e,{idField:"id"})}obtenerMedicoPorId(t){return h(this,null,function*(){let e;return e=y(i(this.firestore,"profesional",t)),e})}};o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=m({token:o,factory:o.\u0275fac,providedIn:"root"});let u=o;return u})();export{k as a};
