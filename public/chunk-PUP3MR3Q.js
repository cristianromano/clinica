import{a as z,b as G}from"./chunk-6ZRPZ7NW.js";import{a as Q,b as R,c as q}from"./chunk-V4624JQ6.js";import{a as U}from"./chunk-7VGHOT3T.js";import{a as j,c as D,g as V,p as W,q as H}from"./chunk-IDY3ZXSF.js";import{a as L}from"./chunk-4HPDBOIX.js";import"./chunk-RBADOQRF.js";import{P as N}from"./chunk-IXUCQNA3.js";import{c as I,d as O,j as A}from"./chunk-YW5BT2SR.js";import{Ab as w,Bb as P,Db as B,Fb as F,Ha as a,Hb as m,Ia as v,Ib as k,Jb as h,Wa as y,Ya as f,cb as e,da as C,db as t,eb as E,ib as b,lb as g,mb as T,na as _,oa as S,vb as i,wb as c,zb as M}from"./chunk-LTJRTMYM.js";import{e as K,g as x}from"./chunk-5G567QLT.js";var u=K(U());var X=s=>({itemsPerPage:5,currentPage:s,id:"profesionales"});function Y(s,l){if(s&1){let d=b();e(0,"tbody",10),g("click",function(){let r=_(d).$implicit,o=T();return S(o.gestionarTurno(r))}),e(1,"tr",11),m(2,"coloresturnos"),e(3,"th",12),i(4),t(),e(5,"td"),i(6),t(),e(7,"td"),i(8),t(),e(9,"td"),i(10),t(),e(11,"td"),i(12),t(),e(13,"td"),i(14),t()()()}if(s&2){let d=l.$implicit,n=l.index;a(),f("ngClass",k(2,7,d.estado)),a(3),c(n+1),a(2),c(d.paciente),a(2),c(d.medico),a(2),c(d.especialidad),a(2),c(d.hora),a(2),c(d.estado)}}var de=(()=>{let l=class l{constructor(n){this.firestoreS=n,this.arrTurnos=[],this.searchEspecialista="",this.p=1}ngOnInit(){this.firestoreS.obtenerTurnos().subscribe(n=>{this.arrTurnos=[],n.forEach(r=>{this.arrTurnos.push(r)})})}gestionarTurno(n){return x(this,null,function*(){if(n.estado==="cancelado"){u.default.fire("Turno ya cancelado","","info");return}n.estado==="abierto"&&u.default.fire({title:"\xBFQue desea hacer?",showCloseButton:!0,showDenyButton:!0,denyButtonText:"Cancelar turno"}).then(r=>{r.isDenied&&u.default.fire({title:"Motivo de cancelaci\xF3n",input:"text",confirmButtonText:"Aceptar",showCancelButton:!0}).then(o=>{o.isConfirmed&&this.firestoreS.gestionarTurnoCancelado(n.id,"cancelado",o.value)})})})}};l.\u0275fac=function(r){return new(r||l)(v(N))},l.\u0275cmp=C({type:l,selectors:[["app-admin-turnos"]],standalone:!0,features:[B],decls:28,vars:10,consts:[[1,"full-background"],[1,"d-flex","flex-row","justify-content-center","align-items-center"],[1,"d-flex","flex-column","justify-content-center","align-items-center","panelusuarios"],[1,"d-flex","flex-column","justify-content-center","align-items","mt-3"],[1,"mt-1","mb-1"],["type","text","placeholder","Buscar profesional",1,"form-control",3,"ngModelChange","ngModel"],[1,"table"],["scope","col"],[3,"click",4,"ngFor","ngForOf"],["id","profesionales",1,"my-pagination",3,"pageChange"],[3,"click"],[3,"ngClass"],["scope","row"]],template:function(r,o){r&1&&(e(0,"div",0),E(1,"app-navbar"),e(2,"div",1)(3,"div",2)(4,"div",3)(5,"h4"),i(6,"Buscar por Paciente/Especialidad"),t(),e(7,"div",4)(8,"input",5),P("ngModelChange",function(p){return w(o.searchEspecialista,p)||(o.searchEspecialista=p),p}),t()()(),e(9,"table",6)(10,"thead")(11,"tr")(12,"th",7),i(13,"#"),t(),e(14,"th",7),i(15,"Paciente"),t(),e(16,"th",7),i(17,"Medico"),t(),e(18,"th",7),i(19,"Especialidad"),t(),e(20,"th",7),i(21,"Hora"),t(),e(22,"th",7),i(23,"Estado"),t()()(),y(24,Y,15,9,"tbody",8),m(25,"filtro"),m(26,"paginate"),t(),e(27,"pagination-controls",9),g("pageChange",function(p){return o.p=p}),t()()()()),r&2&&(a(8),M("ngModel",o.searchEspecialista),a(16),f("ngForOf",h(26,5,h(25,2,o.arrTurnos,o.searchEspecialista),F(8,X,o.p))))},dependencies:[A,I,O,L,q,Q,R,W,j,D,V,H,z,G],styles:[".full-background[_ngcontent-%COMP%]{width:100vw;height:100vh}[_nghost-%COMP%]{display:block;background-image:url(/assets/pattern.jpg)}.panelusuarios[_ngcontent-%COMP%]{background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:5px;margin-top:10px;padding:50px;background-color:#faebd7;cursor:pointer}.table[_ngcontent-%COMP%]{width:600px}"]});let s=l;return s})();export{de as AdminTurnosComponent};
