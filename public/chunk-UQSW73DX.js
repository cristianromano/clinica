import{a as A,b as M,c as N}from"./chunk-TTWCWHL6.js";import{a as R}from"./chunk-KURMSICS.js";import{a as L,b as g,c as F,d as U,e as P,f as b,h as T,j,k as z,q as D}from"./chunk-JX2K3NFS.js";import{a as B}from"./chunk-GN3YVZHB.js";import{C,O as I,u as y}from"./chunk-PLM2N6DR.js";import{d as S,h as w,n as E}from"./chunk-BWXJFDZ4.js";import{$a as r,Ga as d,Ha as f,Ua as _,Wa as u,Za as t,_a as i,ca as p,d as O,fb as l,ga as k,ob as n,s as v,wb as x}from"./chunk-CPSHSAPU.js";var m=O(R());function q(G,a){G&1&&(t(0,"div",25),n(1," ingrese un email valido. "),i())}var c=class c{constructor(a,s){this.authS=a,this.firestoreS=s,this.router=p(E),this.firestore=p(C),this.auth=p(y),this.formLogin=new P({email:new b("",[g.required,g.pattern("[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-z]{2,3}$")]),password:new b("",g.required)})}irRegistro(){this.router.navigate(["/elegirusuario"])}submitForm(){this.blockUI.start("Ingresando a la aplicacion...");let a=this.formLogin.get("email")?.value,s=this.formLogin.get("password")?.value;this.formLogin.valid&&a&&s&&this.authS.logueo(a,s).then(e=>{e.tipo=="profesional"?e.validado&&"autorizado"in e&&e.autorizado?(this.blockUI.stop(),m.default.fire({title:"Ingreso exitoso",text:"Bienvenido",icon:"success"}),this.router.navigate(["/home"])):e.validado&&"autorizado"in e&&e.autorizado==!1?(this.blockUI.stop(),m.default.fire({title:"Error",text:"Usuario no autorizado por el administrador",icon:"error"})):(this.blockUI.stop(),m.default.fire({title:"Error",text:"Usuario no validado",icon:"error"})):e.tipo=="administrador"?(this.blockUI.stop(),m.default.fire({title:"Ingreso exitoso",text:"Bienvenido",icon:"success"}),this.router.navigate(["/home"])):e.validado?(this.blockUI.stop(),m.default.fire({title:"Ingreso exitoso",text:"Bienvenido",icon:"success"}),this.router.navigate(["/home"])):(this.blockUI.stop(),m.default.fire({title:"Error",text:"Usuario no validado",icon:"error"}))}).catch(e=>{this.blockUI.stop();let o=this.firebaseErrors(e.code);m.default.fire({title:"Error",text:o,icon:"error"}),console.error("Error:",e)})}loginEspecialista(){this.formLogin.setValue({email:"test-3aip0nmqr@srv1.mail-tester.com",password:"asdasd123"})}loginEspecialistaDos(){this.formLogin.setValue({email:"jogeg26673@kinsef.com",password:"asdasd123"})}loginPaciente(){this.formLogin.setValue({email:"gebolis212@mposhop.com",password:"asdasd123"})}loginPacienteDos(){this.formLogin.setValue({email:"test-pootof6dt@srv1.mail-tester.com",password:"asdasd123"})}loginPacienteTres(){this.formLogin.setValue({email:"pakalo2875@nolanzip.com",password:"asdasd123"})}loginAdmin(){this.formLogin.setValue({email:"admindos@admin.com",password:"asdasd123"})}firebaseErrors(a){switch(a){case"auth/email-already-in-use":return"Direcci\xF3n de correo electr\xF3nico en uso.";case"auth/weak-password":return"contrase\xF1a debil ingrese una mas segura.";case"auth/user-not-found":return"Usuario no encontrado.";case"auth/invalid-credential":return"Credenciales invalidas.";default:return"Ocurri\xF3 un error. Por favor, int\xE9ntelo nuevamente m\xE1s tarde."}}};c.\u0275fac=function(s){return new(s||c)(f(B),f(I))},c.\u0275cmp=k({type:c,selectors:[["app-login"]],standalone:!0,features:[x],decls:51,vars:3,consts:[[1,"full-background","d-flex","flex-column","justify-content-center","align-items-center"],[1,"d-flex","justify-content-evenly","align-items-center",2,"border","1px solid black","border-radius","5px","padding","10px","background-color","#f8d7da"],["type","button",1,"btn","btn-danger",2,"padding","10px",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-b786b.appspot.com/o/imagenes%2Falarmaicon.png?alt=media&token=65ee0c82-09ce-438a-89f0-2612a15d7cb6","alt","","srcset","",2,"height","35px","width","35px"],[1,"mt-2","mr-3"],["type","button",1,"btn","btn-danger","ms-3",2,"padding","10px",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-b786b.appspot.com/o/imagenes%2FVinomanos_pasta-farfale-in-the-wooden-bowl-tomato-garlic-side-view.jpg?alt=media&token=c578a872-ae68-441b-981f-3b630153c3b5","alt","","srcset","",2,"height","35px","width","35px"],["type","button",1,"btn","btn","btn-danger","ms-3",2,"padding","10px",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-b786b.appspot.com/o/imagenes%2Ficecream.png?alt=media&token=37eabc2e-0516-4b8c-afa5-376e9343ec9e","alt","","srcset","",2,"height","35px","width","35px"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-b786b.appspot.com/o/imagenes%2Ftiburon.png?alt=media&token=668e3b6b-ee8c-424f-9f35-3530650a48c5","alt","","srcset","",2,"height","35px","width","35px"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-b786b.appspot.com/o/imagenes%2Fpanda.png?alt=media&token=b4c23946-a257-445c-a99d-919ccb7e5aad","alt","","srcset","",2,"height","35px","width","35px"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-b786b.appspot.com/o/imagenes%2Fpattern.jpg?alt=media&token=f6fc1c10-8b96-4a52-93c8-e71994f10f02","alt","","srcset","",2,"height","30px","width","30px"],[1,"card","p-4","shadow","mt-3",2,"width","30rem","height","30rem"],["src","/assets/logo.png","alt","","srcset","",1,"mx-auto","d-block","mb-4",2,"height","50px","width","50px"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control"],["class","text-danger","style","padding: 10px; border-radius: 5px; background-color: #f8d7da",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password",1,"form-control"],[1,"d-flex","justify-content-center","align-items-center","mt-5"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-success","ms-3",3,"click"],[1,"text-danger",2,"padding","10px","border-radius","5px","background-color","#f8d7da"]],template:function(s,e){if(s&1&&(t(0,"block-ui")(1,"div",0)(2,"div",1)(3,"button",2),l("click",function(){return e.loginEspecialista()}),t(4,"div",3),r(5,"img",4),t(6,"p",5),n(7,"Especialista"),i()()(),t(8,"button",6),l("click",function(){return e.loginEspecialistaDos()}),t(9,"div",3),r(10,"img",7),t(11,"p",5),n(12,"Especialista"),i()()(),t(13,"button",8),l("click",function(){return e.loginPaciente()}),t(14,"div",3),r(15,"img",9),t(16,"p",5),n(17,"Paciente"),i()()(),t(18,"button",8),l("click",function(){return e.loginPacienteTres()}),t(19,"div",3),r(20,"img",10),t(21,"p",5),n(22,"Paciente"),i()()(),t(23,"button",8),l("click",function(){return e.loginPacienteDos()}),t(24,"div",3),r(25,"img",11),t(26,"p",5),n(27,"Paciente"),i()()(),t(28,"button",8),l("click",function(){return e.loginAdmin()}),t(29,"div",3),r(30,"img",12),t(31,"p",5),n(32,"Administrador"),i()()()(),t(33,"div",3)(34,"div",13),r(35,"img",14),t(36,"form",15),l("ngSubmit",function(){return e.submitForm()}),t(37,"div",16)(38,"label",17),n(39,"Email"),i(),r(40,"input",18),i(),_(41,q,2,0,"div",19),t(42,"div",16)(43,"label",20),n(44,"Contrase\xF1a"),i(),r(45,"input",21),i(),t(46,"div",22)(47,"button",23),n(48," Ingresar "),i(),t(49,"button",24),l("click",function(){return e.irRegistro()}),n(50," Ir a registro "),i()()()()()()()),s&2){let o;d(36),u("formGroup",e.formLogin),d(5),u("ngIf",e.formLogin==null||(o=e.formLogin.get("email"))==null||o.errors==null?null:o.errors.pattern),d(6),u("disabled",!(e.formLogin!=null&&e.formLogin.valid))}},dependencies:[w,S,D,T,L,F,U,j,z,M,A],styles:["[_nghost-%COMP%]{display:block;background-image:url(/assets/pattern.jpg)}.full-background[_ngcontent-%COMP%]{width:100vw;height:100vh}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px}"]});var h=c;v([N()],h.prototype,"blockUI",void 0);export{h as LoginComponent};
