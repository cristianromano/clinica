import{a as G,b as q,c as V}from"./chunk-LRDK4KU5.js";import{a as Q}from"./chunk-7VGHOT3T.js";import{a as U,b as S,c as T,d as P,e as O,f as k,h as R,j as N,k as A,q as M}from"./chunk-IDY3ZXSF.js";import{a as Z}from"./chunk-RBADOQRF.js";import{C as j,P as B,u as D}from"./chunk-IXUCQNA3.js";import{e as L,j as F,s as z}from"./chunk-YW5BT2SR.js";import{$ as v,Db as C,Ha as f,Ia as s,Oa as g,Wa as I,Ya as h,cb as i,da as w,db as n,eb as l,fa as p,lb as c,m as y,ma as _,ua as u,vb as a}from"./chunk-LTJRTMYM.js";import{e as K}from"./chunk-5G567QLT.js";var d=K(Q());var $=(()=>{let t=class t{constructor(e,r){this.el=e,this.renderer=r,this.fontSize="16px",this.isBold=!0}ngOnChanges(e){e.fontSize&&this.renderer.setStyle(this.el.nativeElement,"font-size",this.fontSize),e.isBold&&this.renderer.setStyle(this.el.nativeElement,"font-weight",this.isBold?"bold":"normal")}ngOnInit(){this.renderer.setStyle(this.el.nativeElement,"font-size",this.fontSize),this.renderer.setStyle(this.el.nativeElement,"font-weight",this.isBold?"bold":"normal")}};t.\u0275fac=function(r){return new(r||t)(s(u),s(g))},t.\u0275dir=p({type:t,selectors:[["","appTextoDecorado",""]],inputs:{fontSize:"fontSize",isBold:"isBold"},standalone:!0,features:[_]});let o=t;return o})();var H=(()=>{let t=class t{constructor(e,r){this.el=e,this.renderer=r}ngOnInit(){this.renderer.setStyle(this.el.nativeElement,"background-color","red"),this.renderer.setStyle(this.el.nativeElement,"color","black"),this.renderer.setStyle(this.el.nativeElement,"padding","10px"),this.renderer.setStyle(this.el.nativeElement,"border-radius","5px"),this.renderer.setStyle(this.el.nativeElement,"font-weight","bold")}};t.\u0275fac=function(r){return new(r||t)(s(u),s(g))},t.\u0275dir=p({type:t,selectors:[["","appColor",""]],standalone:!0});let o=t;return o})();var J=(()=>{let t=class t{constructor(e,r){this.el=e,this.renderer=r}ngOnInit(){this.renderer.addClass(this.el.nativeElement,"d-flex"),this.renderer.addClass(this.el.nativeElement,"justify-content-evenly"),this.renderer.addClass(this.el.nativeElement,"align-items-center"),this.renderer.setStyle(this.el.nativeElement,"border","1px solid black"),this.renderer.setStyle(this.el.nativeElement,"border-radius","5px"),this.renderer.setStyle(this.el.nativeElement,"padding","10px"),this.renderer.setStyle(this.el.nativeElement,"background-color","#f8d7da")}};t.\u0275fac=function(r){return new(r||t)(s(u),s(g))},t.\u0275dir=p({type:t,selectors:[["","appOrdenamiento",""]],standalone:!0});let o=t;return o})();function W(o,t){o&1&&(i(0,"div",25),a(1," ingrese un email valido. "),n())}var b=class b{constructor(t,m){this.authS=t,this.firestoreS=m,this.router=v(z),this.firestore=v(j),this.auth=v(D),this.formLogin=new O({email:new k("",[S.required,S.pattern("[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-z]{2,3}$")]),password:new k("",S.required)})}irRegistro(){this.router.navigate(["/elegirusuario"])}submitForm(){this.blockUI.start("Ingresando a la aplicacion...");let t=this.formLogin.get("email")?.value,m=this.formLogin.get("password")?.value;this.formLogin.valid&&t&&m&&this.authS.logueo(t,m).then(e=>{e.tipo=="profesional"?e.validado&&"autorizado"in e&&e.autorizado?(this.blockUI.stop(),d.default.fire({title:"Ingreso exitoso",text:"Bienvenido",icon:"success"}),this.router.navigate(["/home"])):e.validado&&"autorizado"in e&&e.autorizado==!1?(this.blockUI.stop(),d.default.fire({title:"Error",text:"Usuario no autorizado por el administrador",icon:"error"})):(this.blockUI.stop(),d.default.fire({title:"Error",text:"Usuario no validado",icon:"error"})):e.tipo=="administrador"?(this.blockUI.stop(),d.default.fire({title:"Ingreso exitoso",text:"Bienvenido",icon:"success"}),this.router.navigate(["/home"])):e.validado?(this.blockUI.stop(),d.default.fire({title:"Ingreso exitoso",text:"Bienvenido",icon:"success"}),this.router.navigate(["/home"])):(this.blockUI.stop(),d.default.fire({title:"Error",text:"Usuario no validado",icon:"error"}))}).catch(e=>{this.blockUI.stop();let r=this.firebaseErrors(e.code);d.default.fire({title:"Error",text:r,icon:"error"}),console.error("Error:",e)})}loginEspecialista(){this.formLogin.setValue({email:"test-3aip0nmqr@srv1.mail-tester.com",password:"asdasd123"})}loginEspecialistaDos(){this.formLogin.setValue({email:"jogeg26673@kinsef.com",password:"asdasd123"})}loginPaciente(){this.formLogin.setValue({email:"gebolis212@mposhop.com",password:"asdasd123"})}loginPacienteDos(){this.formLogin.setValue({email:"test-pootof6dt@srv1.mail-tester.com",password:"asdasd123"})}loginPacienteTres(){this.formLogin.setValue({email:"pakalo2875@nolanzip.com",password:"asdasd123"})}loginAdmin(){this.formLogin.setValue({email:"admindos@admin.com",password:"asdasd123"})}firebaseErrors(t){switch(t){case"auth/email-already-in-use":return"Direcci\xF3n de correo electr\xF3nico en uso.";case"auth/weak-password":return"contrase\xF1a debil ingrese una mas segura.";case"auth/user-not-found":return"Usuario no encontrado.";case"auth/invalid-credential":return"Credenciales invalidas.";default:return"Ocurri\xF3 un error. Por favor, int\xE9ntelo nuevamente m\xE1s tarde."}}};b.\u0275fac=function(m){return new(m||b)(s(Z),s(B))},b.\u0275cmp=w({type:b,selectors:[["app-login"]],standalone:!0,features:[C],decls:51,vars:7,consts:[[1,"full-background","d-flex","flex-column","justify-content-center","align-items-center"],["appOrdenamiento",""],["type","button",1,"btn","btn-danger",2,"padding","10px",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-b786b.appspot.com/o/imagenes%2Falarmaicon.png?alt=media&token=65ee0c82-09ce-438a-89f0-2612a15d7cb6","alt","","srcset","",2,"height","35px","width","35px"],[1,"mt-2","mr-3"],["type","button",1,"btn","btn-danger","ms-3",2,"padding","10px",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-b786b.appspot.com/o/imagenes%2FVinomanos_pasta-farfale-in-the-wooden-bowl-tomato-garlic-side-view.jpg?alt=media&token=c578a872-ae68-441b-981f-3b630153c3b5","alt","","srcset","",2,"height","35px","width","35px"],["type","button",1,"btn","btn","btn-danger","ms-3",2,"padding","10px",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-b786b.appspot.com/o/imagenes%2Ficecream.png?alt=media&token=37eabc2e-0516-4b8c-afa5-376e9343ec9e","alt","","srcset","",2,"height","35px","width","35px"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-b786b.appspot.com/o/imagenes%2Ftiburon.png?alt=media&token=668e3b6b-ee8c-424f-9f35-3530650a48c5","alt","","srcset","",2,"height","35px","width","35px"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-b786b.appspot.com/o/imagenes%2Fpanda.png?alt=media&token=b4c23946-a257-445c-a99d-919ccb7e5aad","alt","","srcset","",2,"height","35px","width","35px"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-b786b.appspot.com/o/imagenes%2Fpattern.jpg?alt=media&token=f6fc1c10-8b96-4a52-93c8-e71994f10f02","alt","","srcset","",2,"height","30px","width","30px"],[1,"card","p-4","shadow","mt-3",2,"width","30rem","height","30rem"],["src","/assets/logo.png","alt","","srcset","",1,"mx-auto","d-block","mb-4",2,"height","50px","width","50px"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email","appTextoDecorado","",1,"form-label",3,"fontSize","isBold"],["type","email","id","email","formControlName","email",1,"form-control"],["appColor","",4,"ngIf"],["for","password","appTextoDecorado","",1,"form-label",3,"fontSize","isBold"],["type","password","id","password","formControlName","password",1,"form-control"],[1,"d-flex","justify-content-center","align-items-center","mt-5"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-success","ms-3",3,"click"],["appColor",""]],template:function(m,e){if(m&1&&(i(0,"block-ui")(1,"div",0)(2,"div",1)(3,"button",2),c("click",function(){return e.loginEspecialista()}),i(4,"div",3),l(5,"img",4),i(6,"p",5),a(7,"Especialista"),n()()(),i(8,"button",6),c("click",function(){return e.loginEspecialistaDos()}),i(9,"div",3),l(10,"img",7),i(11,"p",5),a(12,"Especialista"),n()()(),i(13,"button",8),c("click",function(){return e.loginPaciente()}),i(14,"div",3),l(15,"img",9),i(16,"p",5),a(17,"Paciente"),n()()(),i(18,"button",8),c("click",function(){return e.loginPacienteTres()}),i(19,"div",3),l(20,"img",10),i(21,"p",5),a(22,"Paciente"),n()()(),i(23,"button",8),c("click",function(){return e.loginPacienteDos()}),i(24,"div",3),l(25,"img",11),i(26,"p",5),a(27,"Paciente"),n()()(),i(28,"button",8),c("click",function(){return e.loginAdmin()}),i(29,"div",3),l(30,"img",12),i(31,"p",5),a(32,"Administrador"),n()()()(),i(33,"div",3)(34,"div",13),l(35,"img",14),i(36,"form",15),c("ngSubmit",function(){return e.submitForm()}),i(37,"div",16)(38,"label",17),a(39,"Email"),n(),l(40,"input",18),n(),I(41,W,2,0,"div",19),i(42,"div",16)(43,"label",20),a(44,"Contrase\xF1a"),n(),l(45,"input",21),n(),i(46,"div",22)(47,"button",23),a(48," Ingresar "),n(),i(49,"button",24),c("click",function(){return e.irRegistro()}),a(50," Ir a registro "),n()()()()()()()),m&2){let r;f(36),h("formGroup",e.formLogin),f(2),h("fontSize","20px")("isBold",!0),f(3),h("ngIf",e.formLogin==null||(r=e.formLogin.get("email"))==null||r.errors==null?null:r.errors.pattern),f(2),h("fontSize","20px")("isBold",!0),f(4),h("disabled",!(e.formLogin!=null&&e.formLogin.valid))}},dependencies:[F,L,M,R,U,T,P,N,A,q,G,$,H,J],styles:["[_nghost-%COMP%]{display:block;background-image:url(/assets/pattern.jpg)}.full-background[_ngcontent-%COMP%]{width:100vw;height:100vh}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px}"]});var E=b;y([V()],E.prototype,"blockUI",void 0);export{E as LoginComponent};
