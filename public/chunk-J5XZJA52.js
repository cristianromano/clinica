import{b as F,c as p,d as N,e as j,f as I,g,i as M,k as A,l as P,r as D}from"./chunk-THIV2M5Z.js";import{D as _,H as E,I as k,P as L,Q as O,c as w,d as C,h as S}from"./chunk-HJSWAYP6.js";import{Ja as x,Ka as u,Ma as t,Na as r,Oa as c,Pa as f,Ra as n,Xa as y,aa as m,d as G,ea as h,ya as d,za as v}from"./chunk-7K466J6D.js";var b=G(O());function R(s,o){s&1&&(t(0,"div",17),n(1," ingrese un email valido. "),r())}var K=(()=>{let o=class o{constructor(i){this.authS=i,this.router=m(S),this.firestore=m(k),this.auth=m(_),this.formLogin=new I({email:new g("",[p.required,p.pattern("[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-z]{2,3}$")]),password:new g("",p.required)})}irRegistro(){this.router.navigate(["/registro"])}submitForm(){let i=this.formLogin.get("email")?.value,a=this.formLogin.get("password")?.value;this.formLogin.valid&&i&&a&&E(this.auth,i,a).then(e=>{b.default.fire({title:"Logueado",text:"Bienvenido",icon:"success"}),this.router.navigate(["/home"])}).catch(e=>{let l=this.firebaseErrors(e.code);b.default.fire({title:"Error",text:l,icon:"error"}),console.error("Error:",e)})}firebaseErrors(i){switch(i){case"auth/email-already-in-use":return"Direcci\xF3n de correo electr\xF3nico en uso.";case"auth/weak-password":return"contrase\xF1a debil ingrese una mas segura.";case"auth/user-not-found":return"Usuario no encontrado.";case"auth/invalid-credential":return"Credenciales invalidas.";default:return"Ocurri\xF3 un error. Por favor, int\xE9ntelo nuevamente m\xE1s tarde."}}};o.\u0275fac=function(a){return new(a||o)(v(L))},o.\u0275cmp=h({type:o,selectors:[["app-login"]],standalone:!0,features:[y],decls:24,vars:3,consts:[[1,"full-background","d-flex","justify-content-center","align-items-center"],[1,"d-flex","justify-content-center","align-items-center"],[1,"card","p-4","shadow","mt-3",2,"width","30rem","height","30rem"],["src","/assets/logo.png","alt","","srcset","",1,"mx-auto","d-block","mb-4",2,"height","50px","width","50px"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control"],["class","text-danger","style","padding: 10px; border-radius: 5px; background-color: #f8d7da",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password",1,"form-control"],[1,"d-flex","justify-content-center","align-items-center","mt-5"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-success","ms-3",3,"click"],[1,"d-flex","justify-content-evenly","align-items-center","mt-5",2,"border","1px solid black","border-radius","5px","padding","10px","background-color","#f8d7da"],["type","button",1,"btn","btn-danger",2,"padding","10px"],["type","button",1,"btn","btn","btn-danger","ms-3",2,"padding","10px"],[1,"text-danger",2,"padding","10px","border-radius","5px","background-color","#f8d7da"]],template:function(a,e){if(a&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),c(3,"img",3),t(4,"form",4),f("ngSubmit",function(){return e.submitForm()}),t(5,"div",5)(6,"label",6),n(7,"Email"),r(),c(8,"input",7),r(),x(9,R,2,0,"div",8),t(10,"div",5)(11,"label",9),n(12,"Contrase\xF1a"),r(),c(13,"input",10),r(),t(14,"div",11)(15,"button",12),n(16," Ingresar "),r(),t(17,"button",13),f("click",function(){return e.irRegistro()}),n(18," Ir a registro "),r()(),t(19,"div",14)(20,"button",15),n(21," Especialista "),r(),t(22,"button",16),n(23," Paciente "),r()()()()()()),a&2){let l;d(4),u("formGroup",e.formLogin),d(5),u("ngIf",e.formLogin==null||(l=e.formLogin.get("email"))==null||l.errors==null?null:l.errors.pattern),d(6),u("disabled",!(e.formLogin!=null&&e.formLogin.valid))}},dependencies:[C,w,D,M,F,N,j,A,P],styles:["[_nghost-%COMP%]{display:block;background-image:url(/assets/pattern.jpg)}.full-background[_ngcontent-%COMP%]{width:100vw;height:100vh}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px}"]});let s=o;return s})();export{K as LoginComponent};
