import{C as b,E as a,F as P,H as r,I as s,K as f,M as o,N as c,O as n}from"./chunk-IXUCQNA3.js";import{$ as m,V as p}from"./chunk-LTJRTMYM.js";import{g as h}from"./chunk-5G567QLT.js";var j=(()=>{let i=class i{constructor(){this.firestore=m(b)}getPacientes(){return f(r(this.firestore,"pacientes"))}ingresarTurnoPaciente(t,e,u,d,F,g,q){return P(r(this.firestore,"turnos"),{paciente:t,medico:g+" "+q,medicoid:u,especialidad:e,medicoemail:d,hora:F,estado:"abierto",fechaPedido:new Date,reseniaOk:!1,calificacion:null,encuesta:null,historial:!1})}obtenerTurnosPorPaciente(t){let e=o(r(this.firestore,"turnos"),n("paciente","==",t));return a(e,{idField:"id"})}obtenerFirestoreUsuarioPaciente(t){return h(this,null,function*(){let e=o(r(this.firestore,"pacientes"),n("email","==",t)),u=yield f(e);return u.empty?[]:u.docs.map(d=>d.data())})}ingresarEncuesta(t,e){return c(s(this.firestore,"turnos",t),{encuesta:e})}cancelarTurno(t,e){return c(s(this.firestore,"turnos",t),{estado:"cancelado",comentario:e})}ingresarResenia(t,e){return c(s(this.firestore,"turnos",t),{resenia:e,reseniaOk:!0})}ingresarCalificacionMedico(t,e){return c(s(this.firestore,"turnos",t),{calificacion:e})}obtenerHistorialClinico(t){let e=o(r(this.firestore,"historial"),n("paciente","==",t));return a(e,{idField:"id"})}obtenerTurnosPaciente(t){let e=o(r(this.firestore,"turnos"),n("paciente","==",t));return a(e,{idField:"id"})}obtenerPacientePorEmail(t){let e=o(r(this.firestore,"pacientes"),n("email","==",t));return a(e,{idField:"id"})}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"});let l=i;return l})();export{j as a};
